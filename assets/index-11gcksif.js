(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function kS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var kd={exports:{}},_l={};var X_;function zS(){if(X_)return _l;X_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return _l.Fragment=t,_l.jsx=i,_l.jsxs=i,_l}var J_;function BS(){return J_||(J_=1,kd.exports=zS()),kd.exports}var _t=BS(),zd={exports:{}},Et={};var Z_;function qS(){if(Z_)return Et;Z_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.iterator;function G(V){return V===null||typeof V!="object"?null:(V=D&&V[D]||V["@@iterator"],typeof V=="function"?V:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,tt={};function ht(V,Y,et){this.props=V,this.context=Y,this.refs=tt,this.updater=et||J}ht.prototype.isReactComponent={},ht.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},ht.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function yt(){}yt.prototype=ht.prototype;function gt(V,Y,et){this.props=V,this.context=Y,this.refs=tt,this.updater=et||J}var kt=gt.prototype=new yt;kt.constructor=gt,Z(kt,ht.prototype),kt.isPureReactComponent=!0;var ee=Array.isArray;function Dt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(V,Y,et){var rt=et.ref;return{$$typeof:r,type:V,key:Y,ref:rt!==void 0?rt:null,props:et}}function M(V,Y){return I(V.type,Y,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function L(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(et){return Y[et]})}var w=/\/+/g;function st(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):Y.toString(36)}function bt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Dt,Dt):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function j(V,Y,et,rt,pt){var wt=typeof V;(wt==="undefined"||wt==="boolean")&&(V=null);var xt=!1;if(V===null)xt=!0;else switch(wt){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(V.$$typeof){case r:case t:xt=!0;break;case T:return xt=V._init,j(xt(V._payload),Y,et,rt,pt)}}if(xt)return pt=pt(V),xt=rt===""?"."+st(V,0):rt,ee(pt)?(et="",xt!=null&&(et=xt.replace(w,"$&/")+"/"),j(pt,Y,et,"",function(os){return os})):pt!=null&&(N(pt)&&(pt=M(pt,et+(pt.key==null||V&&V.key===pt.key?"":(""+pt.key).replace(w,"$&/")+"/")+xt)),Y.push(pt)),1;xt=0;var Oe=rt===""?".":rt+":";if(ee(V))for(var se=0;se<V.length;se++)rt=V[se],wt=Oe+st(rt,se),xt+=j(rt,Y,et,wt,pt);else if(se=G(V),typeof se=="function")for(V=se.call(V),se=0;!(rt=V.next()).done;)rt=rt.value,wt=Oe+st(rt,se++),xt+=j(rt,Y,et,wt,pt);else if(wt==="object"){if(typeof V.then=="function")return j(bt(V),Y,et,rt,pt);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return xt}function W(V,Y,et){if(V==null)return V;var rt=[],pt=0;return j(V,rt,"","",function(wt){return Y.call(et,wt,pt++)}),rt}function ct(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(et){(V._status===0||V._status===-1)&&(V._status=1,V._result=et)},function(et){(V._status===0||V._status===-1)&&(V._status=2,V._result=et)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var zt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ft={map:W,forEach:function(V,Y,et){W(V,function(){Y.apply(this,arguments)},et)},count:function(V){var Y=0;return W(V,function(){Y++}),Y},toArray:function(V){return W(V,function(Y){return Y})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Et.Activity=S,Et.Children=Ft,Et.Component=ht,Et.Fragment=i,Et.Profiler=l,Et.PureComponent=gt,Et.StrictMode=s,Et.Suspense=v,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Et.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},Et.cache=function(V){return function(){return V.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(V,Y,et){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var rt=Z({},V.props),pt=V.key;if(Y!=null)for(wt in Y.key!==void 0&&(pt=""+Y.key),Y)!b.call(Y,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&Y.ref===void 0||(rt[wt]=Y[wt]);var wt=arguments.length-2;if(wt===1)rt.children=et;else if(1<wt){for(var xt=Array(wt),Oe=0;Oe<wt;Oe++)xt[Oe]=arguments[Oe+2];rt.children=xt}return I(V.type,pt,rt)},Et.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Et.createElement=function(V,Y,et){var rt,pt={},wt=null;if(Y!=null)for(rt in Y.key!==void 0&&(wt=""+Y.key),Y)b.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(pt[rt]=Y[rt]);var xt=arguments.length-2;if(xt===1)pt.children=et;else if(1<xt){for(var Oe=Array(xt),se=0;se<xt;se++)Oe[se]=arguments[se+2];pt.children=Oe}if(V&&V.defaultProps)for(rt in xt=V.defaultProps,xt)pt[rt]===void 0&&(pt[rt]=xt[rt]);return I(V,wt,pt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(V){return{$$typeof:p,render:V}},Et.isValidElement=N,Et.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:ct}},Et.memo=function(V,Y){return{$$typeof:y,type:V,compare:Y===void 0?null:Y}},Et.startTransition=function(V){var Y=C.T,et={};C.T=et;try{var rt=V(),pt=C.S;pt!==null&&pt(et,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Dt,zt)}catch(wt){zt(wt)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),C.T=Y}},Et.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Et.use=function(V){return C.H.use(V)},Et.useActionState=function(V,Y,et){return C.H.useActionState(V,Y,et)},Et.useCallback=function(V,Y){return C.H.useCallback(V,Y)},Et.useContext=function(V){return C.H.useContext(V)},Et.useDebugValue=function(){},Et.useDeferredValue=function(V,Y){return C.H.useDeferredValue(V,Y)},Et.useEffect=function(V,Y){return C.H.useEffect(V,Y)},Et.useEffectEvent=function(V){return C.H.useEffectEvent(V)},Et.useId=function(){return C.H.useId()},Et.useImperativeHandle=function(V,Y,et){return C.H.useImperativeHandle(V,Y,et)},Et.useInsertionEffect=function(V,Y){return C.H.useInsertionEffect(V,Y)},Et.useLayoutEffect=function(V,Y){return C.H.useLayoutEffect(V,Y)},Et.useMemo=function(V,Y){return C.H.useMemo(V,Y)},Et.useOptimistic=function(V,Y){return C.H.useOptimistic(V,Y)},Et.useReducer=function(V,Y,et){return C.H.useReducer(V,Y,et)},Et.useRef=function(V){return C.H.useRef(V)},Et.useState=function(V){return C.H.useState(V)},Et.useSyncExternalStore=function(V,Y,et){return C.H.useSyncExternalStore(V,Y,et)},Et.useTransition=function(){return C.H.useTransition()},Et.version="19.2.4",Et}var $_;function Dm(){return $_||($_=1,zd.exports=qS()),zd.exports}var Ie=Dm();const jS=kS(Ie);var Bd={exports:{}},vl={},qd={exports:{}},jd={};var W_;function HS(){return W_||(W_=1,(function(r){function t(j,W){var ct=j.length;j.push(W);t:for(;0<ct;){var zt=ct-1>>>1,Ft=j[zt];if(0<l(Ft,W))j[zt]=W,j[ct]=Ft,ct=zt;else break t}}function i(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var W=j[0],ct=j.pop();if(ct!==W){j[0]=ct;t:for(var zt=0,Ft=j.length,V=Ft>>>1;zt<V;){var Y=2*(zt+1)-1,et=j[Y],rt=Y+1,pt=j[rt];if(0>l(et,ct))rt<Ft&&0>l(pt,et)?(j[zt]=pt,j[rt]=ct,zt=rt):(j[zt]=et,j[Y]=ct,zt=Y);else if(rt<Ft&&0>l(pt,ct))j[zt]=pt,j[rt]=ct,zt=rt;else break t}}return W}function l(j,W){var ct=j.sortIndex-W.sortIndex;return ct!==0?ct:j.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var v=[],y=[],T=1,S=null,D=3,G=!1,J=!1,Z=!1,tt=!1,ht=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function kt(j){for(var W=i(y);W!==null;){if(W.callback===null)s(y);else if(W.startTime<=j)s(y),W.sortIndex=W.expirationTime,t(v,W);else break;W=i(y)}}function ee(j){if(Z=!1,kt(j),!J)if(i(v)!==null)J=!0,Dt||(Dt=!0,L());else{var W=i(y);W!==null&&bt(ee,W.startTime-j)}}var Dt=!1,C=-1,b=5,I=-1;function M(){return tt?!0:!(r.unstable_now()-I<b)}function N(){if(tt=!1,Dt){var j=r.unstable_now();I=j;var W=!0;try{t:{J=!1,Z&&(Z=!1,yt(C),C=-1),G=!0;var ct=D;try{e:{for(kt(j),S=i(v);S!==null&&!(S.expirationTime>j&&M());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,D=S.priorityLevel;var Ft=zt(S.expirationTime<=j);if(j=r.unstable_now(),typeof Ft=="function"){S.callback=Ft,kt(j),W=!0;break e}S===i(v)&&s(v),kt(j)}else s(v);S=i(v)}if(S!==null)W=!0;else{var V=i(y);V!==null&&bt(ee,V.startTime-j),W=!1}}break t}finally{S=null,D=ct,G=!1}W=void 0}}finally{W?L():Dt=!1}}}var L;if(typeof gt=="function")L=function(){gt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,st=w.port2;w.port1.onmessage=N,L=function(){st.postMessage(null)}}else L=function(){ht(N,0)};function bt(j,W){C=ht(function(){j(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(j){j.callback=null},r.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<j?Math.floor(1e3/j):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(j){switch(D){case 1:case 2:case 3:var W=3;break;default:W=D}var ct=D;D=W;try{return j()}finally{D=ct}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(j,W){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ct=D;D=j;try{return W()}finally{D=ct}},r.unstable_scheduleCallback=function(j,W,ct){var zt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?zt+ct:zt):ct=zt,j){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ct+Ft,j={id:T++,callback:W,priorityLevel:j,startTime:ct,expirationTime:Ft,sortIndex:-1},ct>zt?(j.sortIndex=ct,t(y,j),i(v)===null&&j===i(y)&&(Z?(yt(C),C=-1):Z=!0,bt(ee,ct-zt))):(j.sortIndex=Ft,t(v,j),J||G||(J=!0,Dt||(Dt=!0,L()))),j},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(j){var W=D;return function(){var ct=D;D=W;try{return j.apply(this,arguments)}finally{D=ct}}}})(jd)),jd}var tv;function GS(){return tv||(tv=1,qd.exports=HS()),qd.exports}var Hd={exports:{}},Ye={};var ev;function FS(){if(ev)return Ye;ev=1;var r=Dm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:v,containerInfo:y,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(v,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,T)},Ye.flushSync=function(v){var y=d.T,T=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=y,s.p=T,s.d.f()}},Ye.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(v,y))},Ye.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Ye.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:G}):T==="script"&&s.d.X(v,{crossOrigin:S,integrity:D,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);s.d.M(v,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(v)},Ye.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin);s.d.L(v,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(v,y){if(typeof v=="string")if(y){var T=p(y.as,y.crossOrigin);s.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(v)},Ye.requestFormReset=function(v){s.d.r(v)},Ye.unstable_batchedUpdates=function(v,y){return v(y)},Ye.useFormState=function(v,y,T){return d.H.useFormState(v,y,T)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.4",Ye}var nv;function QS(){if(nv)return Hd.exports;nv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Hd.exports=FS(),Hd.exports}var iv;function KS(){if(iv)return vl;iv=1;var r=GS(),t=Dm(),i=QS();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(s(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),yt=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),kt=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function st(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case ht:return"Profiler";case tt:return"StrictMode";case ee:return"Suspense";case Dt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case gt:return e.displayName||"Context";case yt:return(e._context.displayName||"Context")+".Consumer";case kt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:st(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return st(e(n))}catch{}}return null}var bt=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},zt=[],Ft=-1;function V(e){return{current:e}}function Y(e){0>Ft||(e.current=zt[Ft],zt[Ft]=null,Ft--)}function et(e,n){Ft++,zt[Ft]=e.current,e.current=n}var rt=V(null),pt=V(null),wt=V(null),xt=V(null);function Oe(e,n){switch(et(wt,n),et(pt,e),et(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?__(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=__(n),e=v_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(rt),et(rt,e)}function se(){Y(rt),Y(pt),Y(wt)}function os(e){e.memoizedState!==null&&et(xt,e);var n=rt.current,a=v_(n,e.type);n!==a&&(et(pt,e),et(rt,a))}function ta(e){pt.current===e&&(Y(rt),Y(pt)),xt.current===e&&(Y(xt),ml._currentValue=ct)}var ea,na;function ii(e){if(ea===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ea=n&&n[1]||"",na=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ea+e+na}var mo=!1;function ls(e,n){if(!e||mo)return"";mo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var z=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){z=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){z=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),k=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===k.length)for(o=R.length-1,h=k.length-1;1<=o&&0<=h&&R[o]!==k[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==k[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==k[h]){var H=`
`+R[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{mo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ii(a):""}function go(e,n){switch(e.tag){case 26:case 27:case 5:return ii(e.type);case 16:return ii("Lazy");case 13:return e.child!==n&&n!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return ls(e.type,!1);case 11:return ls(e.type.render,!1);case 1:return ls(e.type,!0);case 31:return ii("Activity");default:return""}}function po(e){try{var n="",a=null;do n+=go(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,Ve=r.unstable_scheduleCallback,lr=r.unstable_cancelCallback,zh=r.unstable_shouldYield,ru=r.unstable_requestPaint,We=r.unstable_now,us=r.unstable_getCurrentPriorityLevel,yo=r.unstable_ImmediatePriority,_o=r.unstable_UserBlockingPriority,ur=r.unstable_NormalPriority,Bh=r.unstable_LowPriority,su=r.unstable_IdlePriority,au=r.log,ou=r.unstable_setDisableYieldValue,qn=null,ze=null;function Rn(e){if(typeof au=="function"&&ou(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(qn,e)}catch{}}var fe=Math.clz32?Math.clz32:uu,lu=Math.log,ia=Math.LN2;function uu(e){return e>>>=0,e===0?32:31-(lu(e)/ia|0)|0}var ri=256,cs=262144,ve=4194304;function si(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ai(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=si(o):(g&=E,g!==0?h=si(g):a||(a=E&~e,a!==0&&(h=si(a))))):(E=o&~f,E!==0?h=si(E):g!==0?h=si(g):a||(a=o&~e,a!==0&&(h=si(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function jn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function qh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cu(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function oi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function hs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jh(e,n,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,k=e.hiddenUpdates;for(a=g&~a;0<a;){var H=31-fe(a),K=1<<H;E[H]=0,R[H]=-1;var z=k[H];if(z!==null)for(k[H]=null,H=0;H<z.length;H++){var q=z[H];q!==null&&(q.lane&=-536870913)}a&=~K}o!==0&&fs(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function fs(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-fe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function vo(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-fe(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Eo(e,n){var a=n&-n;return a=(a&42)!==0?1:ds(a),(a&(e.suspendedLanes|n))!==0?0:a}function ds(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function hu(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:j_(e.type))}function Hn(e,n){var a=W.p;try{return W.p=e,n()}finally{W.p=a}}var Gn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Gn,Le="__reactProps$"+Gn,li="__reactContainer$"+Gn,ra="__reactEvents$"+Gn,Hh="__reactListeners$"+Gn,fu="__reactHandles$"+Gn,du="__reactResources$"+Gn,ui="__reactMarker$"+Gn;function sa(e){delete e[Ee],delete e[Le],delete e[ra],delete e[Hh],delete e[fu]}function ci(e){var n=e[Ee];if(n)return n;for(var a=e.parentNode;a;){if(n=a[li]||a[Ee]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=R_(e);e!==null;){if(a=e[Ee])return a;e=R_(e)}return n}e=a,a=e.parentNode}return null}function In(e){if(e=e[Ee]||e[li]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function pn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function hi(e){var n=e[du];return n||(n=e[du]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[ui]=!0}var To=new Set,Ao={};function fi(e,n){di(e,n),di(e+"Capture",n)}function di(e,n){for(Ao[e]=n,e=0;e<n.length;e++)To.add(n[e])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},wo={};function mu(e){return _e.call(wo,e)?!0:_e.call(bo,e)?!1:So.test(e)?wo[e]=!0:(bo[e]=!0,!1)}function aa(e,n,a){if(mu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function yn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ae(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ro(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=cr(e)?"checked":"value";e._valueTracker=Ro(e,n,""+e[n])}}function ms(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=cr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gs=/[\n"\\]/g;function sn(e){return e.replace(gs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function oa(e,n,a,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+xe(n)):e.value!==""+xe(n)&&(e.value=""+xe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Io(e,g,xe(n)):a!=null?Io(e,g,xe(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+xe(E):e.removeAttribute("name")}function gu(e,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}a=a!=null?""+xe(a):"",n=n!=null?""+xe(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Qt(e)}function Io(e,n,a){n==="number"&&mi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function hr(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+xe(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function pu(e,n,a){if(n!=null&&(n=""+xe(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+xe(a):""}function fr(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(bt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=xe(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Qt(e)}function an(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var yu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||yu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Do(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Co(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Co(e,f,n[f])}function la(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(e){return dr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Fn(){}var No=null;function Cn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mr=null,gi=null;function ps(e){var n=In(e);if(n&&(e=n.stateNode)){var a=e[Le]||null;t:switch(e=n.stateNode,n.type){case"input":if(oa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Le]||null;if(!h)throw Error(s(90));oa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&ms(o)}break t;case"textarea":pu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&hr(e,!!a.multiple,n,!1)}}}var ca=!1;function gr(e,n,a){if(ca)return e(n,a);ca=!0;try{var o=e(n);return o}finally{if(ca=!1,(mr!==null||gi!==null)&&(hc(),mr&&(n=mr,e=gi,gi=mr=null,ps(n),e)))for(n=0;n<e.length;n++)ps(e[n])}}function Qn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Le]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ys=!1;if(Dn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){ys=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{ys=!1}var pi=null,Oo=null,_s=null;function Vo(){if(_s)return _s;var e,n=Oo,a=n.length,o,h="value"in pi?pi.value:pi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return _s=h.slice(e,1<o?1-o:void 0)}function vs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Mi(){return!0}function Kn(){return!1}function Be(e){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Mi:Kn,this.isPropagationStopped=Kn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=Be(Ui),pr=S({},Ui,{view:0,detail:0}),Mo=Be(pr),yr,ha,_i,fa=S({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(yr=e.screenX-_i.screenX,ha=e.screenY-_i.screenY):ha=yr=0,_i=e),yr)},movementY:function(e){return"movementY"in e?e.movementY:ha}}),Uo=Be(fa),Es=S({},fa,{dataTransfer:0}),vu=Be(Es),Eu=S({},pr,{relatedTarget:0}),Ts=Be(Eu),Lo=S({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),Tu=Be(Lo),da=S({},Ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Au=Be(da),Su=S({},Ui,{data:0}),vi=Be(Su),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ru[e])?!!n[e]:!1}function _r(){return Iu}var tn=S({},pr,{key:function(e){if(e.key){var n=bu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(e){return e.type==="keypress"?vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cu=Be(tn),Du=S({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Li=Be(Du),u=S({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),m=Be(u),_=S({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Be(_),x=S({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Be(x),$=S({},Ui,{newState:0,oldState:0}),At=Be($),de=[9,13,27,32],jt=Dn&&"CompositionEvent"in window,ae=null;Dn&&"documentMode"in document&&(ae=document.documentMode);var Nn=Dn&&"TextEvent"in window&&!ae,Ei=Dn&&(!jt||ae&&8<ae&&11>=ae),Yn=" ",Xn=!1;function As(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function lA(e,n){switch(e){case"compositionend":return ma(n);case"keypress":return n.which!==32?null:(Xn=!0,Yn);case"textInput":return e=n.data,e===Yn&&Xn?null:e;default:return null}}function uA(e,n){if(ga)return e==="compositionend"||!jt&&As(e,n)?(e=Vo(),_s=Oo=pi=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ei&&n.locale!=="ko"?null:n.data;default:return null}}var cA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!cA[e.type]:n==="textarea"}function Ng(e,n,a,o){mr?gi?gi.push(o):gi=[o]:mr=o,n=_c(n,"onChange"),0<n.length&&(a=new yi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var xo=null,Po=null;function hA(e){f_(e,0)}function Nu(e){var n=pn(e);if(ms(n))return e}function Og(e,n){if(e==="change")return n}var Vg=!1;if(Dn){var Gh;if(Dn){var Fh="oninput"in document;if(!Fh){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),Fh=typeof Mg.oninput=="function"}Gh=Fh}else Gh=!1;Vg=Gh&&(!document.documentMode||9<document.documentMode)}function Ug(){xo&&(xo.detachEvent("onpropertychange",Lg),Po=xo=null)}function Lg(e){if(e.propertyName==="value"&&Nu(Po)){var n=[];Ng(n,Po,e,Cn(e)),gr(hA,n)}}function fA(e,n,a){e==="focusin"?(Ug(),xo=n,Po=a,xo.attachEvent("onpropertychange",Lg)):e==="focusout"&&Ug()}function dA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nu(Po)}function mA(e,n){if(e==="click")return Nu(n)}function gA(e,n){if(e==="input"||e==="change")return Nu(n)}function pA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var _n=typeof Object.is=="function"?Object.is:pA;function ko(e,n){if(_n(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_e.call(n,h)||!_n(e[h],n[h]))return!1}return!0}function xg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pg(e,n){var a=xg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=xg(a)}}function kg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?kg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function zg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=mi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=mi(e.document)}return n}function Qh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var yA=Dn&&"documentMode"in document&&11>=document.documentMode,pa=null,Kh=null,zo=null,Yh=!1;function Bg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yh||pa==null||pa!==mi(o)||(o=pa,"selectionStart"in o&&Qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zo&&ko(zo,o)||(zo=o,o=_c(Kh,"onSelect"),0<o.length&&(n=new yi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=pa)))}function Ss(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ya={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},Xh={},qg={};Dn&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function bs(e){if(Xh[e])return Xh[e];if(!ya[e])return e;var n=ya[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in qg)return Xh[e]=n[a];return e}var jg=bs("animationend"),Hg=bs("animationiteration"),Gg=bs("animationstart"),_A=bs("transitionrun"),vA=bs("transitionstart"),EA=bs("transitioncancel"),Fg=bs("transitionend"),Qg=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function Jn(e,n){Qg.set(e,n),fi(n,[e])}var Ou=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},On=[],_a=0,Zh=0;function Vu(){for(var e=_a,n=Zh=_a=0;n<e;){var a=On[n];On[n++]=null;var o=On[n];On[n++]=null;var h=On[n];On[n++]=null;var f=On[n];if(On[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Kg(a,h,f)}}function Mu(e,n,a,o){On[_a++]=e,On[_a++]=n,On[_a++]=a,On[_a++]=o,Zh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function $h(e,n,a,o){return Mu(e,n,a,o),Uu(e)}function ws(e,n){return Mu(e,null,null,n),Uu(e)}function Kg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-fe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Uu(e){if(50<ol)throw ol=0,ld=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var va={};function TA(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,n,a,o){return new TA(e,n,a,o)}function Wh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xi(e,n){var a=e.alternate;return a===null?(a=vn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Yg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Lu(e,n,a,o,h,f){var g=0;if(o=e,typeof e=="function")Wh(e)&&(g=1);else if(typeof e=="string")g=RS(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=vn(31,a,n,h),e.elementType=I,e.lanes=f,e;case Z:return Rs(a.children,h,f,n);case tt:g=8,h|=24;break;case ht:return e=vn(12,a,n,h|2),e.elementType=ht,e.lanes=f,e;case ee:return e=vn(13,a,n,h),e.elementType=ee,e.lanes=f,e;case Dt:return e=vn(19,a,n,h),e.elementType=Dt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gt:g=10;break t;case yt:g=9;break t;case kt:g=11;break t;case C:g=14;break t;case b:g=16,o=null;break t}g=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=vn(g,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Rs(e,n,a,o){return e=vn(7,e,o,n),e.lanes=a,e}function tf(e,n,a){return e=vn(6,e,null,n),e.lanes=a,e}function Xg(e){var n=vn(18,null,null,0);return n.stateNode=e,n}function ef(e,n,a){return n=vn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Jg=new WeakMap;function Vn(e,n){if(typeof e=="object"&&e!==null){var a=Jg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:po(n)},Jg.set(e,n),n)}return{value:e,source:n,stack:po(n)}}var Ea=[],Ta=0,xu=null,Bo=0,Mn=[],Un=0,vr=null,Ti=1,Ai="";function Pi(e,n){Ea[Ta++]=Bo,Ea[Ta++]=xu,xu=e,Bo=n}function Zg(e,n,a){Mn[Un++]=Ti,Mn[Un++]=Ai,Mn[Un++]=vr,vr=e;var o=Ti;e=Ai;var h=32-fe(o)-1;o&=~(1<<h),a+=1;var f=32-fe(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ti=1<<32-fe(n)+h|a<<h|o,Ai=f+e}else Ti=1<<f|a<<h|o,Ai=e}function nf(e){e.return!==null&&(Pi(e,1),Zg(e,1,0))}function rf(e){for(;e===xu;)xu=Ea[--Ta],Ea[Ta]=null,Bo=Ea[--Ta],Ea[Ta]=null;for(;e===vr;)vr=Mn[--Un],Mn[Un]=null,Ai=Mn[--Un],Mn[Un]=null,Ti=Mn[--Un],Mn[Un]=null}function $g(e,n){Mn[Un++]=Ti,Mn[Un++]=Ai,Mn[Un++]=vr,Ti=n.id,Ai=n.overflow,vr=e}var qe=null,ne=null,Lt=!1,Er=null,Ln=!1,sf=Error(s(519));function Tr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qo(Vn(n,e)),sf}function Wg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[Le]=o,a){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(a=0;a<ul.length;a++)Ct(ul[a],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),gu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),fr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||p_(n.textContent,a)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||Tr(e,!0)}function tp(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:qe=qe.return}}function Aa(e){if(e!==qe)return!1;if(!Lt)return tp(e),Lt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Sd(e.type,e.memoizedProps)),a=!a),a&&ne&&Tr(e),tp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=w_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=w_(e)}else n===27?(n=ne,Lr(e.type)?(e=Cd,Cd=null,ne=e):ne=n):ne=qe?Pn(e.stateNode.nextSibling):null;return!0}function Is(){ne=qe=null,Lt=!1}function af(){var e=Er;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),Er=null),e}function qo(e){Er===null?Er=[e]:Er.push(e)}var of=V(null),Cs=null,ki=null;function Ar(e,n,a){et(of,n._currentValue),n._currentValue=a}function zi(e){e._currentValue=of.current,Y(of)}function lf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function uf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),lf(f.return,a,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),lf(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Sa(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=h.type;_n(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===xt.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}h=h.return}e!==null&&uf(n,e,a,o),n.flags|=262144}function Pu(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ds(e){Cs=e,ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return ep(Cs,e)}function ku(e,n){return Cs===null&&Ds(e),ep(e,n)}function ep(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ki===null){if(e===null)throw Error(s(308));ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ki=ki.next=n;return a}var AA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},SA=r.unstable_scheduleCallback,bA=r.unstable_NormalPriority,Se={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new AA,data:new Map,refCount:0}}function jo(e){e.refCount--,e.refCount===0&&SA(bA,function(){e.controller.abort()})}var Ho=null,hf=0,ba=0,wa=null;function wA(e,n){if(Ho===null){var a=Ho=[];hf=0,ba=md(),wa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return hf++,n.then(np,np),n}function np(){if(--hf===0&&Ho!==null){wa!==null&&(wa.status="fulfilled");var e=Ho;Ho=null,ba=0,wa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function RA(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var ip=j.S;j.S=function(e,n){By=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&wA(e,n),ip!==null&&ip(e,n)};var Ns=V(null);function ff(){var e=Ns.current;return e!==null?e:Wt.pooledCache}function zu(e,n){n===null?et(Ns,Ns.current):et(Ns,n.pool)}function rp(){var e=ff();return e===null?null:{parent:Se._currentValue,pool:e}}var Ra=Error(s(460)),df=Error(s(474)),Bu=Error(s(542)),qu={then:function(){}};function sp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ap(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Fn,Fn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,lp(e),e;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,lp(e),e}throw Vs=n,Ra}}function Os(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Vs=a,Ra):a}}var Vs=null;function op(){if(Vs===null)throw Error(s(459));var e=Vs;return Vs=null,e}function lp(e){if(e===Ra||e===Bu)throw Error(s(483))}var Ia=null,Go=0;function ju(e){var n=Go;return Go+=1,Ia===null&&(Ia=[]),ap(Ia,e,n)}function Fo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Hu(e,n){throw n.$$typeof===D?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function up(e){function n(U,O){if(e){var P=U.deletions;P===null?(U.deletions=[O],U.flags|=16):P.push(O)}}function a(U,O){if(!e)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function o(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=xi(U,O),U.index=0,U.sibling=null,U}function f(U,O,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<O?(U.flags|=67108866,O):P):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,P,Q){return O===null||O.tag!==6?(O=tf(P,U.mode,Q),O.return=U,O):(O=h(O,P),O.return=U,O)}function R(U,O,P,Q){var lt=P.type;return lt===Z?H(U,O,P.props.children,Q,P.key):O!==null&&(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&Os(lt)===O.type)?(O=h(O,P.props),Fo(O,P),O.return=U,O):(O=Lu(P.type,P.key,P.props,null,U.mode,Q),Fo(O,P),O.return=U,O)}function k(U,O,P,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=ef(P,U.mode,Q),O.return=U,O):(O=h(O,P.children||[]),O.return=U,O)}function H(U,O,P,Q,lt){return O===null||O.tag!==7?(O=Rs(P,U.mode,Q,lt),O.return=U,O):(O=h(O,P),O.return=U,O)}function K(U,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=tf(""+O,U.mode,P),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case G:return P=Lu(O.type,O.key,O.props,null,U.mode,P),Fo(P,O),P.return=U,P;case J:return O=ef(O,U.mode,P),O.return=U,O;case b:return O=Os(O),K(U,O,P)}if(bt(O)||L(O))return O=Rs(O,U.mode,P,null),O.return=U,O;if(typeof O.then=="function")return K(U,ju(O),P);if(O.$$typeof===gt)return K(U,ku(U,O),P);Hu(U,O)}return null}function z(U,O,P,Q){var lt=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return lt!==null?null:E(U,O,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===lt?R(U,O,P,Q):null;case J:return P.key===lt?k(U,O,P,Q):null;case b:return P=Os(P),z(U,O,P,Q)}if(bt(P)||L(P))return lt!==null?null:H(U,O,P,Q,null);if(typeof P.then=="function")return z(U,O,ju(P),Q);if(P.$$typeof===gt)return z(U,O,ku(U,P),Q);Hu(U,P)}return null}function q(U,O,P,Q,lt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(P)||null,E(O,U,""+Q,lt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:return U=U.get(Q.key===null?P:Q.key)||null,R(O,U,Q,lt);case J:return U=U.get(Q.key===null?P:Q.key)||null,k(O,U,Q,lt);case b:return Q=Os(Q),q(U,O,P,Q,lt)}if(bt(Q)||L(Q))return U=U.get(P)||null,H(O,U,Q,lt,null);if(typeof Q.then=="function")return q(U,O,P,ju(Q),lt);if(Q.$$typeof===gt)return q(U,O,P,ku(O,Q),lt);Hu(O,Q)}return null}function at(U,O,P,Q){for(var lt=null,Bt=null,ot=O,Rt=O=0,Ot=null;ot!==null&&Rt<P.length;Rt++){ot.index>Rt?(Ot=ot,ot=null):Ot=ot.sibling;var qt=z(U,ot,P[Rt],Q);if(qt===null){ot===null&&(ot=Ot);break}e&&ot&&qt.alternate===null&&n(U,ot),O=f(qt,O,Rt),Bt===null?lt=qt:Bt.sibling=qt,Bt=qt,ot=Ot}if(Rt===P.length)return a(U,ot),Lt&&Pi(U,Rt),lt;if(ot===null){for(;Rt<P.length;Rt++)ot=K(U,P[Rt],Q),ot!==null&&(O=f(ot,O,Rt),Bt===null?lt=ot:Bt.sibling=ot,Bt=ot);return Lt&&Pi(U,Rt),lt}for(ot=o(ot);Rt<P.length;Rt++)Ot=q(ot,U,Rt,P[Rt],Q),Ot!==null&&(e&&Ot.alternate!==null&&ot.delete(Ot.key===null?Rt:Ot.key),O=f(Ot,O,Rt),Bt===null?lt=Ot:Bt.sibling=Ot,Bt=Ot);return e&&ot.forEach(function(Br){return n(U,Br)}),Lt&&Pi(U,Rt),lt}function ft(U,O,P,Q){if(P==null)throw Error(s(151));for(var lt=null,Bt=null,ot=O,Rt=O=0,Ot=null,qt=P.next();ot!==null&&!qt.done;Rt++,qt=P.next()){ot.index>Rt?(Ot=ot,ot=null):Ot=ot.sibling;var Br=z(U,ot,qt.value,Q);if(Br===null){ot===null&&(ot=Ot);break}e&&ot&&Br.alternate===null&&n(U,ot),O=f(Br,O,Rt),Bt===null?lt=Br:Bt.sibling=Br,Bt=Br,ot=Ot}if(qt.done)return a(U,ot),Lt&&Pi(U,Rt),lt;if(ot===null){for(;!qt.done;Rt++,qt=P.next())qt=K(U,qt.value,Q),qt!==null&&(O=f(qt,O,Rt),Bt===null?lt=qt:Bt.sibling=qt,Bt=qt);return Lt&&Pi(U,Rt),lt}for(ot=o(ot);!qt.done;Rt++,qt=P.next())qt=q(ot,U,Rt,qt.value,Q),qt!==null&&(e&&qt.alternate!==null&&ot.delete(qt.key===null?Rt:qt.key),O=f(qt,O,Rt),Bt===null?lt=qt:Bt.sibling=qt,Bt=qt);return e&&ot.forEach(function(PS){return n(U,PS)}),Lt&&Pi(U,Rt),lt}function $t(U,O,P,Q){if(typeof P=="object"&&P!==null&&P.type===Z&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var lt=P.key;O!==null;){if(O.key===lt){if(lt=P.type,lt===Z){if(O.tag===7){a(U,O.sibling),Q=h(O,P.props.children),Q.return=U,U=Q;break t}}else if(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&Os(lt)===O.type){a(U,O.sibling),Q=h(O,P.props),Fo(Q,P),Q.return=U,U=Q;break t}a(U,O);break}else n(U,O);O=O.sibling}P.type===Z?(Q=Rs(P.props.children,U.mode,Q,P.key),Q.return=U,U=Q):(Q=Lu(P.type,P.key,P.props,null,U.mode,Q),Fo(Q,P),Q.return=U,U=Q)}return g(U);case J:t:{for(lt=P.key;O!==null;){if(O.key===lt)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(U,O.sibling),Q=h(O,P.children||[]),Q.return=U,U=Q;break t}else{a(U,O);break}else n(U,O);O=O.sibling}Q=ef(P,U.mode,Q),Q.return=U,U=Q}return g(U);case b:return P=Os(P),$t(U,O,P,Q)}if(bt(P))return at(U,O,P,Q);if(L(P)){if(lt=L(P),typeof lt!="function")throw Error(s(150));return P=lt.call(P),ft(U,O,P,Q)}if(typeof P.then=="function")return $t(U,O,ju(P),Q);if(P.$$typeof===gt)return $t(U,O,ku(U,P),Q);Hu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(U,O.sibling),Q=h(O,P),Q.return=U,U=Q):(a(U,O),Q=tf(P,U.mode,Q),Q.return=U,U=Q),g(U)):a(U,O)}return function(U,O,P,Q){try{Go=0;var lt=$t(U,O,P,Q);return Ia=null,lt}catch(ot){if(ot===Ra||ot===Bu)throw ot;var Bt=vn(29,ot,null,U.mode);return Bt.lanes=Q,Bt.return=U,Bt}}}var Ms=up(!0),cp=up(!1),Sr=!1;function mf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function br(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wr(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Uu(e),Kg(e,null,a),n}return Mu(e,o,n,a),Uu(e)}function Qo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,vo(e,a)}}function pf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var yf=!1;function Ko(){if(yf){var e=wa;if(e!==null)throw e}}function Yo(e,n,a,o){yf=!1;var h=e.updateQueue;Sr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,k=R.next;R.next=null,g===null?f=k:g.next=k,g=R;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=k:E.next=k,H.lastBaseUpdate=R))}if(f!==null){var K=h.baseState;g=0,H=k=R=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Nt&z)===z:(o&z)===z){z!==0&&z===ba&&(yf=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,ft=E;z=n;var $t=a;switch(ft.tag){case 1:if(at=ft.payload,typeof at=="function"){K=at.call($t,K,z);break t}K=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=ft.payload,z=typeof at=="function"?at.call($t,K,z):at,z==null)break t;K=S({},K,z);break t;case 2:Sr=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(k=H=q,R=K):H=H.next=q,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);H===null&&(R=K),h.baseState=R,h.firstBaseUpdate=k,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Nr|=g,e.lanes=g,e.memoizedState=K}}function hp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function fp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)hp(a[e],n)}var Ca=V(null),Gu=V(0);function dp(e,n){e=Yi,et(Gu,e),et(Ca,n),Yi=e|n.baseLanes}function _f(){et(Gu,Yi),et(Ca,Ca.current)}function vf(){Yi=Gu.current,Y(Ca),Y(Gu)}var En=V(null),xn=null;function Rr(e){var n=e.alternate;et(me,me.current&1),et(En,e),xn===null&&(n===null||Ca.current!==null||n.memoizedState!==null)&&(xn=e)}function Ef(e){et(me,me.current),et(En,e),xn===null&&(xn=e)}function mp(e){e.tag===22?(et(me,me.current),et(En,e),xn===null&&(xn=e)):Ir()}function Ir(){et(me,me.current),et(En,En.current)}function Tn(e){Y(En),xn===e&&(xn=null),Y(me)}var me=V(0);function Fu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Rd(a)||Id(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Bi=0,St=null,Jt=null,be=null,Qu=!1,Da=!1,Us=!1,Ku=0,Xo=0,Na=null,IA=0;function ue(){throw Error(s(321))}function Tf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!_n(e[a],n[a]))return!1;return!0}function Af(e,n,a,o,h,f){return Bi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=e===null||e.memoizedState===null?Zp:Pf,Us=!1,f=a(o,h),Us=!1,Da&&(f=pp(n,a,o,h)),gp(e),f}function gp(e){j.H=$o;var n=Jt!==null&&Jt.next!==null;if(Bi=0,be=Jt=St=null,Qu=!1,Xo=0,Na=null,n)throw Error(s(300));e===null||we||(e=e.dependencies,e!==null&&Pu(e)&&(we=!0))}function pp(e,n,a,o){St=e;var h=0;do{if(Da&&(Na=null),Xo=0,Da=!1,25<=h)throw Error(s(301));if(h+=1,be=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=$p,f=n(a,o)}while(Da);return f}function CA(){var e=j.H,n=e.useState()[0];return n=typeof n.then=="function"?Jo(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(St.flags|=1024),n}function Sf(){var e=Ku!==0;return Ku=0,e}function bf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function wf(e){if(Qu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Qu=!1}Bi=0,be=Jt=St=null,Da=!1,Xo=Ku=0,Na=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?St.memoizedState=be=e:be=be.next=e,be}function ge(){if(Jt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=be===null?St.memoizedState:be.next;if(n!==null)be=n,Jt=e;else{if(e===null)throw St.alternate===null?Error(s(467)):Error(s(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},be===null?St.memoizedState=be=e:be=be.next=e}return be}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(e){var n=Xo;return Xo+=1,Na===null&&(Na=[]),e=ap(Na,e,n),n=St,(be===null?n.memoizedState:be.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?Zp:Pf),e}function Xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jo(e);if(e.$$typeof===gt)return je(e)}throw Error(s(438,String(e)))}function Rf(e){var n=null,a=St.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Yu(),St.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=M;return n.index++,a}function qi(e,n){return typeof n=="function"?n(e):n}function Ju(e){var n=ge();return If(n,Jt,e)}function If(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,k=n,H=!1;do{var K=k.lane&-536870913;if(K!==k.lane?(Nt&K)===K:(Bi&K)===K){var z=k.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),K===ba&&(H=!0);else if((Bi&z)===z){k=k.next,z===ba&&(H=!0);continue}else K={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=K,g=f):R=R.next=K,St.lanes|=z,Nr|=z;K=k.action,Us&&a(f,K),f=k.hasEagerState?k.eagerState:a(f,K)}else z={lane:K,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=z,g=f):R=R.next=z,St.lanes|=K,Nr|=K;k=k.next}while(k!==null&&k!==n);if(R===null?g=f:R.next=E,!_n(f,e.memoizedState)&&(we=!0,H&&(a=wa,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Cf(e){var n=ge(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);_n(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function yp(e,n,a){var o=St,h=ge(),f=Lt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!_n((Jt||h).memoizedState,a);if(g&&(h.memoizedState=a,we=!0),h=h.queue,Of(Ep.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||be!==null&&be.memoizedState.tag&1){if(o.flags|=2048,Oa(9,{destroy:void 0},vp.bind(null,o,h,a,n),null),Wt===null)throw Error(s(349));f||(Bi&127)!==0||_p(o,n,a)}return a}function _p(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=St.updateQueue,n===null?(n=Yu(),St.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function vp(e,n,a,o){n.value=a,n.getSnapshot=o,Tp(n)&&Ap(e)}function Ep(e,n,a){return a(function(){Tp(n)&&Ap(e)})}function Tp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!_n(e,a)}catch{return!0}}function Ap(e){var n=ws(e,2);n!==null&&hn(n,e,2)}function Df(e){var n=en();if(typeof e=="function"){var a=e;if(e=a(),Us){Rn(!0);try{a()}finally{Rn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},n}function Sp(e,n,a,o){return e.baseState=a,If(e,Jt,typeof o=="function"?o:qi)}function DA(e,n,a,o,h){if(Wu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};j.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,bp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function bp(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=j.T,g={};j.T=g;try{var E=a(h,o),R=j.S;R!==null&&R(g,E),wp(e,n,E)}catch(k){Nf(e,n,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),j.T=f}}else try{f=a(h,o),wp(e,n,f)}catch(k){Nf(e,n,k)}}function wp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Rp(e,n,o)},function(o){return Nf(e,n,o)}):Rp(e,n,a)}function Rp(e,n,a){n.status="fulfilled",n.value=a,Ip(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,bp(e,a)))}function Nf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Ip(n),n=n.next;while(n!==o)}e.action=null}function Ip(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Cp(e,n){return n}function Dp(e,n){if(Lt){var a=Wt.formState;if(a!==null){t:{var o=St;if(Lt){if(ne){e:{for(var h=ne,f=Ln;h.nodeType!==8;){if(!f){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=Pn(h.nextSibling),o=h.data==="F!";break t}}Tr(o)}o=!1}o&&(n=a[0])}}return a=en(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cp,lastRenderedState:n},a.queue=o,a=Yp.bind(null,St,o),o.dispatch=a,o=Df(!1),f=xf.bind(null,St,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=DA.bind(null,St,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Np(e){var n=ge();return Op(n,Jt,e)}function Op(e,n,a){if(n=If(e,n,Cp)[0],e=Ju(qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Jo(n)}catch(g){throw g===Ra?Bu:g}else o=n;n=ge();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(St.flags|=2048,Oa(9,{destroy:void 0},NA.bind(null,h,a),null)),[o,f,e]}function NA(e,n){e.action=n}function Vp(e){var n=ge(),a=Jt;if(a!==null)return Op(n,a,e);ge(),n=n.memoizedState,a=ge();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Oa(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=Yu(),St.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Mp(){return ge().memoizedState}function Zu(e,n,a,o){var h=en();St.flags|=e,h.memoizedState=Oa(1|n,{destroy:void 0},a,o===void 0?null:o)}function $u(e,n,a,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&Tf(o,Jt.memoizedState.deps)?h.memoizedState=Oa(n,f,a,o):(St.flags|=e,h.memoizedState=Oa(1|n,f,a,o))}function Up(e,n){Zu(8390656,8,e,n)}function Of(e,n){$u(2048,8,e,n)}function OA(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=Yu(),St.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Lp(e){var n=ge().memoizedState;return OA({ref:n,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function xp(e,n){return $u(4,2,e,n)}function Pp(e,n){return $u(4,4,e,n)}function kp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function zp(e,n,a){a=a!=null?a.concat([e]):null,$u(4,4,kp.bind(null,n,e),a)}function Vf(){}function Bp(e,n){var a=ge();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Tf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function qp(e,n){var a=ge();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Tf(n,o[1]))return o[0];if(o=e(),Us){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[o,n],o}function Mf(e,n,a){return a===void 0||(Bi&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=jy(),St.lanes|=e,Nr|=e,a)}function jp(e,n,a,o){return _n(a,n)?a:Ca.current!==null?(e=Mf(e,a,o),_n(e,n)||(we=!0),e):(Bi&42)===0||(Bi&1073741824)!==0&&(Nt&261930)===0?(we=!0,e.memoizedState=a):(e=jy(),St.lanes|=e,Nr|=e,n)}function Hp(e,n,a,o,h){var f=W.p;W.p=f!==0&&8>f?f:8;var g=j.T,E={};j.T=E,xf(e,!1,n,a);try{var R=h(),k=j.S;if(k!==null&&k(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=RA(R,o);Zo(e,n,H,bn(e))}else Zo(e,n,o,bn(e))}catch(K){Zo(e,n,{then:function(){},status:"rejected",reason:K},bn())}finally{W.p=f,g!==null&&E.types!==null&&(g.types=E.types),j.T=g}}function VA(){}function Uf(e,n,a,o){if(e.tag!==5)throw Error(s(476));var h=Gp(e).queue;Hp(e,h,n,ct,a===null?VA:function(){return Fp(e),a(o)})}function Gp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:ct},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Fp(e){var n=Gp(e);n.next===null&&(n=e.alternate.memoizedState),Zo(e,n.next.queue,{},bn())}function Lf(){return je(ml)}function Qp(){return ge().memoizedState}function Kp(){return ge().memoizedState}function MA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=bn();e=br(a);var o=wr(n,e,a);o!==null&&(hn(o,n,a),Qo(o,n,a)),n={cache:cf()},e.payload=n;return}n=n.return}}function UA(e,n,a){var o=bn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Wu(e)?Xp(n,a):(a=$h(e,n,a,o),a!==null&&(hn(a,e,o),Jp(a,n,o)))}function Yp(e,n,a){var o=bn();Zo(e,n,a,o)}function Zo(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wu(e))Xp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,_n(E,g))return Mu(e,n,h,0),Wt===null&&Vu(),!1}catch{}if(a=$h(e,n,h,o),a!==null)return hn(a,e,o),Jp(a,n,o),!0}return!1}function xf(e,n,a,o){if(o={lane:2,revertLane:md(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Wu(e)){if(n)throw Error(s(479))}else n=$h(e,a,o,2),n!==null&&hn(n,e,2)}function Wu(e){var n=e.alternate;return e===St||n!==null&&n===St}function Xp(e,n){Da=Qu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Jp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,vo(e,a)}}var $o={readContext:je,use:Xu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};$o.useEffectEvent=ue;var Zp={readContext:je,use:Xu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:je,useEffect:Up,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Zu(4194308,4,kp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Zu(4194308,4,e,n)},useInsertionEffect:function(e,n){Zu(4,2,e,n)},useMemo:function(e,n){var a=en();n=n===void 0?null:n;var o=e();if(Us){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=en();if(a!==void 0){var h=a(n);if(Us){Rn(!0);try{a(n)}finally{Rn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=UA.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=Df(e);var n=e.queue,a=Yp.bind(null,St,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Vf,useDeferredValue:function(e,n){var a=en();return Mf(a,e,n)},useTransition:function(){var e=Df(!1);return e=Hp.bind(null,St,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=St,h=en();if(Lt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Wt===null)throw Error(s(349));(Nt&127)!==0||_p(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Up(Ep.bind(null,o,f,e),[e]),o.flags|=2048,Oa(9,{destroy:void 0},vp.bind(null,o,f,a,n),null),a},useId:function(){var e=en(),n=Wt.identifierPrefix;if(Lt){var a=Ai,o=Ti;a=(o&~(1<<32-fe(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Ku++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=IA++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Lf,useFormState:Dp,useActionState:Dp,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=xf.bind(null,St,!0,a),a.dispatch=n,[e,n]},useMemoCache:Rf,useCacheRefresh:function(){return en().memoizedState=MA.bind(null,St)},useEffectEvent:function(e){var n=en(),a={impl:e};return n.memoizedState=a,function(){if((Ht&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Pf={readContext:je,use:Xu,useCallback:Bp,useContext:je,useEffect:Of,useImperativeHandle:zp,useInsertionEffect:xp,useLayoutEffect:Pp,useMemo:qp,useReducer:Ju,useRef:Mp,useState:function(){return Ju(qi)},useDebugValue:Vf,useDeferredValue:function(e,n){var a=ge();return jp(a,Jt.memoizedState,e,n)},useTransition:function(){var e=Ju(qi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:yp,useId:Qp,useHostTransitionStatus:Lf,useFormState:Np,useActionState:Np,useOptimistic:function(e,n){var a=ge();return Sp(a,Jt,e,n)},useMemoCache:Rf,useCacheRefresh:Kp};Pf.useEffectEvent=Lp;var $p={readContext:je,use:Xu,useCallback:Bp,useContext:je,useEffect:Of,useImperativeHandle:zp,useInsertionEffect:xp,useLayoutEffect:Pp,useMemo:qp,useReducer:Cf,useRef:Mp,useState:function(){return Cf(qi)},useDebugValue:Vf,useDeferredValue:function(e,n){var a=ge();return Jt===null?Mf(a,e,n):jp(a,Jt.memoizedState,e,n)},useTransition:function(){var e=Cf(qi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:yp,useId:Qp,useHostTransitionStatus:Lf,useFormState:Vp,useActionState:Vp,useOptimistic:function(e,n){var a=ge();return Jt!==null?Sp(a,Jt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:Kp};$p.useEffectEvent=Lp;function kf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var zf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=bn(),h=br(o);h.payload=n,a!=null&&(h.callback=a),n=wr(e,h,o),n!==null&&(hn(n,e,o),Qo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=bn(),h=br(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=wr(e,h,o),n!==null&&(hn(n,e,o),Qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=bn(),o=br(a);o.tag=2,n!=null&&(o.callback=n),n=wr(e,o,a),n!==null&&(hn(n,e,a),Qo(n,e,a))}};function Wp(e,n,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!ko(a,o)||!ko(h,f):!0}function ty(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&zf.enqueueReplaceState(n,n.state,null)}function Ls(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function ey(e){Ou(e)}function ny(e){console.error(e)}function iy(e){Ou(e)}function tc(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ry(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Bf(e,n,a){return a=br(a),a.tag=3,a.payload={element:null},a.callback=function(){tc(e,n)},a}function sy(e){return e=br(e),e.tag=3,e}function ay(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){ry(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){ry(n,a,o),typeof h!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function LA(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Sa(n,a,h,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return xn===null?fc():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===qu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),hd(e,o,h)),!1;case 22:return a.flags|=65536,o===qu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),hd(e,o,h)),!1}throw Error(s(435,a.tag))}return hd(e,o,h),fc(),!1}if(Lt)return n=En.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==sf&&(e=Error(s(422),{cause:o}),qo(Vn(e,a)))):(o!==sf&&(n=Error(s(423),{cause:o}),qo(Vn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Vn(o,a),h=Bf(e.stateNode,o,h),pf(e,h),ce!==4&&(ce=2)),!1;var f=Error(s(520),{cause:o});if(f=Vn(f,a),al===null?al=[f]:al.push(f),ce!==4&&(ce=2),n===null)return!0;o=Vn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Bf(a.stateNode,o,e),pf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Or===null||!Or.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=sy(h),ay(h,e,a,o),pf(a,h),!1}a=a.return}while(a!==null);return!1}var qf=Error(s(461)),we=!1;function He(e,n,a,o){n.child=e===null?cp(n,null,a,o):Ms(n,e.child,a,o)}function oy(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Ds(n),o=Af(e,n,a,g,f,h),E=Sf(),e!==null&&!we?(bf(e,n,h),ji(e,n,h)):(Lt&&E&&nf(n),n.flags|=1,He(e,n,o,h),n.child)}function ly(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Wh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,uy(e,n,f,o,h)):(e=Lu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Xf(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:ko,a(g,o)&&e.ref===n.ref)return ji(e,n,h)}return n.flags|=1,e=xi(f,o),e.ref=n.ref,e.return=n,n.child=e}function uy(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(ko(f,o)&&e.ref===n.ref)if(we=!1,n.pendingProps=o=f,Xf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,ji(e,n,h)}return jf(e,n,a,o,h)}function cy(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return hy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&zu(n,f!==null?f.cachePool:null),f!==null?dp(n,f):_f(),mp(n);else return o=n.lanes=536870912,hy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(zu(n,f.cachePool),dp(n,f),Ir(),n.memoizedState=null):(e!==null&&zu(n,null),_f(),Ir());return He(e,n,h,a),n.child}function Wo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function hy(e,n,a,o,h){var f=ff();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&zu(n,null),_f(),mp(n),e!==null&&Sa(e,n,o,!0),n.childLanes=h,null}function ec(e,n){return n=ic({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function fy(e,n,a){return Ms(n,e.child,null,a),e=ec(n,n.pendingProps),e.flags|=2,Tn(n),n.memoizedState=null,e}function xA(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Lt){if(o.mode==="hidden")return e=ec(n,o),n.lanes=536870912,Wo(null,e);if(Ef(n),(e=ne)?(e=b_(e,Ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vr!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=Xg(e),a.return=n,n.child=a,qe=n,ne=null)):e=null,e===null)throw Tr(n);return n.lanes=536870912,null}return ec(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Ef(n),h)if(n.flags&256)n.flags&=-257,n=fy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(we||Sa(e,n,a,!1),h=(a&e.childLanes)!==0,we||h){if(o=Wt,o!==null&&(g=Eo(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,ws(e,g),hn(o,e,g),qf;fc(),n=fy(e,n,a)}else e=f.treeContext,ne=Pn(g.nextSibling),qe=n,Lt=!0,Er=null,Ln=!1,e!==null&&$g(n,e),n=ec(n,o),n.flags|=4096;return n}return e=xi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function nc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function jf(e,n,a,o,h){return Ds(n),a=Af(e,n,a,o,void 0,h),o=Sf(),e!==null&&!we?(bf(e,n,h),ji(e,n,h)):(Lt&&o&&nf(n),n.flags|=1,He(e,n,a,h),n.child)}function dy(e,n,a,o,h,f){return Ds(n),n.updateQueue=null,a=pp(n,o,a,h),gp(e),o=Sf(),e!==null&&!we?(bf(e,n,f),ji(e,n,f)):(Lt&&o&&nf(n),n.flags|=1,He(e,n,a,f),n.child)}function my(e,n,a,o,h){if(Ds(n),n.stateNode===null){var f=va,g=a.contextType;typeof g=="object"&&g!==null&&(f=je(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=zf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},mf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?je(g):va,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(kf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&zf.enqueueReplaceState(f,f.state,null),Yo(n,o,f,h),Ko(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Ls(a,E);f.props=R;var k=f.context,H=a.contextType;g=va,typeof H=="object"&&H!==null&&(g=je(H));var K=a.getDerivedStateFromProps;H=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==g)&&ty(n,f,o,g),Sr=!1;var z=n.memoizedState;f.state=z,Yo(n,o,f,h),Ko(),k=n.memoizedState,E||z!==k||Sr?(typeof K=="function"&&(kf(n,a,K,o),k=n.memoizedState),(R=Sr||Wp(n,a,R,o,z,k,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=k),f.props=o,f.state=k,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,gf(e,n),g=n.memoizedProps,H=Ls(a,g),f.props=H,K=n.pendingProps,z=f.context,k=a.contextType,R=va,typeof k=="object"&&k!==null&&(R=je(k)),E=a.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||z!==R)&&ty(n,f,o,R),Sr=!1,z=n.memoizedState,f.state=z,Yo(n,o,f,h),Ko();var q=n.memoizedState;g!==K||z!==q||Sr||e!==null&&e.dependencies!==null&&Pu(e.dependencies)?(typeof E=="function"&&(kf(n,a,E,o),q=n.memoizedState),(H=Sr||Wp(n,a,H,o,z,q,R)||e!==null&&e.dependencies!==null&&Pu(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,nc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ms(n,e.child,null,h),n.child=Ms(n,null,a,h)):He(e,n,a,h),n.memoizedState=f.state,e=n.child):e=ji(e,n,h),e}function gy(e,n,a,o){return Is(),n.flags|=256,He(e,n,a,o),n.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(e){return{baseLanes:e,cachePool:rp()}}function Ff(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Sn),e}function py(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(h?Rr(n):Ir(),(e=ne)?(e=b_(e,Ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vr!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=Xg(e),a.return=n,n.child=a,qe=n,ne=null)):e=null,e===null)throw Tr(n);return Id(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ir(),h=n.mode,E=ic({mode:"hidden",children:E},h),o=Rs(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Gf(a),o.childLanes=Ff(e,g,a),n.memoizedState=Hf,Wo(null,o)):(Rr(n),Qf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Rr(n),n.flags&=-257,n=Kf(e,n,a)):n.memoizedState!==null?(Ir(),n.child=e.child,n.flags|=128,n=null):(Ir(),E=o.fallback,h=n.mode,o=ic({mode:"visible",children:o.children},h),E=Rs(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ms(n,e.child,null,a),o=n.child,o.memoizedState=Gf(a),o.childLanes=Ff(e,g,a),n.memoizedState=Hf,n=Wo(null,o));else if(Rr(n),Id(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var k=g.dgst;g=k,o=Error(s(419)),o.stack="",o.digest=g,qo({value:o,source:null,stack:null}),n=Kf(e,n,a)}else if(we||Sa(e,n,a,!1),g=(a&e.childLanes)!==0,we||g){if(g=Wt,g!==null&&(o=Eo(g,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,ws(e,o),hn(g,e,o),qf;Rd(E)||fc(),n=Kf(e,n,a)}else Rd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ne=Pn(E.nextSibling),qe=n,Lt=!0,Er=null,Ln=!1,e!==null&&$g(n,e),n=Qf(n,o.children),n.flags|=4096);return n}return h?(Ir(),E=o.fallback,h=n.mode,R=e.child,k=R.sibling,o=xi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,k!==null?E=xi(k,E):(E=Rs(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Wo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Gf(a):(h=E.cachePool,h!==null?(R=Se._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=rp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Ff(e,g,a),n.memoizedState=Hf,Wo(e.child,o)):(Rr(n),a=e.child,e=a.sibling,a=xi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=a,n.memoizedState=null,a)}function Qf(e,n){return n=ic({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ic(e,n){return e=vn(22,e,null,n),e.lanes=0,e}function Kf(e,n,a){return Ms(n,e.child,null,a),e=Qf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function yy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),lf(e.return,n,a)}function Yf(e,n,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function _y(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=me.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(me,g),He(e,n,o,a),o=Lt?Bo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yy(e,a,n);else if(e.tag===19)yy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Fu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Yf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Fu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Yf(n,!0,a,null,f,o);break;case"together":Yf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ji(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Nr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Sa(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=xi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=xi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Xf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Pu(e)))}function PA(e,n,a){switch(n.tag){case 3:Oe(n,n.stateNode.containerInfo),Ar(n,Se,e.memoizedState.cache),Is();break;case 27:case 5:os(n);break;case 4:Oe(n,n.stateNode.containerInfo);break;case 10:Ar(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ef(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Rr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?py(e,n,a):(Rr(n),e=ji(e,n,a),e!==null?e.sibling:null);Rr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Sa(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return _y(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(me,me.current),o)break;return null;case 22:return n.lanes=0,cy(e,n,a,n.pendingProps);case 24:Ar(n,Se,e.memoizedState.cache)}return ji(e,n,a)}function vy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!Xf(e,a)&&(n.flags&128)===0)return we=!1,PA(e,n,a);we=(e.flags&131072)!==0}else we=!1,Lt&&(n.flags&1048576)!==0&&Zg(n,Bo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Os(n.elementType),n.type=e,typeof e=="function")Wh(e)?(o=Ls(e,o),n.tag=1,n=my(null,n,e,o,a)):(n.tag=0,n=jf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===kt){n.tag=11,n=oy(null,n,e,o,a);break t}else if(h===C){n.tag=14,n=ly(null,n,e,o,a);break t}}throw n=st(e)||e,Error(s(306,n,""))}}return n;case 0:return jf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Ls(o,n.pendingProps),my(e,n,o,h,a);case 3:t:{if(Oe(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,gf(e,n),Yo(n,o,null,a);var g=n.memoizedState;if(o=g.cache,Ar(n,Se,o),o!==f.cache&&uf(n,[Se],a,!0),Ko(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=gy(e,n,o,a);break t}else if(o!==h){h=Vn(Error(s(424)),n),qo(h),n=gy(e,n,o,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=Pn(e.firstChild),qe=n,Lt=!0,Er=null,Ln=!0,a=cp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Is(),o===h){n=ji(e,n,a);break t}He(e,n,o,a)}n=n.child}return n;case 26:return nc(e,n),e===null?(a=N_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Lt||(a=n.type,e=n.pendingProps,o=vc(wt.current).createElement(a),o[Ee]=n,o[Le]=e,Ge(o,a,e),Te(o),n.stateNode=o):n.memoizedState=N_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return os(n),e===null&&Lt&&(o=n.stateNode=I_(n.type,n.pendingProps,wt.current),qe=n,Ln=!0,h=ne,Lr(n.type)?(Cd=h,ne=Pn(o.firstChild)):ne=h),He(e,n,n.pendingProps.children,a),nc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((h=o=ne)&&(o=dS(o,n.type,n.pendingProps,Ln),o!==null?(n.stateNode=o,qe=n,ne=Pn(o.firstChild),Ln=!1,h=!0):h=!1),h||Tr(n)),os(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Sd(h,f)?o=null:g!==null&&Sd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Af(e,n,CA,null,null,a),ml._currentValue=h),nc(e,n),He(e,n,o,a),n.child;case 6:return e===null&&Lt&&((e=a=ne)&&(a=mS(a,n.pendingProps,Ln),a!==null?(n.stateNode=a,qe=n,ne=null,e=!0):e=!1),e||Tr(n)),null;case 13:return py(e,n,a);case 4:return Oe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ms(n,null,o,a):He(e,n,o,a),n.child;case 11:return oy(e,n,n.type,n.pendingProps,a);case 7:return He(e,n,n.pendingProps,a),n.child;case 8:return He(e,n,n.pendingProps.children,a),n.child;case 12:return He(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ar(n,n.type,o.value),He(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ds(n),h=je(h),o=o(h),n.flags|=1,He(e,n,o,a),n.child;case 14:return ly(e,n,n.type,n.pendingProps,a);case 15:return uy(e,n,n.type,n.pendingProps,a);case 19:return _y(e,n,a);case 31:return xA(e,n,a);case 22:return cy(e,n,a,n.pendingProps);case 24:return Ds(n),o=je(Se),e===null?(h=ff(),h===null&&(h=Wt,f=cf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},mf(n),Ar(n,Se,h)):((e.lanes&a)!==0&&(gf(e,n),Yo(n,null,null,a),Ko()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ar(n,Se,o)):(o=f.cache,Ar(n,Se,o),o!==h.cache&&uf(n,[Se],a,!0))),He(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Hi(e){e.flags|=4}function Jf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Qy())e.flags|=8192;else throw Vs=qu,df}else e.flags&=-16777217}function Ey(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!L_(n))if(Qy())e.flags|=8192;else throw Vs=qu,df}function rc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?cu():536870912,e.lanes|=n,La|=n)}function tl(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function kA(e,n,a){var o=n.pendingProps;switch(rf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),zi(Se),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Aa(n)?Hi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,af())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Hi(n),f!==null?(ie(n),Ey(n,f)):(ie(n),Jf(n,h,null,o,a))):f?f!==e.memoizedState?(Hi(n),ie(n),Ey(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Hi(n),ie(n),Jf(n,h,e,o,a)),null;case 27:if(ta(n),a=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ie(n),null}e=rt.current,Aa(n)?Wg(n):(e=I_(h,o,a),n.stateNode=e,Hi(n))}return ie(n),null;case 5:if(ta(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(f=rt.current,Aa(n))Wg(n);else{var g=vc(wt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ee]=n,f[Le]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Hi(n)}}return ie(n),Jf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=wt.current,Aa(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||p_(e.nodeValue,a)),e||Tr(n,!0)}else e=vc(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return ie(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Aa(n),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ee]=n}else Is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else a=af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Tn(n),n):(Tn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Aa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=n}else Is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Tn(n),n):(Tn(n),null)}return Tn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),rc(n,n.updateQueue),ie(n),null);case 4:return se(),e===null&&_d(n.stateNode.containerInfo),ie(n),null;case 10:return zi(n.type),ie(n),null;case 19:if(Y(me),o=n.memoizedState,o===null)return ie(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)tl(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Fu(e),f!==null){for(n.flags|=128,tl(o,!1),e=f.updateQueue,n.updateQueue=e,rc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Yg(a,e),a=a.sibling;return et(me,me.current&1|2),Lt&&Pi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&We()>uc&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Fu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,rc(n,e),tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Lt)return ie(n),null}else 2*We()-o.renderingStartTime>uc&&a!==536870912&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,a=me.current,et(me,h?a&1|2:a&1),Lt&&Pi(n,o.treeForkCount),e):(ie(n),null);case 22:case 23:return Tn(n),vf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&rc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&Y(Ns),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),zi(Se),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function zA(e,n){switch(rf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return zi(Se),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ta(n),null;case 31:if(n.memoizedState!==null){if(Tn(n),n.alternate===null)throw Error(s(340));Is()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Tn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Is()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(me),null;case 4:return se(),null;case 10:return zi(n.type),null;case 22:case 23:return Tn(n),vf(),e!==null&&Y(Ns),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return zi(Se),null;case 25:return null;default:return null}}function Ty(e,n){switch(rf(n),n.tag){case 3:zi(Se),se();break;case 26:case 27:case 5:ta(n);break;case 4:se();break;case 31:n.memoizedState!==null&&Tn(n);break;case 13:Tn(n);break;case 19:Y(me);break;case 10:zi(n.type);break;case 22:case 23:Tn(n),vf(),e!==null&&Y(Ns);break;case 24:zi(Se)}}function el(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){Yt(n,n.return,E)}}function Cr(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=a,k=E;try{k()}catch(H){Yt(h,R,H)}}}o=o.next}while(o!==f)}}catch(H){Yt(n,n.return,H)}}function Ay(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{fp(n,a)}catch(o){Yt(e,e.return,o)}}}function Sy(e,n,a){a.props=Ls(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Yt(e,n,o)}}function nl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Yt(e,n,h)}}function Si(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,n,h)}else a.current=null}function by(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function Zf(e,n,a){try{var o=e.stateNode;oS(o,e.type,a,n),o[Le]=n}catch(h){Yt(e,e.return,h)}}function wy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Lr(e.type)||e.tag===4}function $f(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||wy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Lr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Fn));else if(o!==4&&(o===27&&Lr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Wf(e,n,a),e=e.sibling;e!==null;)Wf(e,n,a),e=e.sibling}function sc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Lr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(sc(e,n,a),e=e.sibling;e!==null;)sc(e,n,a),e=e.sibling}function Ry(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,o,a),n[Ee]=e,n[Le]=a}catch(f){Yt(e,e.return,f)}}var Gi=!1,Re=!1,td=!1,Iy=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function BA(e,n){if(e=e.containerInfo,Td=Rc,e=zg(e),Qh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,R=-1,k=0,H=0,K=e,z=null;e:for(;;){for(var q;K!==a||h!==0&&K.nodeType!==3||(E=g+h),K!==f||o!==0&&K.nodeType!==3||(R=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)z=K,K=q;for(;;){if(K===e)break e;if(z===a&&++k===h&&(E=g),z===f&&++H===o&&(R=g),(q=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ad={focusedElem:e,selectionRange:a},Rc=!1,Pe=n;Pe!==null;)if(n=Pe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Pe=e;else for(;Pe!==null;){switch(n=Pe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var at=Ls(a.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Yt(a,a.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)wd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Pe=e;break}Pe=n.return}}function Cy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(e,a),o&4&&el(5,a);break;case 1:if(Qi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(g){Yt(a,a.return,g)}else{var h=Ls(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(a,a.return,g)}}o&64&&Ay(a),o&512&&nl(a,a.return);break;case 3:if(Qi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{fp(e,n)}catch(g){Yt(a,a.return,g)}}break;case 27:n===null&&o&4&&Ry(a);case 26:case 5:Qi(e,a),n===null&&o&4&&by(a),o&512&&nl(a,a.return);break;case 12:Qi(e,a);break;case 31:Qi(e,a),o&4&&Oy(e,a);break;case 13:Qi(e,a),o&4&&Vy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=XA.bind(null,a),gS(e,a))));break;case 22:if(o=a.memoizedState!==null||Gi,!o){n=n!==null&&n.memoizedState!==null||Re,h=Gi;var f=Re;Gi=o,(Re=n)&&!f?Ki(e,a,(a.subtreeFlags&8772)!==0):Qi(e,a),Gi=h,Re=f}break;case 30:break;default:Qi(e,a)}}function Dy(e){var n=e.alternate;n!==null&&(e.alternate=null,Dy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&sa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,on=!1;function Fi(e,n,a){for(a=a.child;a!==null;)Ny(e,n,a),a=a.sibling}function Ny(e,n,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Re||Si(a,n),Fi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||Si(a,n);var o=oe,h=on;Lr(a.type)&&(oe=a.stateNode,on=!1),Fi(e,n,a),hl(a.stateNode),oe=o,on=h;break;case 5:Re||Si(a,n);case 6:if(o=oe,h=on,oe=null,Fi(e,n,a),oe=o,on=h,oe!==null)if(on)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(f){Yt(a,n,f)}else try{oe.removeChild(a.stateNode)}catch(f){Yt(a,n,f)}break;case 18:oe!==null&&(on?(e=oe,A_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ha(e)):A_(oe,a.stateNode));break;case 4:o=oe,h=on,oe=a.stateNode.containerInfo,on=!0,Fi(e,n,a),oe=o,on=h;break;case 0:case 11:case 14:case 15:Cr(2,a,n),Re||Cr(4,a,n),Fi(e,n,a);break;case 1:Re||(Si(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Sy(a,n,o)),Fi(e,n,a);break;case 21:Fi(e,n,a);break;case 22:Re=(o=Re)||a.memoizedState!==null,Fi(e,n,a),Re=o;break;default:Fi(e,n,a)}}function Oy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ha(e)}catch(a){Yt(n,n.return,a)}}}function Vy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ha(e)}catch(a){Yt(n,n.return,a)}}function qA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Iy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Iy),n;default:throw Error(s(435,e.tag))}}function ac(e,n){var a=qA(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=JA.bind(null,e,o);o.then(h,h)}})}function ln(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Lr(E.type)){oe=E.stateNode,on=!1;break t}break;case 5:oe=E.stateNode,on=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(oe===null)throw Error(s(160));Ny(f,g,h),oe=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)My(n,e),n=n.sibling}var Zn=null;function My(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),un(e),o&4&&(Cr(3,e,e.return),el(3,e),Cr(5,e,e.return));break;case 1:ln(n,e),un(e),o&512&&(Re||a===null||Si(a,a.return)),o&64&&Gi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Zn;if(ln(n,e),un(e),o&512&&(Re||a===null||Si(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ui]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,a),f[Ee]=e,Te(f),o=f;break t;case"link":var g=M_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;case"meta":if(g=M_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Ee]=e,Te(f),o=f}e.stateNode=o}else U_(h,e.type,e.stateNode);else e.stateNode=V_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?U_(h,e.type,e.stateNode):V_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Zf(e,e.memoizedProps,a.memoizedProps)}break;case 27:ln(n,e),un(e),o&512&&(Re||a===null||Si(a,a.return)),a!==null&&o&4&&Zf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ln(n,e),un(e),o&512&&(Re||a===null||Si(a,a.return)),e.flags&32){h=e.stateNode;try{an(h,"")}catch(at){Yt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Zf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(td=!0);break;case 6:if(ln(n,e),un(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(at){Yt(e,e.return,at)}}break;case 3:if(Ac=null,h=Zn,Zn=Ec(n.containerInfo),ln(n,e),Zn=h,un(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ha(n.containerInfo)}catch(at){Yt(e,e.return,at)}td&&(td=!1,Uy(e));break;case 4:o=Zn,Zn=Ec(e.stateNode.containerInfo),ln(n,e),un(e),Zn=o;break;case 12:ln(n,e),un(e);break;case 31:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ac(e,o)));break;case 13:ln(n,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(lc=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ac(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,k=Gi,H=Re;if(Gi=k||h,Re=H||R,ln(n,e),Re=H,Gi=k,un(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||Gi||Re||xs(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(at){Yt(R,R.return,at)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){Yt(R,R.return,at)}}}else if(n.tag===18){if(a===null){R=n;try{var q=R.stateNode;h?S_(q,!0):S_(R.stateNode,!1)}catch(at){Yt(R,R.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,ac(e,a))));break;case 19:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ac(e,o)));break;case 30:break;case 21:break;default:ln(n,e),un(e)}}function un(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(wy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=$f(e);sc(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(an(g,""),a.flags&=-33);var E=$f(e);sc(e,E,g);break;case 3:case 4:var R=a.stateNode.containerInfo,k=$f(e);Wf(e,k,R);break;default:throw Error(s(161))}}catch(H){Yt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Uy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Uy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Cy(e,n.alternate,n),n=n.sibling}function xs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Cr(4,n,n.return),xs(n);break;case 1:Si(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Sy(n,n.return,a),xs(n);break;case 27:hl(n.stateNode);case 26:case 5:Si(n,n.return),xs(n);break;case 22:n.memoizedState===null&&xs(n);break;case 30:xs(n);break;default:xs(n)}e=e.sibling}}function Ki(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(h,f,a),el(4,f);break;case 1:if(Ki(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Yt(o,o.return,k)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)hp(R[h],E)}catch(k){Yt(o,o.return,k)}}a&&g&64&&Ay(f),nl(f,f.return);break;case 27:Ry(f);case 26:case 5:Ki(h,f,a),a&&o===null&&g&4&&by(f),nl(f,f.return);break;case 12:Ki(h,f,a);break;case 31:Ki(h,f,a),a&&g&4&&Oy(h,f);break;case 13:Ki(h,f,a),a&&g&4&&Vy(h,f);break;case 22:f.memoizedState===null&&Ki(h,f,a),nl(f,f.return);break;case 30:break;default:Ki(h,f,a)}n=n.sibling}}function ed(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&jo(a))}function nd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&jo(e))}function $n(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ly(e,n,a,o),n=n.sibling}function Ly(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(e,n,a,o),h&2048&&el(9,n);break;case 1:$n(e,n,a,o);break;case 3:$n(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&jo(e)));break;case 12:if(h&2048){$n(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Yt(n,n.return,R)}}else $n(e,n,a,o);break;case 31:$n(e,n,a,o);break;case 13:$n(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?$n(e,n,a,o):il(e,n):f._visibility&2?$n(e,n,a,o):(f._visibility|=2,Va(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ed(g,n);break;case 24:$n(e,n,a,o),h&2048&&nd(n.alternate,n);break;default:$n(e,n,a,o)}}function Va(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=a,R=o,k=g.flags;switch(g.tag){case 0:case 11:case 15:Va(f,g,E,R,h),el(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?Va(f,g,E,R,h):il(f,g):(H._visibility|=2,Va(f,g,E,R,h)),h&&k&2048&&ed(g.alternate,g);break;case 24:Va(f,g,E,R,h),h&&k&2048&&nd(g.alternate,g);break;default:Va(f,g,E,R,h)}n=n.sibling}}function il(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:il(a,o),h&2048&&ed(o.alternate,o);break;case 24:il(a,o),h&2048&&nd(o.alternate,o);break;default:il(a,o)}n=n.sibling}}var rl=8192;function Ma(e,n,a){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)xy(e,n,a),e=e.sibling}function xy(e,n,a){switch(e.tag){case 26:Ma(e,n,a),e.flags&rl&&e.memoizedState!==null&&IS(a,Zn,e.memoizedState,e.memoizedProps);break;case 5:Ma(e,n,a);break;case 3:case 4:var o=Zn;Zn=Ec(e.stateNode.containerInfo),Ma(e,n,a),Zn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=rl,rl=16777216,Ma(e,n,a),rl=o):Ma(e,n,a));break;default:Ma(e,n,a)}}function Py(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function sl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Pe=o,zy(o,e)}Py(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ky(e),e=e.sibling}function ky(e){switch(e.tag){case 0:case 11:case 15:sl(e),e.flags&2048&&Cr(9,e,e.return);break;case 3:sl(e);break;case 12:sl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,oc(e)):sl(e);break;default:sl(e)}}function oc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Pe=o,zy(o,e)}Py(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Cr(8,n,n.return),oc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,oc(n));break;default:oc(n)}e=e.sibling}}function zy(e,n){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:Cr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:jo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Pe=o;else t:for(a=e;Pe!==null;){o=Pe;var h=o.sibling,f=o.return;if(Dy(o),o===a){Pe=null;break t}if(h!==null){h.return=f,Pe=h;break t}Pe=f}}}var jA={getCacheForType:function(e){var n=je(Se),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return je(Se).controller.signal}},HA=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Wt=null,It=null,Nt=0,Kt=0,An=null,Dr=!1,Ua=!1,id=!1,Yi=0,ce=0,Nr=0,Ps=0,rd=0,Sn=0,La=0,al=null,cn=null,sd=!1,lc=0,By=0,uc=1/0,cc=null,Or=null,Me=0,Vr=null,xa=null,Xi=0,ad=0,od=null,qy=null,ol=0,ld=null;function bn(){return(Ht&2)!==0&&Nt!==0?Nt&-Nt:j.T!==null?md():hu()}function jy(){if(Sn===0)if((Nt&536870912)===0||Lt){var e=cs;cs<<=1,(cs&3932160)===0&&(cs=262144),Sn=e}else Sn=536870912;return e=En.current,e!==null&&(e.flags|=32),Sn}function hn(e,n,a){(e===Wt&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Pa(e,0),Mr(e,Nt,Sn,!1)),hs(e,a),((Ht&2)===0||e!==Wt)&&(e===Wt&&((Ht&2)===0&&(Ps|=a),ce===4&&Mr(e,Nt,Sn,!1)),bi(e))}function Hy(e,n,a){if((Ht&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||jn(e,n),h=o?QA(e,n):cd(e,n,!0),f=o;do{if(h===0){Ua&&!o&&Mr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!GA(a)){h=cd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=al;var R=E.current.memoizedState.isDehydrated;if(R&&(Pa(E,g).flags|=256),g=cd(E,g,!1),g!==2){if(id&&!R){E.errorRecoveryDisabledLanes|=f,Ps|=f,h=4;break t}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Pa(e,0),Mr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Mr(o,n,Sn,!Dr);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=lc+300-We(),10<h)){if(Mr(o,n,Sn,!Dr),ai(o,0,!0)!==0)break t;Xi=n,o.timeoutHandle=E_(Gy.bind(null,o,a,cn,cc,sd,n,Sn,Ps,La,Dr,f,"Throttled",-0,0),h);break t}Gy(o,a,cn,cc,sd,n,Sn,Ps,La,Dr,f,null,-0,0)}}break}while(!0);bi(e)}function Gy(e,n,a,o,h,f,g,E,R,k,H,K,z,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},xy(n,f,K);var at=(f&62914560)===f?lc-We():(f&4194048)===f?By-We():0;if(at=CS(K,at),at!==null){Xi=f,e.cancelPendingCommit=at($y.bind(null,e,n,f,a,o,h,g,E,R,H,K,null,z,q)),Mr(e,f,g,!k);return}}$y(e,n,f,a,o,h,g,E,R)}function GA(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Mr(e,n,a,o){n&=~rd,n&=~Ps,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&fs(e,a,n)}function hc(){return(Ht&6)===0?(ll(0),!1):!0}function ud(){if(It!==null){if(Kt===0)var e=It.return;else e=It,ki=Cs=null,wf(e),Ia=null,Go=0,e=It;for(;e!==null;)Ty(e.alternate,e),e=e.return;It=null}}function Pa(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,cS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Xi=0,ud(),Wt=e,It=a=xi(e.current,null),Nt=n,Kt=0,An=null,Dr=!1,Ua=jn(e,n),id=!1,La=Sn=rd=Ps=Nr=ce=0,cn=al=null,sd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-fe(o),f=1<<h;n|=e[h],o&=~f}return Yi=n,Vu(),a}function Fy(e,n){St=null,j.H=$o,n===Ra||n===Bu?(n=op(),Kt=3):n===df?(n=op(),Kt=4):Kt=n===qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,An=n,It===null&&(ce=1,tc(e,Vn(n,e.current)))}function Qy(){var e=En.current;return e===null?!0:(Nt&4194048)===Nt?xn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===xn:!1}function Ky(){var e=j.H;return j.H=$o,e===null?$o:e}function Yy(){var e=j.A;return j.A=jA,e}function fc(){ce=4,Dr||(Nt&4194048)!==Nt&&En.current!==null||(Ua=!0),(Nr&134217727)===0&&(Ps&134217727)===0||Wt===null||Mr(Wt,Nt,Sn,!1)}function cd(e,n,a){var o=Ht;Ht|=2;var h=Ky(),f=Yy();(Wt!==e||Nt!==n)&&(cc=null,Pa(e,n)),n=!1;var g=ce;t:do try{if(Kt!==0&&It!==null){var E=It,R=An;switch(Kt){case 8:ud(),g=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(n=!0);var k=Kt;if(Kt=0,An=null,ka(e,E,R,k),a&&Ua){g=0;break t}break;default:k=Kt,Kt=0,An=null,ka(e,E,R,k)}}FA(),g=ce;break}catch(H){Fy(e,H)}while(!0);return n&&e.shellSuspendCounter++,ki=Cs=null,Ht=o,j.H=h,j.A=f,It===null&&(Wt=null,Nt=0,Vu()),g}function FA(){for(;It!==null;)Xy(It)}function QA(e,n){var a=Ht;Ht|=2;var o=Ky(),h=Yy();Wt!==e||Nt!==n?(cc=null,uc=We()+500,Pa(e,n)):Ua=jn(e,n);t:do try{if(Kt!==0&&It!==null){n=It;var f=An;e:switch(Kt){case 1:Kt=0,An=null,ka(e,n,f,1);break;case 2:case 9:if(sp(f)){Kt=0,An=null,Jy(n);break}n=function(){Kt!==2&&Kt!==9||Wt!==e||(Kt=7),bi(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:sp(f)?(Kt=0,An=null,Jy(n)):(Kt=0,An=null,ka(e,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var E=It;if(g?L_(g):E.stateNode.complete){Kt=0,An=null;var R=E.sibling;if(R!==null)It=R;else{var k=E.return;k!==null?(It=k,dc(k)):It=null}break e}}Kt=0,An=null,ka(e,n,f,5);break;case 6:Kt=0,An=null,ka(e,n,f,6);break;case 8:ud(),ce=6;break t;default:throw Error(s(462))}}KA();break}catch(H){Fy(e,H)}while(!0);return ki=Cs=null,j.H=o,j.A=h,Ht=a,It!==null?0:(Wt=null,Nt=0,Vu(),ce)}function KA(){for(;It!==null&&!zh();)Xy(It)}function Xy(e){var n=vy(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,n===null?dc(e):It=n}function Jy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=dy(a,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=dy(a,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:wf(n);default:Ty(a,n),n=It=Yg(n,Yi),n=vy(a,n,Yi)}e.memoizedProps=e.pendingProps,n===null?dc(e):It=n}function ka(e,n,a,o){ki=Cs=null,wf(n),Ia=null,Go=0;var h=n.return;try{if(LA(e,h,n,a,Nt)){ce=1,tc(e,Vn(a,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;ce=1,tc(e,Vn(a,e.current)),It=null;return}n.flags&32768?(Lt||o===1?e=!0:Ua||(Nt&536870912)!==0?e=!1:(Dr=e=!0,(o===2||o===9||o===3||o===6)&&(o=En.current,o!==null&&o.tag===13&&(o.flags|=16384))),Zy(n,e)):dc(n)}function dc(e){var n=e;do{if((n.flags&32768)!==0){Zy(n,Dr);return}e=n.return;var a=kA(n.alternate,n,Yi);if(a!==null){It=a;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);ce===0&&(ce=5)}function Zy(e,n){do{var a=zA(e.alternate,e);if(a!==null){a.flags&=32767,It=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=a}while(e!==null);ce=6,It=null}function $y(e,n,a,o,h,f,g,E,R){e.cancelPendingCommit=null;do mc();while(Me!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Zh,jh(e,a,f,g,E,R),e===Wt&&(It=Wt=null,Nt=0),xa=n,Vr=e,Xi=a,ad=f,od=h,qy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ZA(ur,function(){return i_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=j.T,j.T=null,h=W.p,W.p=2,g=Ht,Ht|=4;try{BA(e,n,a)}finally{Ht=g,W.p=h,j.T=o}}Me=1,Wy(),t_(),e_()}}function Wy(){if(Me===1){Me=0;var e=Vr,n=xa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=j.T,j.T=null;var o=W.p;W.p=2;var h=Ht;Ht|=4;try{My(n,e);var f=Ad,g=zg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&kg(E.ownerDocument.documentElement,E)){if(R!==null&&Qh(E)){var k=R.start,H=R.end;if(H===void 0&&(H=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(H,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var q=z.getSelection(),at=E.textContent.length,ft=Math.min(R.start,at),$t=R.end===void 0?ft:Math.min(R.end,at);!q.extend&&ft>$t&&(g=$t,$t=ft,ft=g);var U=Pg(E,ft),O=Pg(E,$t);if(U&&O&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var P=K.createRange();P.setStart(U.node,U.offset),q.removeAllRanges(),ft>$t?(q.addRange(P),q.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),q.addRange(P))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Rc=!!Td,Ad=Td=null}finally{Ht=h,W.p=o,j.T=a}}e.current=n,Me=2}}function t_(){if(Me===2){Me=0;var e=Vr,n=xa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=j.T,j.T=null;var o=W.p;W.p=2;var h=Ht;Ht|=4;try{Cy(e,n.alternate,n)}finally{Ht=h,W.p=o,j.T=a}}Me=3}}function e_(){if(Me===4||Me===3){Me=0,ru();var e=Vr,n=xa,a=Xi,o=qy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Me=5:(Me=0,xa=Vr=null,n_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Or=null),Vi(a),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(qn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=j.T,h=W.p,W.p=2,j.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{j.T=n,W.p=h}}(Xi&3)!==0&&mc(),bi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ld?ol++:(ol=0,ld=e):ol=0,ll(0)}}function n_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,jo(n)))}function mc(){return Wy(),t_(),e_(),i_()}function i_(){if(Me!==5)return!1;var e=Vr,n=ad;ad=0;var a=Vi(Xi),o=j.T,h=W.p;try{W.p=32>a?32:a,j.T=null,a=od,od=null;var f=Vr,g=Xi;if(Me=0,xa=Vr=null,Xi=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,ky(f.current),Ly(f,f.current,g,a),Ht=E,ll(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(qn,f)}catch{}return!0}finally{W.p=h,j.T=o,n_(e,n)}}function r_(e,n,a){n=Vn(a,n),n=Bf(e.stateNode,n,2),e=wr(e,n,2),e!==null&&(hs(e,2),bi(e))}function Yt(e,n,a){if(e.tag===3)r_(e,e,a);else for(;n!==null;){if(n.tag===3){r_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Or===null||!Or.has(o))){e=Vn(a,e),a=sy(2),o=wr(n,a,2),o!==null&&(ay(a,o,n,e),hs(o,2),bi(o));break}}n=n.return}}function hd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new HA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(id=!0,h.add(a),e=YA.bind(null,e,n,a),n.then(e,e))}function YA(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Nt&a)===a&&(ce===4||ce===3&&(Nt&62914560)===Nt&&300>We()-lc?(Ht&2)===0&&Pa(e,0):rd|=a,La===Nt&&(La=0)),bi(e)}function s_(e,n){n===0&&(n=cu()),e=ws(e,n),e!==null&&(hs(e,n),bi(e))}function XA(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),s_(e,a)}function JA(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),s_(e,a)}function ZA(e,n){return Ve(e,n)}var gc=null,za=null,fd=!1,pc=!1,dd=!1,Ur=0;function bi(e){e!==za&&e.next===null&&(za===null?gc=za=e:za=za.next=e),pc=!0,fd||(fd=!0,WA())}function ll(e,n){if(!dd&&pc){dd=!0;do for(var a=!1,o=gc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,u_(o,f))}else f=Nt,f=ai(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||jn(o,f)||(a=!0,u_(o,f));o=o.next}while(a);dd=!1}}function $A(){a_()}function a_(){pc=fd=!1;var e=0;Ur!==0&&uS()&&(e=Ur);for(var n=We(),a=null,o=gc;o!==null;){var h=o.next,f=o_(o,n);f===0?(o.next=null,a===null?gc=h:a.next=h,h===null&&(za=a)):(a=o,(e!==0||(f&3)!==0)&&(pc=!0)),o=h}Me!==0&&Me!==5||ll(e),Ur!==0&&(Ur=0)}function o_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-fe(f),E=1<<g,R=h[g];R===-1?((E&a)===0||(E&o)!==0)&&(h[g]=qh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,a=Nt,a=ai(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&lr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||jn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&lr(o),Vi(a)){case 2:case 8:a=_o;break;case 32:a=ur;break;case 268435456:a=su;break;default:a=ur}return o=l_.bind(null,e),a=Ve(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&lr(o),e.callbackPriority=2,e.callbackNode=null,2}function l_(e,n){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(mc()&&e.callbackNode!==a)return null;var o=Nt;return o=ai(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Hy(e,o,n),o_(e,We()),e.callbackNode!=null&&e.callbackNode===a?l_.bind(null,e):null)}function u_(e,n){if(mc())return null;Hy(e,n,!0)}function WA(){hS(function(){(Ht&6)!==0?Ve(yo,$A):a_()})}function md(){if(Ur===0){var e=ba;e===0&&(e=ri,ri<<=1,(ri&261888)===0&&(ri=256)),Ur=e}return Ur}function c_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ua(""+e)}function h_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function tS(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=c_((h[Le]||null).action),g=o.submitter;g&&(n=(n=g[Le]||null)?c_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new yi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ur!==0){var R=g?h_(h,g):new FormData(h);Uf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?h_(h,g):new FormData(h),Uf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var gd=0;gd<Jh.length;gd++){var pd=Jh[gd],eS=pd.toLowerCase(),nS=pd[0].toUpperCase()+pd.slice(1);Jn(eS,"on"+nS)}Jn(jg,"onAnimationEnd"),Jn(Hg,"onAnimationIteration"),Jn(Gg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(_A,"onTransitionRun"),Jn(vA,"onTransitionStart"),Jn(EA,"onTransitionCancel"),Jn(Fg,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function f_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,k=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(H){Ou(H)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,k=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(H){Ou(H)}h.currentTarget=null,f=R}}}}function Ct(e,n){var a=n[ra];a===void 0&&(a=n[ra]=new Set);var o=e+"__bubble";a.has(o)||(d_(n,e,2,!1),a.add(o))}function yd(e,n,a){var o=0;n&&(o|=4),d_(a,e,o,n)}var yc="_reactListening"+Math.random().toString(36).slice(2);function _d(e){if(!e[yc]){e[yc]=!0,To.forEach(function(a){a!=="selectionchange"&&(iS.has(a)||yd(a,!1,e),yd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[yc]||(n[yc]=!0,yd("selectionchange",!1,n))}}function d_(e,n,a,o){switch(j_(n)){case 2:var h=OS;break;case 8:h=VS;break;default:h=Md}a=h.bind(null,n,a,e),h=void 0,!ys||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function vd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ci(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}gr(function(){var k=f,H=Cn(a),K=[];t:{var z=Qg.get(e);if(z!==void 0){var q=yi,at=e;switch(e){case"keypress":if(vs(a)===0)break t;case"keydown":case"keyup":q=Cu;break;case"focusin":at="focus",q=Ts;break;case"focusout":at="blur",q=Ts;break;case"beforeblur":case"afterblur":q=Ts;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case jg:case Hg:case Gg:q=Tu;break;case Fg:q=A;break;case"scroll":case"scrollend":q=Mo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Li;break;case"toggle":case"beforetoggle":q=At}var ft=(n&4)!==0,$t=!ft&&(e==="scroll"||e==="scrollend"),U=ft?z!==null?z+"Capture":null:z;ft=[];for(var O=k,P;O!==null;){var Q=O;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||U===null||(Q=Qn(O,U),Q!=null&&ft.push(cl(O,Q,P))),$t)break;O=O.return}0<ft.length&&(z=new q(z,at,null,a,H),K.push({event:z,listeners:ft}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&a!==No&&(at=a.relatedTarget||a.fromElement)&&(ci(at)||at[li]))break t;if((q||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,q?(at=a.relatedTarget||a.toElement,q=k,at=at?ci(at):null,at!==null&&($t=c(at),ft=at.tag,at!==$t||ft!==5&&ft!==27&&ft!==6)&&(at=null)):(q=null,at=k),q!==at)){if(ft=Uo,Q="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Li,Q="onPointerLeave",U="onPointerEnter",O="pointer"),$t=q==null?z:pn(q),P=at==null?z:pn(at),z=new ft(Q,O+"leave",q,a,H),z.target=$t,z.relatedTarget=P,Q=null,ci(H)===k&&(ft=new ft(U,O+"enter",at,a,H),ft.target=P,ft.relatedTarget=$t,Q=ft),$t=Q,q&&at)e:{for(ft=rS,U=q,O=at,P=0,Q=U;Q;Q=ft(Q))P++;Q=0;for(var lt=O;lt;lt=ft(lt))Q++;for(;0<P-Q;)U=ft(U),P--;for(;0<Q-P;)O=ft(O),Q--;for(;P--;){if(U===O||O!==null&&U===O.alternate){ft=U;break e}U=ft(U),O=ft(O)}ft=null}else ft=null;q!==null&&m_(K,z,q,ft,!1),at!==null&&$t!==null&&m_(K,$t,at,ft,!0)}}t:{if(z=k?pn(k):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Bt=Og;else if(Dg(z))if(Vg)Bt=gA;else{Bt=dA;var ot=fA}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?k&&la(k.elementType)&&(Bt=Og):Bt=mA;if(Bt&&(Bt=Bt(e,k))){Ng(K,Bt,a,H);break t}ot&&ot(e,z,k),e==="focusout"&&k&&z.type==="number"&&k.memoizedProps.value!=null&&Io(z,"number",z.value)}switch(ot=k?pn(k):window,e){case"focusin":(Dg(ot)||ot.contentEditable==="true")&&(pa=ot,Kh=k,zo=null);break;case"focusout":zo=Kh=pa=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Bg(K,a,H);break;case"selectionchange":if(yA)break;case"keydown":case"keyup":Bg(K,a,H)}var Rt;if(jt)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else ga?As(e,a)&&(Ot="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ot="onCompositionStart");Ot&&(Ei&&a.locale!=="ko"&&(ga||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ga&&(Rt=Vo()):(pi=H,Oo="value"in pi?pi.value:pi.textContent,ga=!0)),ot=_c(k,Ot),0<ot.length&&(Ot=new vi(Ot,e,null,a,H),K.push({event:Ot,listeners:ot}),Rt?Ot.data=Rt:(Rt=ma(a),Rt!==null&&(Ot.data=Rt)))),(Rt=Nn?lA(e,a):uA(e,a))&&(Ot=_c(k,"onBeforeInput"),0<Ot.length&&(ot=new vi("onBeforeInput","beforeinput",null,a,H),K.push({event:ot,listeners:Ot}),ot.data=Rt)),tS(K,e,k,a,H)}f_(K,n)})}function cl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function _c(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Qn(e,a),h!=null&&o.unshift(cl(e,h,f)),h=Qn(e,n),h!=null&&o.push(cl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function rS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function m_(e,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,R=E.alternate,k=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||k===null||(R=k,h?(k=Qn(a,f),k!=null&&g.unshift(cl(a,k,R))):h||(k=Qn(a,f),k!=null&&g.push(cl(a,k,R)))),a=a.return}g.length!==0&&e.push({event:n,listeners:g})}var sS=/\r\n?/g,aS=/\u0000|\uFFFD/g;function g_(e){return(typeof e=="string"?e:""+e).replace(sS,`
`).replace(aS,"")}function p_(e,n){return n=g_(n),g_(e)===n}function Zt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||an(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&an(e,""+o);break;case"className":yn(e,"class",o);break;case"tabIndex":yn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(e,a,o);break;case"style":Do(e,o,f);break;case"data":if(n!=="object"){yn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ua(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ua(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ua(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),aa(e,"popover",o);break;case"xlinkActuate":Ae(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ae(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ae(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ae(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ae(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ae(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":aa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_u.get(a)||a,aa(e,a,o))}}function Ed(e,n,a,o,h,f){switch(a){case"style":Do(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?an(e,o):(typeof o=="number"||typeof o=="bigint")&&an(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ao.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Le]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):aa(e,a,o)}}}function Ge(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(e,n,f,g,a,null)}}h&&Zt(e,n,"srcSet",a.srcSet,a,null),o&&Zt(e,n,"src",a.src,a,null);return;case"input":Ct("invalid",e);var E=f=g=h=null,R=null,k=null;for(o in a)if(a.hasOwnProperty(o)){var H=a[o];if(H!=null)switch(o){case"name":h=H;break;case"type":g=H;break;case"checked":R=H;break;case"defaultChecked":k=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Zt(e,n,o,H,a,null)}}gu(e,f,E,R,k,g,h,!1);return;case"select":Ct("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Zt(e,n,h,E,a,null)}n=f,a=g,e.multiple=!!o,n!=null?hr(e,!!o,n,!1):a!=null&&hr(e,!!o,a,!0);return;case"textarea":Ct("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Zt(e,n,g,E,a,null)}fr(e,o,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Zt(e,n,R,o,a,null));return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<ul.length;o++)Ct(ul[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(o=a[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(e,n,k,o,a,null)}return;default:if(la(n)){for(H in a)a.hasOwnProperty(H)&&(o=a[H],o!==void 0&&Ed(e,n,H,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Zt(e,n,E,o,a,null))}function oS(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,k=null,H=null;for(q in a){var K=a[q];if(a.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=K;default:o.hasOwnProperty(q)||Zt(e,n,q,null,o,K)}}for(var z in o){var q=o[z];if(K=a[z],o.hasOwnProperty(z)&&(q!=null||K!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":k=q;break;case"defaultChecked":H=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==K&&Zt(e,n,z,q,o,K)}}oa(e,g,E,R,k,H,f,h);return;case"select":q=g=E=z=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Zt(e,n,h,f,o,R)}n=E,a=g,o=q,z!=null?hr(e,!!a,z,!1):!!o!=!!a&&(n!=null?hr(e,!!a,n,!0):hr(e,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Zt(e,n,g,h,o,f)}pu(e,z,q);return;case"option":for(var at in a)z=a[at],a.hasOwnProperty(at)&&z!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:Zt(e,n,at,null,o,z));for(R in o)z=o[R],q=a[R],o.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Zt(e,n,R,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)z=a[ft],a.hasOwnProperty(ft)&&z!=null&&!o.hasOwnProperty(ft)&&Zt(e,n,ft,null,o,z);for(k in o)if(z=o[k],q=a[k],o.hasOwnProperty(k)&&z!==q&&(z!=null||q!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:Zt(e,n,k,z,o,q)}return;default:if(la(n)){for(var $t in a)z=a[$t],a.hasOwnProperty($t)&&z!==void 0&&!o.hasOwnProperty($t)&&Ed(e,n,$t,void 0,o,z);for(H in o)z=o[H],q=a[H],!o.hasOwnProperty(H)||z===q||z===void 0&&q===void 0||Ed(e,n,H,z,o,q);return}}for(var U in a)z=a[U],a.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Zt(e,n,U,null,o,z);for(K in o)z=o[K],q=a[K],!o.hasOwnProperty(K)||z===q||z==null&&q==null||Zt(e,n,K,z,o,q)}function y_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&y_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],k=R.startTime;if(k>E)break;var H=R.transferSize,K=R.initiatorType;H&&y_(K)&&(R=R.responseEnd,g+=H*(R<E?1:(E-k)/(R-k)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Td=null,Ad=null;function vc(e){return e.nodeType===9?e:e.ownerDocument}function __(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Sd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bd=null;function uS(){var e=window.event;return e&&e.type==="popstate"?e===bd?!1:(bd=e,!0):(bd=null,!1)}var E_=typeof setTimeout=="function"?setTimeout:void 0,cS=typeof clearTimeout=="function"?clearTimeout:void 0,T_=typeof Promise=="function"?Promise:void 0,hS=typeof queueMicrotask=="function"?queueMicrotask:typeof T_<"u"?function(e){return T_.resolve(null).then(e).catch(fS)}:E_;function fS(e){setTimeout(function(){throw e})}function Lr(e){return e==="head"}function A_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ha(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")hl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,hl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ui]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&hl(e.ownerDocument.body);a=h}while(a);Ha(n)}function S_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function wd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wd(a),sa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function dS(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ui])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function mS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Pn(e.nextSibling),e===null))return null;return e}function b_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Pn(e.nextSibling),e===null))return null;return e}function Rd(e){return e.data==="$?"||e.data==="$~"}function Id(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function gS(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Pn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Cd=null;function w_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Pn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function R_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function I_(e,n,a){switch(n=vc(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function hl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);sa(e)}var kn=new Map,C_=new Set;function Ec(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ji=W.d;W.d={f:pS,r:yS,D:_S,C:vS,L:ES,m:TS,X:SS,S:AS,M:bS};function pS(){var e=Ji.f(),n=hc();return e||n}function yS(e){var n=In(e);n!==null&&n.tag===5&&n.type==="form"?Fp(n):Ji.r(e)}var Ba=typeof document>"u"?null:document;function D_(e,n,a){var o=Ba;if(o&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),C_.has(h)||(C_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ge(n,"link",e),Te(n),o.head.appendChild(n)))}}function _S(e){Ji.D(e),D_("dns-prefetch",e,null)}function vS(e,n){Ji.C(e,n),D_("preconnect",e,n)}function ES(e,n,a){Ji.L(e,n,a);var o=Ba;if(o&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=qa(e);break;case"script":f=ja(e)}kn.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(fl(f))||n==="script"&&o.querySelector(dl(f))||(n=o.createElement("link"),Ge(n,"link",e),Te(n),o.head.appendChild(n)))}}function TS(e,n){Ji.m(e,n);var a=Ba;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ja(e)}if(!kn.has(f)&&(e=S({rel:"modulepreload",href:e},n),kn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(dl(f)))return}o=a.createElement("link"),Ge(o,"link",e),Te(o),a.head.appendChild(o)}}}function AS(e,n,a){Ji.S(e,n,a);var o=Ba;if(o&&e){var h=hi(o).hoistableStyles,f=qa(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(fl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=kn.get(f))&&Dd(e,a);var R=g=o.createElement("link");Te(R),Ge(R,"link",e),R._p=new Promise(function(k,H){R.onload=k,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Tc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function SS(e,n){Ji.X(e,n);var a=Ba;if(a&&e){var o=hi(a).hoistableScripts,h=ja(e),f=o.get(h);f||(f=a.querySelector(dl(h)),f||(e=S({src:e,async:!0},n),(n=kn.get(h))&&Nd(e,n),f=a.createElement("script"),Te(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function bS(e,n){Ji.M(e,n);var a=Ba;if(a&&e){var o=hi(a).hoistableScripts,h=ja(e),f=o.get(h);f||(f=a.querySelector(dl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=kn.get(h))&&Nd(e,n),f=a.createElement("script"),Te(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function N_(e,n,a,o){var h=(h=wt.current)?Ec(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=qa(a.href),a=hi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=qa(a.href);var f=hi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(fl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(e,a),f||wS(h,e,a,g.state))),n&&o===null)throw Error(s(528,""));return g}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ja(a),a=hi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function qa(e){return'href="'+sn(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function O_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function wS(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ge(n,"link",a),Te(n),e.head.appendChild(n))}function ja(e){return'[src="'+sn(e)+'"]'}function dl(e){return"script[async]"+e}function V_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+sn(a.href)+'"]');if(o)return n.instance=o,Te(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),Ge(o,"style",h),Tc(o,a.precedence,e),n.instance=o;case"stylesheet":h=qa(a.href);var f=e.querySelector(fl(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;o=O_(a),(h=kn.get(h))&&Dd(o,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Ge(f,"link",o),n.state.loading|=4,Tc(f,a.precedence,e),n.instance=f;case"script":return f=ja(a.src),(h=e.querySelector(dl(f)))?(n.instance=h,Te(h),h):(o=a,(h=kn.get(f))&&(o=S({},a),Nd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Ge(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Tc(o,a.precedence,e));return n.instance}function Tc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Dd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Nd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ac=null;function M_(e,n,a){if(Ac===null){var o=new Map,h=Ac=new Map;h.set(a,o)}else h=Ac,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[ui]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function U_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function RS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function L_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function IS(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=qa(o.href),f=n.querySelector(fl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Sc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Te(f);return}f=n.ownerDocument||n,o=O_(o),(h=kn.get(h))&&Dd(o,h),f=f.createElement("link"),Te(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Ge(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Sc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Od=0;function CS(e,n){return e.stylesheets&&e.count===0&&wc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Od===0&&(Od=62500*lS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Od?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bc=null;function wc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bc=new Map,n.forEach(DS,e),bc=null,Sc.call(e))}function DS(e,n){if(!(n.state.loading&4)){var a=bc.get(e);if(a)var o=a.get(null);else{a=new Map,bc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=Sc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ml={$$typeof:gt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function NS(e,n,a,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function x_(e,n,a,o,h,f,g,E,R,k,H,K){return e=new NS(e,n,a,g,R,k,H,K,E),n=1,f===!0&&(n|=24),f=vn(3,null,null,n),e.current=f,f.stateNode=e,n=cf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},mf(f),e}function P_(e){return e?(e=va,e):va}function k_(e,n,a,o,h,f){h=P_(h),o.context===null?o.context=h:o.pendingContext=h,o=br(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=wr(e,o,n),a!==null&&(hn(a,e,n),Qo(a,e,n))}function z_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Vd(e,n){z_(e,n),(e=e.alternate)&&z_(e,n)}function B_(e){if(e.tag===13||e.tag===31){var n=ws(e,67108864);n!==null&&hn(n,e,67108864),Vd(e,67108864)}}function q_(e){if(e.tag===13||e.tag===31){var n=bn();n=ds(n);var a=ws(e,n);a!==null&&hn(a,e,n),Vd(e,n)}}var Rc=!0;function OS(e,n,a,o){var h=j.T;j.T=null;var f=W.p;try{W.p=2,Md(e,n,a,o)}finally{W.p=f,j.T=h}}function VS(e,n,a,o){var h=j.T;j.T=null;var f=W.p;try{W.p=8,Md(e,n,a,o)}finally{W.p=f,j.T=h}}function Md(e,n,a,o){if(Rc){var h=Ud(o);if(h===null)vd(e,n,o,Ic,a),H_(e,o);else if(US(h,e,n,a,o))o.stopPropagation();else if(H_(e,o),n&4&&-1<MS.indexOf(e)){for(;h!==null;){var f=In(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=si(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-fe(g);E.entanglements[1]|=R,g&=~R}bi(f),(Ht&6)===0&&(uc=We()+500,ll(0))}}break;case 31:case 13:E=ws(f,2),E!==null&&hn(E,f,2),hc(),Vd(f,2)}if(f=Ud(o),f===null&&vd(e,n,o,Ic,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else vd(e,n,o,null,a)}}function Ud(e){return e=Cn(e),Ld(e)}var Ic=null;function Ld(e){if(Ic=null,e=ci(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ic=e,null}function j_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(us()){case yo:return 2;case _o:return 8;case ur:case Bh:return 32;case su:return 268435456;default:return 32}default:return 32}}var xd=!1,xr=null,Pr=null,kr=null,gl=new Map,pl=new Map,zr=[],MS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H_(e,n){switch(e){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(n.pointerId)}}function yl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=In(n),n!==null&&B_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function US(e,n,a,o,h){switch(n){case"focusin":return xr=yl(xr,e,n,a,o,h),!0;case"dragenter":return Pr=yl(Pr,e,n,a,o,h),!0;case"mouseover":return kr=yl(kr,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return gl.set(f,yl(gl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,pl.set(f,yl(pl.get(f)||null,e,n,a,o,h)),!0}return!1}function G_(e){var n=ci(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Hn(e.priority,function(){q_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,Hn(e.priority,function(){q_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Ud(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);No=o,a.target.dispatchEvent(o),No=null}else return n=In(a),n!==null&&B_(n),e.blockedOn=a,!1;n.shift()}return!0}function F_(e,n,a){Cc(e)&&a.delete(n)}function LS(){xd=!1,xr!==null&&Cc(xr)&&(xr=null),Pr!==null&&Cc(Pr)&&(Pr=null),kr!==null&&Cc(kr)&&(kr=null),gl.forEach(F_),pl.forEach(F_)}function Dc(e,n){e.blockedOn===n&&(e.blockedOn=null,xd||(xd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,LS)))}var Nc=null;function Q_(e){Nc!==e&&(Nc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Nc===e&&(Nc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Ld(o||a)===null)continue;break}var f=In(a);f!==null&&(e.splice(n,3),n-=3,Uf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ha(e){function n(R){return Dc(R,e)}xr!==null&&Dc(xr,e),Pr!==null&&Dc(Pr,e),kr!==null&&Dc(kr,e),gl.forEach(n),pl.forEach(n);for(var a=0;a<zr.length;a++){var o=zr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<zr.length&&(a=zr[0],a.blockedOn===null);)G_(a),a.blockedOn===null&&zr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[Le]||null;if(typeof f=="function")g||Q_(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Le]||null)E=g.formAction;else if(Ld(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),Q_(a)}}}function K_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Pd(e){this._internalRoot=e}Oc.prototype.render=Pd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=bn();k_(a,o,e,n,null,null)},Oc.prototype.unmount=Pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;k_(e.current,2,null,e,null,null),hc(),n[li]=null}};function Oc(e){this._internalRoot=e}Oc.prototype.unstable_scheduleHydration=function(e){if(e){var n=hu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<zr.length&&n!==0&&n<zr[a].priority;a++);zr.splice(a,0,e),a===0&&G_(e)}};var Y_=t.version;if(Y_!=="19.2.4")throw Error(s(527,Y_,"19.2.4"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var xS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{qn=Vc.inject(xS),ze=Vc}catch{}}return vl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",h=ey,f=ny,g=iy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=x_(e,1,!1,null,null,a,o,null,h,f,g,K_),e[li]=n.current,_d(e),new Pd(n)},vl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=ey,g=ny,E=iy,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=x_(e,1,!0,n,a??null,o,h,R,f,g,E,K_),n.context=P_(null),a=n.current,o=bn(),o=ds(o),h=br(o),h.callback=null,wr(a,h,o),a=o,n.current.lanes=a,hs(n,a),bi(n),e[li]=n.current,_d(e),new Oc(n)},vl.version="19.2.4",vl}var rv;function YS(){if(rv)return Bd.exports;rv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Bd.exports=KS(),Bd.exports}var XS=YS();const JS=()=>{};var sv={};const ME=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},ZS=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(v>>10)),t[s++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},UE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,v=l+2<r.length,y=v?r[l+2]:0,T=c>>2,S=(c&3)<<4|p>>4;let D=(p&15)<<2|y>>6,G=y&63;v||(G=64,d||(D=64)),s.push(i[T],i[S],i[D],i[G])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(ME(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):ZS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||S==null)throw new $S;const D=c<<2|p>>4;if(s.push(D),y!==64){const G=p<<4&240|y>>2;if(s.push(G),S!==64){const J=y<<6&192|S;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class $S extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WS=function(r){const t=ME(r);return UE.encodeByteArray(t,!0)},Xc=function(r){return WS(r).replace(/\./g,"")},LE=function(r){try{return UE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function t1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const e1=()=>t1().__FIREBASE_DEFAULTS__,n1=()=>{if(typeof process>"u"||typeof sv>"u")return;const r=sv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},i1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&LE(r[1]);return t&&JSON.parse(t)},yh=()=>{try{return JS()||e1()||n1()||i1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},xE=r=>yh()?.emulatorHosts?.[r],r1=r=>{const t=xE(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},PE=()=>yh()?.config,kE=r=>yh()?.[`_${r}`];class s1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}function ao(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zE(r){return(await fetch(r,{credentials:"include"})).ok}function a1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Xc(JSON.stringify(i)),Xc(JSON.stringify(d)),""].join(".")}const wl={};function o1(){const r={prod:[],emulator:[]};for(const t of Object.keys(wl))wl[t]?r.emulator.push(t):r.prod.push(t);return r}function l1(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let av=!1;function BE(r,t){if(typeof window>"u"||typeof document>"u"||!ao(window.location.host)||wl[r]===t||wl[r]||av)return;wl[r]=t;function i(D){return`__firebase__banner__${D}`}const s="__firebase__banner",c=o1().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function v(D,G){D.setAttribute("width","24"),D.setAttribute("id",G),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function y(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{av=!0,d()},D}function T(D,G){D.setAttribute("id",G),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=l1(s),G=i("text"),J=document.getElementById(G)||document.createElement("span"),Z=i("learnmore"),tt=document.getElementById(Z)||document.createElement("a"),ht=i("preprendIcon"),yt=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const gt=D.element;p(gt),T(tt,Z);const kt=y();v(yt,ht),gt.append(yt,J,tt,kt),document.body.appendChild(gt)}c?(J.innerText="Preview backend disconnected.",yt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(yt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function c1(){const r=yh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function f1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function d1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function m1(){const r=$e();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function g1(){return!c1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function p1(){try{return typeof indexedDB=="object"}catch{return!1}}function y1(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const _1="FirebaseError";class ar extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=_1,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?v1(c,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ar(l,p,s)}}function v1(r,t){return r.replace(E1,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const E1=/\{\$([^}]+)}/g;function T1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Hs(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(ov(c)&&ov(d)){if(!Hs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function ov(r){return r!==null&&typeof r=="object"}function Gl(r){const t=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function A1(r,t){const i=new S1(r,t);return i.subscribe.bind(i)}class S1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");b1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=Gd),l.error===void 0&&(l.error=Gd),l.complete===void 0&&(l.complete=Gd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function b1(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Gd(){}function ye(r){return r&&r._delegate?r._delegate:r}class Gs{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ks="[DEFAULT]";class w1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new s1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(I1(t))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=ks){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ks){return this.instances.has(t)}getOptions(t=ks){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:R1(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ks){return this.component?this.component.multipleInstances?t:ks:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function R1(r){return r===ks?void 0:r}function I1(r){return r.instantiationMode==="EAGER"}class C1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new w1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const D1={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},N1=Vt.INFO,O1={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},V1=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=O1[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Nm{constructor(t){this.name=t,this._logLevel=N1,this._logHandler=V1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?D1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const M1=(r,t)=>t.some(i=>r instanceof i);let lv,uv;function U1(){return lv||(lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L1(){return uv||(uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qE=new WeakMap,im=new WeakMap,jE=new WeakMap,Fd=new WeakMap,Om=new WeakMap;function x1(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Qr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&qE.set(i,r)}).catch(()=>{}),Om.set(t,r),t}function P1(r){if(im.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});im.set(r,t)}let rm={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return im.get(r);if(t==="objectStoreNames")return r.objectStoreNames||jE.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Qr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function k1(r){rm=r(rm)}function z1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(Qd(this),t,...i);return jE.set(s,t.sort?t.sort():[t]),Qr(s)}:L1().includes(r)?function(...t){return r.apply(Qd(this),t),Qr(qE.get(this))}:function(...t){return Qr(r.apply(Qd(this),t))}}function B1(r){return typeof r=="function"?z1(r):(r instanceof IDBTransaction&&P1(r),M1(r,U1())?new Proxy(r,rm):r)}function Qr(r){if(r instanceof IDBRequest)return x1(r);if(Fd.has(r))return Fd.get(r);const t=B1(r);return t!==r&&(Fd.set(r,t),Om.set(t,r)),t}const Qd=r=>Om.get(r);function q1(r,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Qr(d);return s&&d.addEventListener("upgradeneeded",v=>{s(Qr(d.result),v.oldVersion,v.newVersion,Qr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const j1=["get","getKey","getAll","getAllKeys","count"],H1=["put","add","delete","clear"],Kd=new Map;function cv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Kd.get(t))return Kd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=H1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||j1.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&v.done]))[0]};return Kd.set(t,c),c}k1(r=>({...r,get:(t,i,s)=>cv(t,i)||r.get(t,i,s),has:(t,i)=>!!cv(t,i)||r.has(t,i)}));class G1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(F1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function F1(r){return r.getComponent()?.type==="VERSION"}const sm="@firebase/app",hv="0.14.9";const er=new Nm("@firebase/app"),Q1="@firebase/app-compat",K1="@firebase/analytics-compat",Y1="@firebase/analytics",X1="@firebase/app-check-compat",J1="@firebase/app-check",Z1="@firebase/auth",$1="@firebase/auth-compat",W1="@firebase/database",tb="@firebase/data-connect",eb="@firebase/database-compat",nb="@firebase/functions",ib="@firebase/functions-compat",rb="@firebase/installations",sb="@firebase/installations-compat",ab="@firebase/messaging",ob="@firebase/messaging-compat",lb="@firebase/performance",ub="@firebase/performance-compat",cb="@firebase/remote-config",hb="@firebase/remote-config-compat",fb="@firebase/storage",db="@firebase/storage-compat",mb="@firebase/firestore",gb="@firebase/ai",pb="@firebase/firestore-compat",yb="firebase",_b="12.10.0";const am="[DEFAULT]",vb={[sm]:"fire-core",[Q1]:"fire-core-compat",[Y1]:"fire-analytics",[K1]:"fire-analytics-compat",[J1]:"fire-app-check",[X1]:"fire-app-check-compat",[Z1]:"fire-auth",[$1]:"fire-auth-compat",[W1]:"fire-rtdb",[tb]:"fire-data-connect",[eb]:"fire-rtdb-compat",[nb]:"fire-fn",[ib]:"fire-fn-compat",[rb]:"fire-iid",[sb]:"fire-iid-compat",[ab]:"fire-fcm",[ob]:"fire-fcm-compat",[lb]:"fire-perf",[ub]:"fire-perf-compat",[cb]:"fire-rc",[hb]:"fire-rc-compat",[fb]:"fire-gcs",[db]:"fire-gcs-compat",[mb]:"fire-fst",[pb]:"fire-fst-compat",[gb]:"fire-vertex","fire-js":"fire-js",[yb]:"fire-js-all"};const Jc=new Map,Eb=new Map,om=new Map;function fv(r,t){try{r.container.addComponent(t)}catch(i){er.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Wa(r){const t=r.name;if(om.has(t))return er.debug(`There were multiple attempts to register component ${t}.`),!1;om.set(t,r);for(const i of Jc.values())fv(i,r);for(const i of Eb.values())fv(i,r);return!0}function Vm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function zn(r){return r==null?!1:r.settings!==void 0}const Tb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new Hl("app","Firebase",Tb);class Ab{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}const oo=_b;function HE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s={name:am,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Kr.create("bad-app-name",{appName:String(l)});if(i||(i=PE()),!i)throw Kr.create("no-options");const c=Jc.get(l);if(c){if(Hs(i,c.options)&&Hs(s,c.config))return c;throw Kr.create("duplicate-app",{appName:l})}const d=new C1(l);for(const v of om.values())d.addComponent(v);const p=new Ab(i,s,d);return Jc.set(l,p),p}function GE(r=am){const t=Jc.get(r);if(!t&&r===am&&PE())return HE();if(!t)throw Kr.create("no-app",{appName:r});return t}function Yr(r,t,i){let s=vb[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),er.warn(d.join(" "));return}Wa(new Gs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const Sb="firebase-heartbeat-database",bb=1,Vl="firebase-heartbeat-store";let Yd=null;function FE(){return Yd||(Yd=q1(Sb,bb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Vl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Kr.create("idb-open",{originalErrorMessage:r.message})})),Yd}async function wb(r){try{const i=(await FE()).transaction(Vl),s=await i.objectStore(Vl).get(QE(r));return await i.done,s}catch(t){if(t instanceof ar)er.warn(t.message);else{const i=Kr.create("idb-get",{originalErrorMessage:t?.message});er.warn(i.message)}}}async function dv(r,t){try{const s=(await FE()).transaction(Vl,"readwrite");await s.objectStore(Vl).put(t,QE(r)),await s.done}catch(i){if(i instanceof ar)er.warn(i.message);else{const s=Kr.create("idb-set",{originalErrorMessage:i?.message});er.warn(s.message)}}}function QE(r){return`${r.name}!${r.options.appId}`}const Rb=1024,Ib=30;class Cb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Nb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=mv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Ib){const l=Ob(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){er.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=mv(),{heartbeatsToSend:i,unsentEntries:s}=Db(this._heartbeatsCache.heartbeats),l=Xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return er.warn(t),""}}}function mv(){return new Date().toISOString().substring(0,10)}function Db(r,t=Rb){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),gv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),gv(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Nb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return p1()?y1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await wb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return dv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return dv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function gv(r){return Xc(JSON.stringify({version:2,heartbeats:r})).length}function Ob(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}function Vb(r){Wa(new Gs("platform-logger",t=>new G1(t),"PRIVATE")),Wa(new Gs("heartbeat",t=>new Cb(t),"PRIVATE")),Yr(sm,hv,r),Yr(sm,hv,"esm2020"),Yr("fire-js","")}Vb("");function KE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mb=KE,YE=new Hl("auth","Firebase",KE());const Zc=new Nm("@firebase/auth");function Ub(r,...t){Zc.logLevel<=Vt.WARN&&Zc.warn(`Auth (${oo}): ${r}`,...t)}function zc(r,...t){Zc.logLevel<=Vt.ERROR&&Zc.error(`Auth (${oo}): ${r}`,...t)}function Ni(r,...t){throw Um(r,...t)}function ti(r,...t){return Um(r,...t)}function Mm(r,t,i){const s={...Mb(),[t]:i};return new Hl("auth","Firebase",s).create(t,{appName:r.name})}function Xr(r){return Mm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XE(r,t,i){const s=i;if(!(t instanceof s))throw s.name!==t.constructor.name&&Ni(r,"argument-error"),Mm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Um(r,...t){if(typeof r!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return YE.create(r,...t)}function mt(r,t,...i){if(!r)throw Um(t,...i)}function $i(r){const t="INTERNAL ASSERTION FAILED: "+r;throw zc(t),new Error(t)}function nr(r,t){r||$i(t)}function lm(){return typeof self<"u"&&self.location?.href||""}function Lb(){return pv()==="http:"||pv()==="https:"}function pv(){return typeof self<"u"&&self.location?.protocol||null}function xb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Lb()||f1()||"connection"in navigator)?navigator.onLine:!0}function Pb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Fl{constructor(t,i){this.shortDelay=t,this.longDelay=i,nr(i>t,"Short delay should be less than long delay!"),this.isMobile=u1()||d1()}get(){return xb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lm(r,t){nr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class JE{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const zb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Bb=new Fl(3e4,6e4);function xm(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function lo(r,t,i,s,l={}){return ZE(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const p=Gl({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:v,...c};return h1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ao(r.emulatorConfig.host)&&(y.credentials="include"),JE.fetch()(await $E(r,r.config.apiHost,i,p),y)})}async function ZE(r,t,i){r._canInitEmulator=!1;const s={...kb,...t};try{const l=new jb(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Mc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,y]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Mc(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Mc(r,"user-disabled",d);const T=s[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Mm(r,T,y);Ni(r,T)}}catch(l){if(l instanceof ar)throw l;Ni(r,"network-request-failed",{message:String(l)})}}async function qb(r,t,i,s,l={}){const c=await lo(r,t,i,s,l);return"mfaPendingCredential"in c&&Ni(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function $E(r,t,i,s){const l=`${t}${i}?${s}`,c=r,d=c.config.emulator?Lm(r.config,l):`${r.config.apiScheme}://${l}`;return zb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class jb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(ti(this.auth,"network-request-failed")),Bb.get())})}}function Mc(r,t,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=ti(r,t,s);return l.customData._tokenResponse=i,l}async function Hb(r,t){return lo(r,"POST","/v1/accounts:delete",t)}async function $c(r,t){return lo(r,"POST","/v1/accounts:lookup",t)}function Rl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Gb(r,t=!1){const i=ye(r),s=await i.getIdToken(t),l=Pm(s);mt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:Rl(Xd(l.auth_time)),issuedAtTime:Rl(Xd(l.iat)),expirationTime:Rl(Xd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Xd(r){return Number(r)*1e3}function Pm(r){const[t,i,s]=r.split(".");if(t===void 0||i===void 0||s===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const l=LE(i);return l?JSON.parse(l):(zc("Failed to decode base64 JWT payload"),null)}catch(l){return zc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function yv(r){const t=Pm(r);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ml(r,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof ar&&Fb(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Fb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Qb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class um{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wc(r){const t=r.auth,i=await r.getIdToken(),s=await Ml(r,$c(t,{idToken:i}));mt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?WE(l.providerUserInfo):[],d=Yb(r.providerData,c),p=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!d?.length,y=p?v:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,T)}async function Kb(r){const t=ye(r);await Wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Yb(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function WE(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Xb(r,t){const i=await ZE(r,{},async()=>{const s=Gl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await $E(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:s};return r.emulatorConfig&&ao(r.emulatorConfig.host)&&(v.credentials="include"),JE.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Jb(r,t){return lo(r,"POST","/v2/accounts:revokeToken",xm(r,t))}class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):yv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const i=yv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await Xb(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new Ya;return s&&(mt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(mt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(mt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return $i("not implemented")}}function qr(r,t){mt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Wn{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new Qb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new um(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ml(this,this.stsTokenManager.getToken(this.auth,t));return mt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Gb(this,t)}reload(){return Kb(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Wc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(Xr(this.auth));const t=await this.getIdToken();return await Ml(this,Hb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:S,emailVerified:D,isAnonymous:G,providerData:J,stsTokenManager:Z}=i;mt(S&&Z,t,"internal-error");const tt=Ya.fromJSON(this.name,Z);mt(typeof S=="string",t,"internal-error"),qr(s,t.name),qr(l,t.name),mt(typeof D=="boolean",t,"internal-error"),mt(typeof G=="boolean",t,"internal-error"),qr(c,t.name),qr(d,t.name),qr(p,t.name),qr(v,t.name),qr(y,t.name),qr(T,t.name);const ht=new Wn({uid:S,auth:t,email:l,emailVerified:D,displayName:s,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:tt,createdAt:y,lastLoginAt:T});return J&&Array.isArray(J)&&(ht.providerData=J.map(yt=>({...yt}))),v&&(ht._redirectEventId=v),ht}static async _fromIdTokenResponse(t,i,s=!1){const l=new Ya;l.updateFromServerResponse(i);const c=new Wn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Wc(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];mt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?WE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ya;p.updateFromIdToken(s);const v=new Wn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const _v=new Map;function Wi(r){nr(r instanceof Function,"Expected a class definition");let t=_v.get(r);return t?(nr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,_v.set(r,t),t)}class tT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}tT.type="NONE";const vv=tT;function Bc(r,t,i){return`firebase:${r}:${t}:${i}`}class Xa{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Bc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Bc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await $c(this.auth,{idToken:t}).catch(()=>{});return i?Wn._fromGetAccountInfoResponse(this.auth,i,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new Xa(Wi(vv),t,s);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Wi(vv);const d=Bc(s,t.config.apiKey,t.name);let p=null;for(const y of i)try{const T=await y._get(d);if(T){let S;if(typeof T=="string"){const D=await $c(t,{idToken:T}).catch(()=>{});if(!D)break;S=await Wn._fromGetAccountInfoResponse(t,D,T)}else S=Wn._fromJSON(t,T);y!==c&&(p=S),c=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Xa(c,t,s):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Xa(c,t,s))}}function Ev(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(eT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(aT(t))return"Blackberry";if(oT(t))return"Webos";if(nT(t))return"Safari";if((t.includes("chrome/")||iT(t))&&!t.includes("edge/"))return"Chrome";if(sT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function eT(r=$e()){return/firefox\//i.test(r)}function nT(r=$e()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function iT(r=$e()){return/crios\//i.test(r)}function rT(r=$e()){return/iemobile/i.test(r)}function sT(r=$e()){return/android/i.test(r)}function aT(r=$e()){return/blackberry/i.test(r)}function oT(r=$e()){return/webos/i.test(r)}function km(r=$e()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Zb(r=$e()){return km(r)&&!!window.navigator?.standalone}function $b(){return m1()&&document.documentMode===10}function lT(r=$e()){return km(r)||sT(r)||oT(r)||aT(r)||/windows phone/i.test(r)||rT(r)}function uT(r,t=[]){let i;switch(r){case"Browser":i=Ev($e());break;case"Worker":i=`${Ev($e())}-${r}`;break;default:i=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${oo}/${s}`}class Wb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,p)=>{try{const v=t(c);d(v)}catch(v){p(v)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function tw(r,t={}){return lo(r,"GET","/v2/passwordPolicy",xm(r,t))}const ew=6;class nw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??ew,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class iw{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tv(this),this.idTokenSubscription=new Tv(this),this.beforeStateQueue=new Wb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Wi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await $c(this,{idToken:t}),s=await Wn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Wc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Pb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(zn(this.app))return Promise.reject(Xr(this));const i=t?ye(t):null;return i&&mt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(Xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return zn(this.app)?Promise.reject(Xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await tw(this),i=new nw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Hl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await Jb(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Wi(t)||this._popupRedirectResolver;mt(i,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[Wi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,s,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=uT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Ub(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ql(r){return ye(r)}class Tv{constructor(t){this.auth=t,this.observer=null,this.addObserver=A1(i=>this.observer=i)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rw(r){zm=r}function sw(r){return zm.loadJS(r)}function aw(){return zm.gapiScript}function ow(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function lw(r,t){const i=Vm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Hs(c,t??{}))return l;Ni(l,"already-initialized")}return i.initialize({options:t})}function uw(r,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(Wi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function cw(r,t,i){const s=Ql(r);mt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=cT(t),{host:d,port:p}=hw(t),v=p===null?"":`:${p}`,y={url:`${c}//${d}${v}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){mt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),mt(Hs(y,s.config.emulator)&&Hs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,ao(d)?(zE(`${c}//${d}${v}`),BE("Auth",!0)):fw()}function cT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function hw(r){const t=cT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:Av(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:Av(d)}}}function Av(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function fw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class hT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return $i("not implemented")}_getIdTokenResponse(t){return $i("not implemented")}_linkToIdToken(t,i){return $i("not implemented")}_getReauthenticationResolver(t){return $i("not implemented")}}async function Ja(r,t){return qb(r,"POST","/v1/accounts:signInWithIdp",xm(r,t))}const dw="http://localhost";class Fs extends hT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Fs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ni("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new Fs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ja(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Ja(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ja(t,i)}buildRequest(){const t={requestUri:dw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Gl(i)}return t}}class _h{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Kl extends _h{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class jr extends Kl{constructor(){super("facebook.com")}static credential(t){return Fs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return jr.credential(t.oauthAccessToken)}catch{return null}}}jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";jr.PROVIDER_ID="facebook.com";class Zi extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Fs._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Zi.credentialFromTaggedObject(t)}static credentialFromError(t){return Zi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Zi.credential(i,s)}catch{return null}}}Zi.GOOGLE_SIGN_IN_METHOD="google.com";Zi.PROVIDER_ID="google.com";class Hr extends Kl{constructor(){super("github.com")}static credential(t){return Fs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hr.credential(t.oauthAccessToken)}catch{return null}}}Hr.GITHUB_SIGN_IN_METHOD="github.com";Hr.PROVIDER_ID="github.com";class Gr extends Kl{constructor(){super("twitter.com")}static credential(t,i){return Fs._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Gr.credential(i,s)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";class to{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await Wn._fromIdTokenResponse(t,s,l),d=Sv(s);return new to({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=Sv(s);return new to({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function Sv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class th extends ar{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,th.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new th(t,i,s,l)}}function fT(r,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(r,c,t,s):c})}async function mw(r,t,i=!1){const s=await Ml(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return to._forOperation(r,"link",s)}async function gw(r,t,i=!1){const{auth:s}=r;if(zn(s.app))return Promise.reject(Xr(s));const l="reauthenticate";try{const c=await Ml(r,fT(s,l,t,r),i);mt(c.idToken,s,"internal-error");const d=Pm(c.idToken);mt(d,s,"internal-error");const{sub:p}=d;return mt(r.uid===p,s,"user-mismatch"),to._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ni(s,"user-mismatch"),c}}async function pw(r,t,i=!1){if(zn(r.app))return Promise.reject(Xr(r));const s="signIn",l=await fT(r,s,t),c=await to._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}function yw(r,t){return ye(r).setPersistence(t)}function _w(r,t,i,s){return ye(r).onIdTokenChanged(t,i,s)}function vw(r,t,i){return ye(r).beforeAuthStateChanged(t,i)}function Ew(r,t,i,s){return ye(r).onAuthStateChanged(t,i,s)}function Tw(r){return ye(r).signOut()}const eh="__sak";class dT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Aw=1e3,Sw=10;class mT extends dT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);$b()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Sw):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},Aw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}mT.type="LOCAL";const gT=mT;class pT extends dT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}pT.type="SESSION";const yT=pT;function bw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class vh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new vh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),v=await bw(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];function Bm(r="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return r+i}class ww{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const y=Bm("",20);l.port1.start();const T=setTimeout(()=>{v(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(S){const D=S;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(D.data.response);break;default:clearTimeout(T),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ri(){return window}function Rw(r){Ri().location.href=r}function _T(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function Iw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Cw(){return navigator?.serviceWorker?.controller||null}function Dw(){return _T()?self:null}const vT="firebaseLocalStorageDb",Nw=1,nh="firebaseLocalStorage",ET="fbase_key";class Yl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Eh(r,t){return r.transaction([nh],t?"readwrite":"readonly").objectStore(nh)}function Ow(){const r=indexedDB.deleteDatabase(vT);return new Yl(r).toPromise()}function cm(){const r=indexedDB.open(vT,Nw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(nh,{keyPath:ET})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(nh)?t(s):(s.close(),await Ow(),t(await cm()))})})}async function bv(r,t,i){const s=Eh(r,!0).put({[ET]:t,value:i});return new Yl(s).toPromise()}async function Vw(r,t){const i=Eh(r,!1).get(t),s=await new Yl(i).toPromise();return s===void 0?null:s.value}function wv(r,t){const i=Eh(r,!0).delete(t);return new Yl(i).toPromise()}const Mw=800,Uw=3;class TT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>Uw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _T()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(Dw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Iw(),!this.activeServiceWorker)return;this.sender=new ww(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Cw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await cm();return await bv(t,eh,"1"),await wv(t,eh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>bv(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>Vw(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>wv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Eh(l,!1).getAll();return new Yl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Mw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TT.type="LOCAL";const Lw=TT;new Fl(3e4,6e4);function qm(r,t){return t?Wi(t):(mt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class jm extends hT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ja(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ja(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function xw(r){return pw(r.auth,new jm(r),r.bypassAuthState)}function Pw(r){const{auth:t,user:i}=r;return mt(i,t,"internal-error"),gw(i,new jm(r),r.bypassAuthState)}async function kw(r){const{auth:t,user:i}=r;return mt(i,t,"internal-error"),mw(i,new jm(r),r.bypassAuthState)}class AT{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return xw;case"linkViaPopup":case"linkViaRedirect":return kw;case"reauthViaPopup":case"reauthViaRedirect":return Pw;default:Ni(this.auth,"internal-error")}}resolve(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zw=new Fl(2e3,1e4);async function Bw(r,t,i){if(zn(r.app))return Promise.reject(ti(r,"operation-not-supported-in-this-environment"));const s=Ql(r);XE(r,t,_h);const l=qm(s,i);return new zs(s,"signInViaPopup",t,l).executeNotNull()}class zs extends AT{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,zs.currentPopupAction&&zs.currentPopupAction.cancel(),zs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){nr(this.filter.length===1,"Popup operations only handle one event");const t=Bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,zw.get())};t()}}zs.currentPopupAction=null;const qw="pendingRedirect",qc=new Map;class jw extends AT{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=qc.get(this.auth._key());if(!t){try{const s=await Hw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}qc.set(this.auth._key(),t)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Hw(r,t){const i=bT(t),s=ST(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}async function Gw(r,t){return ST(r)._set(bT(t),"true")}function Fw(r,t){qc.set(r._key(),t)}function ST(r){return Wi(r._redirectPersistence)}function bT(r){return Bc(qw,r.config.apiKey,r.name)}function Qw(r,t,i){return Kw(r,t,i)}async function Kw(r,t,i){if(zn(r.app))return Promise.reject(Xr(r));const s=Ql(r);XE(r,t,_h),await s._initializationPromise;const l=qm(s,i);return await Gw(l,s),l._openRedirect(s,t,"signInViaRedirect")}async function Yw(r,t,i=!1){if(zn(r.app))return Promise.reject(Xr(r));const s=Ql(r),l=qm(s,t),d=await new jw(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const Xw=600*1e3;class Jw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Zw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!wT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ti(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Xw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rv(t))}saveEventToCache(t){this.cachedEventUids.add(Rv(t)),this.lastProcessedEventTime=Date.now()}}function Rv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function wT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Zw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wT(r);default:return!1}}async function $w(r,t={}){return lo(r,"GET","/v1/projects",t)}const Ww=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tR=/^https?/;async function eR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await $w(r);for(const i of t)try{if(nR(i))return}catch{}Ni(r,"unauthorized-domain")}function nR(r){const t=lm(),{protocol:i,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!tR.test(i))return!1;if(Ww.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const iR=new Fl(3e4,6e4);function Iv(){const r=Ri().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function rR(r){return new Promise((t,i)=>{function s(){Iv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Iv(),i(ti(r,"network-request-failed"))},timeout:iR.get()})}if(Ri().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ri().gapi?.load)s();else{const l=ow("iframefcb");return Ri()[l]=()=>{gapi.load?s():i(ti(r,"network-request-failed"))},sw(`${aw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw jc=null,t})}let jc=null;function sR(r){return jc=jc||rR(r),jc}const aR=new Fl(5e3,15e3),oR="__/auth/iframe",lR="emulator/auth/iframe",uR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hR(r){const t=r.config;mt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Lm(t,lR):`https://${r.config.authDomain}/${oR}`,s={apiKey:t.apiKey,appName:r.name,v:oo},l=cR.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Gl(s).slice(1)}`}async function fR(r){const t=await sR(r),i=Ri().gapi;return mt(i,r,"internal-error"),t.open({where:document.body,url:hR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=ti(r,"network-request-failed"),p=Ri().setTimeout(()=>{c(d)},aR.get());function v(){Ri().clearTimeout(p),l(s)}s.ping(v).then(v,()=>{c(d)})}))}const dR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mR=500,gR=600,pR="_blank",yR="http://localhost";class Cv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _R(r,t,i,s=mR,l=gR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const v={...dR,width:s.toString(),height:l.toString(),top:c,left:d},y=$e().toLowerCase();i&&(p=iT(y)?pR:i),eT(y)&&(t=t||yR,v.scrollbars="yes");const T=Object.entries(v).reduce((D,[G,J])=>`${D}${G}=${J},`,"");if(Zb(y)&&p!=="_self")return vR(t||"",p),new Cv(null);const S=window.open(t||"",p,T);mt(S,r,"popup-blocked");try{S.focus()}catch{}return new Cv(S)}function vR(r,t){const i=document.createElement("a");i.href=r,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const ER="__/auth/handler",TR="emulator/auth/handler",AR=encodeURIComponent("fac");async function Dv(r,t,i,s,l,c){mt(r.config.authDomain,r,"auth-domain-config-required"),mt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:oo,eventId:l};if(t instanceof _h){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",T1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(t instanceof Kl){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const v=await r._getAppCheckToken(),y=v?`#${AR}=${encodeURIComponent(v)}`:"";return`${SR(r)}?${Gl(p).slice(1)}${y}`}function SR({config:r}){return r.emulator?Lm(r,TR):`https://${r.authDomain}/${ER}`}const Jd="webStorageSupport";class bR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yT,this._completeRedirectFn=Yw,this._overrideRedirectResult=Fw}async _openPopup(t,i,s,l){nr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Dv(t,i,s,lm(),l);return _R(t,c,Bm())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await Dv(t,i,s,lm(),l);return Rw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(nr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await fR(t),s=new Jw(t);return i.register("authEvent",l=>(mt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Jd,{type:Jd},l=>{const c=l?.[0]?.[Jd];c!==void 0&&i(!!c),Ni(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=eR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return lT()||nT()||km()}}const wR=bR;var Nv="@firebase/auth",Ov="1.12.1";class RR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function IR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CR(r){Wa(new Gs("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const v={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uT(r)},y=new iw(s,l,c,v);return uw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Wa(new Gs("auth-internal",t=>{const i=Ql(t.getProvider("auth").getImmediate());return(s=>new RR(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(Nv,Ov,IR(r)),Yr(Nv,Ov,"esm2020")}const DR=300,NR=kE("authIdTokenMaxAge")||DR;let Vv=null;const OR=r=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>NR)return;const l=i?.token;Vv!==l&&(Vv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function VR(r=GE()){const t=Vm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=lw(r,{popupRedirectResolver:wR,persistence:[Lw,gT,yT]}),s=kE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=OR(c.toString());vw(i,d,()=>d(i.currentUser)),_w(i,p=>d(p))}}const l=xE("auth");return l&&cw(i,`http://${l}`),i}function MR(){return document.getElementsByTagName("head")?.[0]??document}rw({loadJS(r){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=ti("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",MR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CR("Browser");var UR="firebase",LR="12.10.0";Yr(UR,LR,"app");var Mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Jr,RT;(function(){var r;function t(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,N,L){for(var w=Array(arguments.length-2),st=2;st<arguments.length;st++)w[st-2]=arguments[st];return b.prototype[N].apply(M,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);const M=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)M[N]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(N=0;N<16;++N)M[N]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],N=C.g[2];let L=C.g[3],w;w=b+(L^I&(N^L))+M[0]+3614090360&4294967295,b=I+(w<<7&4294967295|w>>>25),w=L+(N^b&(I^N))+M[1]+3905402710&4294967295,L=b+(w<<12&4294967295|w>>>20),w=N+(I^L&(b^I))+M[2]+606105819&4294967295,N=L+(w<<17&4294967295|w>>>15),w=I+(b^N&(L^b))+M[3]+3250441966&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(L^I&(N^L))+M[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=L+(N^b&(I^N))+M[5]+1200080426&4294967295,L=b+(w<<12&4294967295|w>>>20),w=N+(I^L&(b^I))+M[6]+2821735955&4294967295,N=L+(w<<17&4294967295|w>>>15),w=I+(b^N&(L^b))+M[7]+4249261313&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(L^I&(N^L))+M[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=L+(N^b&(I^N))+M[9]+2336552879&4294967295,L=b+(w<<12&4294967295|w>>>20),w=N+(I^L&(b^I))+M[10]+4294925233&4294967295,N=L+(w<<17&4294967295|w>>>15),w=I+(b^N&(L^b))+M[11]+2304563134&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(L^I&(N^L))+M[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=L+(N^b&(I^N))+M[13]+4254626195&4294967295,L=b+(w<<12&4294967295|w>>>20),w=N+(I^L&(b^I))+M[14]+2792965006&4294967295,N=L+(w<<17&4294967295|w>>>15),w=I+(b^N&(L^b))+M[15]+1236535329&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(N^L&(I^N))+M[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=L+(I^N&(b^I))+M[6]+3225465664&4294967295,L=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(L^b))+M[11]+643717713&4294967295,N=L+(w<<14&4294967295|w>>>18),w=I+(L^b&(N^L))+M[0]+3921069994&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^L&(I^N))+M[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=L+(I^N&(b^I))+M[10]+38016083&4294967295,L=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(L^b))+M[15]+3634488961&4294967295,N=L+(w<<14&4294967295|w>>>18),w=I+(L^b&(N^L))+M[4]+3889429448&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^L&(I^N))+M[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=L+(I^N&(b^I))+M[14]+3275163606&4294967295,L=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(L^b))+M[3]+4107603335&4294967295,N=L+(w<<14&4294967295|w>>>18),w=I+(L^b&(N^L))+M[8]+1163531501&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^L&(I^N))+M[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=L+(I^N&(b^I))+M[2]+4243563512&4294967295,L=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(L^b))+M[7]+1735328473&4294967295,N=L+(w<<14&4294967295|w>>>18),w=I+(L^b&(N^L))+M[12]+2368359562&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(I^N^L)+M[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=L+(b^I^N)+M[8]+2272392833&4294967295,L=b+(w<<11&4294967295|w>>>21),w=N+(L^b^I)+M[11]+1839030562&4294967295,N=L+(w<<16&4294967295|w>>>16),w=I+(N^L^b)+M[14]+4259657740&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^L)+M[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=L+(b^I^N)+M[4]+1272893353&4294967295,L=b+(w<<11&4294967295|w>>>21),w=N+(L^b^I)+M[7]+4139469664&4294967295,N=L+(w<<16&4294967295|w>>>16),w=I+(N^L^b)+M[10]+3200236656&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^L)+M[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=L+(b^I^N)+M[0]+3936430074&4294967295,L=b+(w<<11&4294967295|w>>>21),w=N+(L^b^I)+M[3]+3572445317&4294967295,N=L+(w<<16&4294967295|w>>>16),w=I+(N^L^b)+M[6]+76029189&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^L)+M[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=L+(b^I^N)+M[12]+3873151461&4294967295,L=b+(w<<11&4294967295|w>>>21),w=N+(L^b^I)+M[15]+530742520&4294967295,N=L+(w<<16&4294967295|w>>>16),w=I+(N^L^b)+M[2]+3299628645&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(N^(I|~L))+M[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=L+(I^(b|~N))+M[7]+1126891415&4294967295,L=b+(w<<10&4294967295|w>>>22),w=N+(b^(L|~I))+M[14]+2878612391&4294967295,N=L+(w<<15&4294967295|w>>>17),w=I+(L^(N|~b))+M[5]+4237533241&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~L))+M[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=L+(I^(b|~N))+M[3]+2399980690&4294967295,L=b+(w<<10&4294967295|w>>>22),w=N+(b^(L|~I))+M[10]+4293915773&4294967295,N=L+(w<<15&4294967295|w>>>17),w=I+(L^(N|~b))+M[1]+2240044497&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~L))+M[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=L+(I^(b|~N))+M[15]+4264355552&4294967295,L=b+(w<<10&4294967295|w>>>22),w=N+(b^(L|~I))+M[6]+2734768916&4294967295,N=L+(w<<15&4294967295|w>>>17),w=I+(L^(N|~b))+M[13]+1309151649&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~L))+M[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=L+(I^(b|~N))+M[11]+3174756917&4294967295,L=b+(w<<10&4294967295|w>>>22),w=N+(b^(L|~I))+M[2]+718787259&4294967295,N=L+(w<<15&4294967295|w>>>17),w=I+(L^(N|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+L&4294967295}s.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,M=this.C;let N=this.h,L=0;for(;L<b;){if(N==0)for(;L<=I;)l(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<b;)if(M[N++]=C.charCodeAt(L++),N==this.blockSize){l(this,M),N=0;break}}else for(;L<b;)if(M[N++]=C[L++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=b},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[b++]=this.g[I]>>>M&255;return C};function c(C,b){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;const I=[];let M=!0;for(let N=C.length-1;N>=0;N--){const L=C[N]|0;M&&L==b||(I[N]=L,M=!1)}this.g=I}var p={};function v(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return tt(y(-C));const b=[];let I=1;for(let M=0;C>=I;M++)b[M]=C/I|0,I*=4294967296;return new d(b,0)}function T(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return tt(T(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(b,8));let M=S;for(let L=0;L<C.length;L+=8){var N=Math.min(8,C.length-L);const w=parseInt(C.substring(L,L+N),b);N<8?(N=y(Math.pow(b,N)),M=M.j(N).add(y(w))):(M=M.j(I),M=M.add(y(w)))}return M}var S=v(0),D=v(1),G=v(16777216);r=d.prototype,r.m=function(){if(Z(this))return-tt(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(J(this))return"0";if(Z(this))return"-"+tt(this).toString(C);const b=y(Math.pow(C,6));var I=this;let M="";for(;;){const N=kt(I,b).g;I=ht(I,N.j(b));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,J(I))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function J(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function Z(C){return C.h==-1}r.l=function(C){return C=ht(this,C),Z(C)?-1:J(C)?0:1};function tt(C){const b=C.g.length,I=[];for(let M=0;M<b;M++)I[M]=~C.g[M];return new d(I,~C.h).add(D)}r.abs=function(){return Z(this)?tt(this):this},r.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let N=0;N<=b;N++){let L=M+(this.i(N)&65535)+(C.i(N)&65535),w=(L>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);M=w>>>16,L&=65535,w&=65535,I[N]=w<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ht(C,b){return C.add(tt(b))}r.j=function(C){if(J(this)||J(C))return S;if(Z(this))return Z(C)?tt(this).j(tt(C)):tt(tt(this).j(C));if(Z(C))return tt(this.j(tt(C)));if(this.l(G)<0&&C.l(G)<0)return y(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var M=0;M<2*b;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<C.g.length;N++){const L=this.i(M)>>>16,w=this.i(M)&65535,st=C.i(N)>>>16,bt=C.i(N)&65535;I[2*M+2*N]+=w*bt,yt(I,2*M+2*N),I[2*M+2*N+1]+=L*bt,yt(I,2*M+2*N+1),I[2*M+2*N+1]+=w*st,yt(I,2*M+2*N+1),I[2*M+2*N+2]+=L*st,yt(I,2*M+2*N+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new d(I,0)};function yt(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function gt(C,b){this.g=C,this.h=b}function kt(C,b){if(J(b))throw Error("division by zero");if(J(C))return new gt(S,S);if(Z(C))return b=kt(tt(C),b),new gt(tt(b.g),tt(b.h));if(Z(b))return b=kt(C,tt(b)),new gt(tt(b.g),b.h);if(C.g.length>30){if(Z(C)||Z(b))throw Error("slowDivide_ only works with positive integers.");for(var I=D,M=b;M.l(C)<=0;)I=ee(I),M=ee(M);var N=Dt(I,1),L=Dt(M,1);for(M=Dt(M,2),I=Dt(I,2);!J(M);){var w=L.add(M);w.l(C)<=0&&(N=N.add(I),L=w),M=Dt(M,1),I=Dt(I,1)}return b=ht(C,N.j(b)),new gt(N,b)}for(N=S;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=y(I),w=L.j(b);Z(w)||w.l(C)>0;)I-=M,L=y(I),w=L.j(b);J(L)&&(L=D),N=N.add(L),C=ht(C,w)}return new gt(N,C)}r.B=function(C){return kt(this,C).h},r.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},r.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},r.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function ee(C){const b=C.g.length+1,I=[];for(let M=0;M<b;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function Dt(C,b){const I=b>>5;b%=32;const M=C.g.length-I,N=[];for(let L=0;L<M;L++)N[L]=b>0?C.i(L+I)>>>b|C.i(L+I+1)<<32-b:C.i(L+I);return new d(N,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,RT=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Jr=d}).apply(typeof Mv<"u"?Mv:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var IT,Tl,CT,Hc,hm,DT,NT,OT;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var x=u[A];if(!(x in _))break t;_=_[x]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&_.push([A,m[A]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function T(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(A,x,B){for(var $=Array(arguments.length-2),At=2;At<arguments.length;At++)$[At-2]=arguments[At];return m.prototype[x].apply(A,$)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function J(u,m){for(let A=1;A<arguments.length;A++){const x=arguments[A];var _=typeof x;if(_=_!="object"?_:x?Array.isArray(x)?"array":_:"null",_=="array"||_=="object"&&typeof x.length=="number"){_=u.length||0;const B=x.length||0;u.length=_+B;for(let $=0;$<B;$++)u[_+$]=x[$]}else u.push(x)}}class Z{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class yt{constructor(){this.h=this.g=null}add(m,_){const A=gt.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var gt=new Z(()=>new kt,u=>u.reset());class kt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,Dt=!1,C=new yt,b=()=>{const u=Promise.resolve(void 0);ee=()=>{u.then(I)}};function I(){for(var u;u=ht();){try{u.h.call(u.g)}catch(_){tt(_)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Dt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function st(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(st,N),st.prototype.init=function(u,m){const _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),j=0;function W(u,m,_,A,x){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=x,this.key=++j,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zt(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function Ft(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function V(u){const m={};for(const _ in u)m[_]=u[_];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let _,A;for(let x=1;x<arguments.length;x++){A=arguments[x];for(_ in A)u[_]=A[_];for(let B=0;B<Y.length;B++)_=Y[B],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,_,A,x){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const $=wt(u,m,A,x);return $>-1?(m=u[$],_||(m.fa=!1)):(m=new W(m,this.src,B,!!A,x),m.fa=_,u.push(m)),m};function pt(u,m){const _=m.type;if(_ in u.g){var A=u.g[_],x=Array.prototype.indexOf.call(A,m,void 0),B;(B=x>=0)&&Array.prototype.splice.call(A,x,1),B&&(ct(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function wt(u,m,_,A){for(let x=0;x<u.length;++x){const B=u[x];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==A)return x}return-1}var xt="closure_lm_"+(Math.random()*1e6|0),Oe={};function se(u,m,_,A,x){if(Array.isArray(m)){for(let B=0;B<m.length;B++)se(u,m[B],_,A,x);return null}return _=po(_),u&&u[bt]?u.J(m,_,p(A)?!!A.capture:!1,x):os(u,m,_,!1,A,x)}function os(u,m,_,A,x,B){if(!m)throw Error("Invalid event type");const $=p(x)?!!x.capture:!!x;let At=ls(u);if(At||(u[xt]=At=new rt(u)),_=At.add(m,_,A,$,B),_.proxy)return _;if(A=ta(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)L||(x=$),x===void 0&&(x=!1),u.addEventListener(m.toString(),A,x);else if(u.attachEvent)u.attachEvent(ii(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ta(){function u(_){return m.call(u.src,u.listener,_)}const m=mo;return u}function ea(u,m,_,A,x){if(Array.isArray(m))for(var B=0;B<m.length;B++)ea(u,m[B],_,A,x);else A=p(A)?!!A.capture:!!A,_=po(_),u&&u[bt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=wt(m,_,A,x),_>-1&&(ct(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ls(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,_,A,x)),(_=u>-1?m[u]:null)&&na(_))}function na(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[bt])pt(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(ii(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=ls(m))?(pt(_,u),_.h==0&&(_.src=null,m[xt]=null)):ct(u)}}}function ii(u){return u in Oe?Oe[u]:Oe[u]="on"+u}function mo(u,m){if(u.da)u=!0;else{m=new st(m,this);const _=u.listener,A=u.ha||u.src;u.fa&&na(u),u=_.call(A,m)}return u}function ls(u){return u=u[xt],u instanceof rt?u:null}var go="__closure_events_fn_"+(Math.random()*1e9>>>0);function po(u){return typeof u=="function"?u:(u[go]||(u[go]=function(m){return u.handleEvent(m)}),u[go])}function _e(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}S(_e,M),_e.prototype[bt]=!0,_e.prototype.removeEventListener=function(u,m,_,A){ea(this,u,m,_,A)};function Ve(u,m){var _,A=u.G;if(A)for(_=[];A;A=A.G)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var x=m;m=new N(A,u),et(m,x)}x=!0;let B,$;if(_)for($=_.length-1;$>=0;$--)B=m.g=_[$],x=lr(B,A,!0,m)&&x;if(B=m.g=u,x=lr(B,A,!0,m)&&x,x=lr(B,A,!1,m)&&x,_)for($=0;$<_.length;$++)B=m.g=_[$],x=lr(B,A,!1,m)&&x}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let A=0;A<_.length;A++)ct(_[A]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},_e.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function lr(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let x=!0;for(let B=0;B<m.length;++B){const $=m[B];if($&&!$.da&&$.capture==_){const At=$.listener,de=$.ha||$.src;$.fa&&pt(u.i,$),x=At.call(de,A)!==!1&&x}}return x&&!A.defaultPrevented}function zh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ru(u){u.g=zh(()=>{u.g=null,u.i&&(u.i=!1,ru(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends M{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ru(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(u){M.call(this),this.h=u,this.g={}}S(us,M);var yo=[];function _o(u){zt(u.g,function(m,_){this.g.hasOwnProperty(_)&&na(m)},u),u.g={}}us.prototype.N=function(){us.Z.N.call(this),_o(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=d.JSON.stringify,Bh=d.JSON.parse,su=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function au(){}function ou(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){N.call(this,"d")}S(ze,N);function Rn(){N.call(this,"c")}S(Rn,N);var fe={},lu=null;function ia(){return lu=lu||new _e}fe.Ia="serverreachability";function uu(u){N.call(this,fe.Ia,u)}S(uu,N);function ri(u){const m=ia();Ve(m,new uu(m))}fe.STAT_EVENT="statevent";function cs(u,m){N.call(this,fe.STAT_EVENT,u),this.stat=m}S(cs,N);function ve(u){const m=ia();Ve(m,new cs(m,u))}fe.Ja="timingevent";function si(u,m){N.call(this,fe.Ja,u),this.size=m}S(si,N);function ai(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function qh(u,m,_,A,x,B){u.info(function(){if(u.g)if(B){var $="",At=B.split("&");for(let jt=0;jt<At.length;jt++){var de=At[jt].split("=");if(de.length>1){const ae=de[0];de=de[1];const Nn=ae.split("_");$=Nn.length>=2&&Nn[1]=="type"?$+(ae+"="+de+"&"):$+(ae+"=redacted&")}}}else $=null;else $=B;return"XMLHTTP REQ ("+A+") [attempt "+x+"]: "+m+`
`+_+`
`+$})}function cu(u,m,_,A,x,B,$){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+x+"]: "+m+`
`+_+`
`+B+" "+$})}function oi(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jh(u,_)+(A?" "+A:"")})}function hs(u,m){u.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function jh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var x=A[0];if(x!="noop"&&x!="stop"&&x!="close")for(let $=1;$<A.length;$++)A[$]=""}}}}return ur(B)}catch{return m}}var fs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Eo;function ds(){}S(ds,au),ds.prototype.g=function(){return new XMLHttpRequest},Eo=new ds;function Vi(u){return encodeURIComponent(String(u))}function hu(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Hn(u,m,_,A){this.j=u,this.i=m,this.l=_,this.S=A||1,this.V=new us(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Ee={},Le={};function li(u,m,_){u.M=1,u.A=ms(Ae(m)),u.u=_,u.R=!0,ra(u,null)}function ra(u,m){u.F=Date.now(),ui(u),u.B=Ae(u.A);var _=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),la(_.i,"t",A),u.C=0,_=u.j.L,u.h=new Gn,u.g=Ru(u.j,_?m:null,!u.u),u.P>0&&(u.O=new We(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,A=u.ba;var x="readystatechange";Array.isArray(x)||(x&&(yo[0]=x.toString()),x=yo);for(let B=0;B<x.length;B++){const $=se(_,x[B],A||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ri(),qh(u.i,u.v,u.B,u.l,u.S,u.u)}Hn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Kn(u)==3?m.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Kn(this.g),de=this.g.ya(),jt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||At!=4||de==7||(de==8||jt<=0?ri(3):ri(2)),ci(this);var m=this.g.ca();this.X=m;var _=Hh(this);if(this.o=m==200,cu(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,x=this.g;if((A=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(A)){var B=A;break e}}B=null}if(u=B)oi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,u);else{this.o=!1,this.m=3,ve(12),pn(this),In(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<_.length;)if(ae=du(this,_),ae==Le){At==4&&(this.m=4,ve(14),u=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==Ee){this.m=4,ve(15),oi(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else oi(this.i,this.l,ae,null),hi(this,ae);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||_.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)oi(this.i,this.l,_,"[Invalid Chunked Response]"),pn(this),In(this);else if(_.length>0&&!this.W){this.W=!0;var $=this.j;$.g==this&&$.aa&&!$.P&&($.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Lo($),$.P=!0,ve(11))}}else oi(this.i,this.l,_,null),hi(this,_);At==4&&pn(this),this.o&&!this.K&&(At==4?Au(this.j,this):(this.o=!1,ui(this)))}else Ui(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),pn(this),In(this)}}}catch{}};function Hh(u){if(!fu(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let _="";const A=m.length,x=Kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return pn(u),In(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<A;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(x&&B==A-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function fu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function du(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?Le:(_=Number(m.substring(_,A)),isNaN(_)?Ee:(A+=1,A+_>m.length?Le:(m=m.slice(A,A+_),u.C=A+_,m)))}Hn.prototype.cancel=function(){this.K=!0,pn(this)};function ui(u){u.T=Date.now()+u.H,sa(u,u.H)}function sa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ai(y(u.aa,u),m)}function ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Hn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(hs(this.i,this.B),this.M!=2&&(ri(),ve(17)),pn(this),this.m=2,In(this)):sa(this,this.T-u)};function In(u){u.j.I==0||u.K||Au(u.j,u)}function pn(u){ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,_o(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function hi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||di(_.h,u))){if(!u.L&&di(_.h,u)&&_.I==3){try{var A=_.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var x=A;if(x[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)da(_),yr(_);else break t;Ts(_),ve(18)}}else _.xa=x[1],0<_.xa-_.K&&x[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ai(y(_.Va,_),6e3));fi(_.h)<=1&&_.ta&&(_.ta=void 0)}else vi(_,11)}else if((u.L||_.g==u)&&da(_),!w(m))for(x=_.Ba.g.parse(m),m=0;m<x.length;m++){let jt=x[m];const ae=jt[0];if(!(ae<=_.K))if(_.K=ae,jt=jt[1],_.I==2)if(jt[0]=="c"){_.M=jt[1],_.ba=jt[2];const Nn=jt[3];Nn!=null&&(_.ka=Nn,_.j.info("VER="+_.ka));const Ei=jt[4];Ei!=null&&(_.za=Ei,_.j.info("SVER="+_.za));const Yn=jt[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(A=1.5*Yn,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Xn=u.g;if(Xn){const As=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var B=A.h;B.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(So(B,B.h),B.h=null))}if(A.G){const ma=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(A.wa=ma,Qt(A.J,A.G,ma))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var $=u;if(A.na=wu(A,A.L?A.ba:null,A.W),$.L){bo(A.h,$);var At=$,de=A.O;de&&(At.H=de),At.D&&(ci(At),ui(At)),A.g=$}else Eu(A);_.i.length>0&&_i(_)}else jt[0]!="stop"&&jt[0]!="close"||vi(_,7);else _.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?vi(_,7):Mo(_):jt[0]!="noop"&&_.l&&_.l.qa(jt),_.A=0)}}ri(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function To(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ao(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fi(u){return u.h?1:u.g?u.g.size:0}function di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function So(u,m){u.g?u.g.add(m):u.h=m}function bo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}To.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return G(u.i)}var mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aa(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const A=u[_].indexOf("=");let x,B=null;A>=0?(x=u[_].substring(0,A),B=u[_].substring(A+1)):x=u[_],m(x,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function yn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof yn?(this.l=u.l,xe(this,u.j),this.o=u.o,this.g=u.g,cr(this,u.u),this.h=u.h,Ro(this,_u(u.i)),this.m=u.m):u&&(m=String(u).match(mu))?(this.l=!1,xe(this,m[1]||"",!0),this.o=mi(m[2]||""),this.g=mi(m[3]||"",!0),cr(this,m[4]),this.h=mi(m[5]||"",!0),Ro(this,m[6]||"",!0),this.m=mi(m[7]||"")):(this.l=!1,this.i=new fr(null,this.l))}yn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(gs(m,oa,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(gs(m,oa,!0),"@"),u.push(Vi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(gs(_,_.charAt(0)=="/"?Io:gu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",gs(_,pu)),u.join("")},yn.prototype.resolve=function(u){const m=Ae(this);let _=!!u.j;_?xe(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var A=u.h;if(_)cr(m,u.u);else if(_=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var x=m.h.lastIndexOf("/");x!=-1&&(A=m.h.slice(0,x+1)+A)}if(x=A,x==".."||x==".")A="";else if(x.indexOf("./")!=-1||x.indexOf("/.")!=-1){A=x.lastIndexOf("/",0)==0,x=x.split("/");const B=[];for(let $=0;$<x.length;){const At=x[$++];At=="."?A&&$==x.length&&B.push(""):At==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&$==x.length&&B.push("")):(B.push(At),A=!0)}A=B.join("/")}else A=x}return _?m.h=A:_=u.i.toString()!=="",_?Ro(m,_u(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Ae(u){return new yn(u)}function xe(u,m,_){u.j=_?mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function cr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ro(u,m,_){m instanceof fr?(u.i=m,ua(u.i,u.l)):(_||(m=gs(m,hr)),u.i=new fr(m,u.l))}function Qt(u,m,_){u.i.set(m,_)}function ms(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gs(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var oa=/[#\/\?@]/g,gu=/[#\?:]/g,Io=/[#\?]/g,hr=/[#\?@]/g,pu=/#/g;function fr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&aa(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=fr.prototype,r.add=function(u,m){an(this),this.i=null,u=dr(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function yu(u,m){an(u),m=dr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Co(u,m){return an(u),m=dr(u,m),u.g.has(m)}r.forEach=function(u,m){an(this),this.g.forEach(function(_,A){_.forEach(function(x){u.call(m,x,A,this)},this)},this)};function Do(u,m){an(u);let _=[];if(typeof m=="string")Co(u,m)&&(_=_.concat(u.g.get(dr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return an(this),this.i=null,u=dr(this,u),Co(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Do(this,u),u.length>0?String(u[0]):m):m};function la(u,m,_){yu(u,m),_.length>0&&(u.i=null,u.g.set(dr(u,m),G(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var _=m[A];const x=Vi(_);_=Do(this,_);for(let B=0;B<_.length;B++){let $=x;_[B]!==""&&($+="="+Vi(_[B])),u.push($)}}return this.i=u.join("&")};function _u(u){const m=new fr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function dr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ua(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(_,A){const x=A.toLowerCase();A!=x&&(yu(this,A),la(this,x,_))},u)),u.j=m}function Fn(u,m){const _=new jn;if(d.Image){const A=new Image;A.onload=T(Cn,_,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Cn,_,"TestLoadImage: error",!1,m,A),A.onabort=T(Cn,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Cn,_,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function No(u,m){const _=new jn,A=new AbortController,x=setTimeout(()=>{A.abort(),Cn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(B=>{clearTimeout(x),B.ok?Cn(_,"TestPingServer: ok",!0,m):Cn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(x),Cn(_,"TestPingServer: error",!1,m)})}function Cn(u,m,_,A,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),A(_)}catch{}}function mr(){this.g=new su}function gi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(gi,au),gi.prototype.g=function(){return new ps(this.i,this.h)};function ps(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ps,_e),r=ps.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Qn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ca(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ca(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?gr(this):Qn(this),this.readyState==3&&ca(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,gr(this))},r.Na=function(u){this.g&&(this.response=u,gr(this))},r.ga=function(){this.g&&gr(this)};function gr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Qn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Dn(u){let m="";return zt(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function ys(u,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=Dn(_),typeof u=="string"?_!=null&&Vi(_):Qt(u,m,_))}function Xt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xt,_e);var pi=/^https?$/i,Oo=["POST","PUT"];r=Xt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Eo.g(),this.g.onreadystatechange=D(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){_s(this,B);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var x in A)_.set(x,A[x]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())_.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),x=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Oo,m,void 0)>=0)||A||x||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,$]of _)this.g.setRequestHeader(B,$);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){_s(this,B)}};function _s(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Vo(u),Mi(u)}function Vo(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ve(this,"complete"),Ve(this,"abort"),Mi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),Xt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?vs(this):this.Xa())},r.Xa=function(){vs(this)};function vs(u){if(u.h&&typeof c<"u"){if(u.v&&Kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ve(u,"readystatechange"),Kn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=B===0){let $=String(u.D).match(mu)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),A=!pi.test($?$.toLowerCase():"")}_=A}if(_)Ve(u,"complete"),Ve(u,"success");else{u.o=6;try{var x=Kn(u)>2?u.g.statusText:""}catch{x=""}u.l=x+" ["+u.ca()+"]",Vo(u)}}finally{Mi(u)}}}}function Mi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Ve(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Bh(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(u){const m={};u=(u.g&&Kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(w(u[A]))continue;var _=hu(u[A]);const x=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[x]||[];m[x]=B,B.push(_)}Ft(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function pr(u){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,u),this.Za=yi("retryDelaySeedMs",1e4,u),this.Ta=yi("forwardChannelMaxRetries",2,u),this.va=yi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new To(u&&u.concurrentRequestLimit),this.Ba=new mr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=pr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,A){ve(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=wu(this,null,this.W),_i(this)};function Mo(u){if(ha(u),u.I==3){var m=u.V++,_=Ae(u.J);if(Qt(_,"SID",u.M),Qt(_,"RID",m),Qt(_,"TYPE","terminate"),Es(u,_),m=new Hn(u,u.j,m),m.M=2,m.A=ms(Ae(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Ru(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ui(m)}bu(u)}function yr(u){u.g&&(Lo(u),u.g.cancel(),u.g=null)}function ha(u){yr(u),u.v&&(d.clearTimeout(u.v),u.v=null),da(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function _i(u){if(!Ao(u.h)&&!u.m){u.m=!0;var m=u.Ea;ee||b(),Dt||(ee(),Dt=!0),C.add(m,u),u.D=0}}function fa(u,m){return fi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ai(y(u.Ea,u,m),Su(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const x=new Hn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=V(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(x.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=vu(this,x,m),_=Ae(this.J),Qt(_,"RID",u),Qt(_,"CVER",22),this.G&&Qt(_,"X-HTTP-Session-Id",this.G),Es(this,_),B&&(this.R?m="headers="+Vi(Dn(B))+"&"+m:this.u&&ys(_,this.u,B)),So(this.h,x),this.Ra&&Qt(_,"TYPE","init"),this.S?(Qt(_,"$req",m),Qt(_,"SID","null"),x.U=!0,li(x,_,null)):li(x,_,m),this.I=2}}else this.I==3&&(u?Uo(this,u):this.i.length==0||Ao(this.h)||Uo(this))};function Uo(u,m){var _;m?_=m.l:_=u.V++;const A=Ae(u.J);Qt(A,"SID",u.M),Qt(A,"RID",_),Qt(A,"AID",u.K),Es(u,A),u.u&&u.o&&ys(A,u.u,u.o),_=new Hn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=vu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),So(u.h,_),li(_,A,m)}function Es(u,m){u.H&&zt(u.H,function(_,A){Qt(m,A,_)}),u.l&&zt({},function(_,A){Qt(m,A,_)})}function vu(u,m,_){_=Math.min(u.i.length,_);const A=u.l?y(u.l.Ka,u.l,u):null;t:{var x=u.i;let At=-1;for(;;){const de=["count="+_];At==-1?_>0?(At=x[0].g,de.push("ofs="+At)):At=0:de.push("ofs="+At);let jt=!0;for(let ae=0;ae<_;ae++){var B=x[ae].g;const Nn=x[ae].map;if(B-=At,B<0)At=Math.max(0,x[ae].g-100),jt=!1;else try{B="req"+B+"_"||"";try{var $=Nn instanceof Map?Nn:Object.entries(Nn);for(const[Ei,Yn]of $){let Xn=Yn;p(Yn)&&(Xn=ur(Yn)),de.push(B+Ei+"="+encodeURIComponent(Xn))}}catch(Ei){throw de.push(B+"type="+encodeURIComponent("_badmap")),Ei}}catch{A&&A(Nn)}}if(jt){$=de.join("&");break t}}$=void 0}return u=u.i.splice(0,_),m.G=u,$}function Eu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ee||b(),Dt||(ee(),Dt=!0),C.add(m,u),u.A=0}}function Ts(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ai(y(u.Da,u),Su(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ai(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),yr(this),Tu(this))};function Lo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Tu(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ae(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),Es(u,m),u.u&&u.o&&ys(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=ms(Ae(m)),_.u=null,_.R=!0,ra(_,u)}r.Va=function(){this.C!=null&&(this.C=null,yr(this),Ts(this),ve(19))};function da(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Au(u,m){var _=null;if(u.g==m){da(u),Lo(u),u.g=null;var A=2}else if(di(u.h,m))_=m.G,bo(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var x=u.D;A=ia(),Ve(A,new si(A,_)),_i(u)}else Eu(u);else if(x=m.m,x==3||x==0&&m.X>0||!(A==1&&fa(u,m)||A==2&&Ts(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),x){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function Su(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),A=u.Ua;const x=!A;A=new yn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xe(A,"https"),ms(A),x?Fn(A.toString(),_):No(A.toString(),_)}else ve(2);u.I=0,u.l&&u.l.pa(m),bu(u),ha(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function bu(u){if(u.I=0,u.ja=[],u.l){const m=wo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function wu(u,m,_){var A=_ instanceof yn?Ae(_):new yn(_);if(A.g!="")m&&(A.g=m+"."+A.g),cr(A,A.u);else{var x=d.location;A=x.protocol,m=m?m+"."+x.hostname:x.hostname,x=+x.port;const B=new yn(null);A&&xe(B,A),m&&(B.g=m),x&&cr(B,x),_&&(B.h=_),A=B}return _=u.G,m=u.wa,_&&m&&Qt(A,_,m),Qt(A,"VER",u.ka),Es(u,A),A}function Ru(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new gi({ab:_})):new Xt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iu(){}r=Iu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _r(){}_r.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){_e.call(this),this.g=new pr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Li(this)}S(tn,_e),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Mo(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=ur(u),u=_);m.i.push(new Te(m.Ya++,u)),m.I==3&&_i(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,tn.Z.N.call(this)};function Cu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Cu,ze);function Du(){Rn.call(this),this.status=1}S(Du,Rn);function Li(u){this.g=u}S(Li,Iu),Li.prototype.ra=function(){Ve(this.g,"a")},Li.prototype.qa=function(u){Ve(this.g,new Cu(u))},Li.prototype.pa=function(u){Ve(this.g,new Du)},Li.prototype.oa=function(){Ve(this.g,"b")},_r.prototype.createWebChannel=_r.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,OT=function(){return new _r},NT=function(){return ia()},DT=fe,hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fs.NO_ERROR=0,fs.TIMEOUT=8,fs.HTTP_ERROR=6,Hc=fs,vo.COMPLETE="complete",CT=vo,ou.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,Tl=ou,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,IT=Xt}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let uo="12.10.0";function xR(r){uo=r}const Qs=new Nm("@firebase/firestore");function Ga(){return Qs.logLevel}function it(r,...t){if(Qs.logLevel<=Vt.DEBUG){const i=t.map(Hm);Qs.debug(`Firestore (${uo}): ${r}`,...i)}}function ir(r,...t){if(Qs.logLevel<=Vt.ERROR){const i=t.map(Hm);Qs.error(`Firestore (${uo}): ${r}`,...i)}}function Ks(r,...t){if(Qs.logLevel<=Vt.WARN){const i=t.map(Hm);Qs.warn(`Firestore (${uo}): ${r}`,...i)}}function Hm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function dt(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,VT(r,s,i)}function VT(r,t,i){let s=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw ir(s),new Error(s)}function Gt(r,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||VT(t,l,s)}function Tt(r,t){return r}const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends ar{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class MT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class PR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class kR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class zR{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let s=this.i;const l=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let c=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new tr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new tr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string",31837,{l:s}),new MT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class BR{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class qR{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new BR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Uv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const s=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Uv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Uv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function HR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Gm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=HR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Mt(r,t){return r<t?-1:r>t?1:0}function fm(r,t){const i=Math.min(r.length,t.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=t.charAt(s);if(l!==c)return Zd(l)===Zd(c)?Mt(l,c):Zd(l)?1:-1}return Mt(r.length,t.length)}const GR=55296,FR=57343;function Zd(r){const t=r.charCodeAt(0);return t>=GR&&t<=FR}function eo(r,t,i){return r.length===t.length&&r.every(((s,l)=>i(s,t[l])))}const Lv="__name__";class wi{constructor(t,i,s){i===void 0?i=0:i>t.length&&dt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&dt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return wi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof wi?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=wi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Mt(t.length,i.length)}static compareSegments(t,i){const s=wi.isNumericId(t),l=wi.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?wi.extractNumericId(t).compare(wi.extractNumericId(i)):fm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Jr.fromString(t.substring(4,t.length-2))}}class te extends wi{construct(t,i,s){return new te(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new nt(F.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const QR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends wi{construct(t,i,s){return new Qe(t,i,s)}static isValidIdentifier(t){return QR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Lv}static keyField(){return new Qe([Lv])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new nt(F.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new nt(F.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new nt(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(c(),l++)}if(c(),d)throw new nt(F.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class ut{constructor(t){this.path=t}static fromPath(t){return new ut(te.fromString(t))}static fromName(t){return new ut(te.fromString(t).popFirst(5))}static empty(){return new ut(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return te.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new te(t.slice()))}}function Fm(r,t,i){if(!i)throw new nt(F.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function KR(r,t,i,s){if(t===!0&&s===!0)throw new nt(F.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function xv(r){if(!ut.isDocumentKey(r))throw new nt(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Pv(r){if(ut.isDocumentKey(r))throw new nt(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function UT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Th(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":dt(12329,{type:typeof r})}function nn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new nt(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Th(r);throw new nt(F.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ne(r,t){const i={typeString:r};return t&&(i.value=t),i}function Xl(r,t){if(!UT(r))throw new nt(F.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new nt(F.INVALID_ARGUMENT,i);return!0}const kv=-62135596800,zv=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*zv);return new re(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new nt(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new nt(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<kv)throw new nt(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new nt(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zv}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Xl(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-kv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ne("string",re._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new re(0,0))}static max(){return new vt(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ul=-1;function YR(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(s===1e9?new re(i+1,0):new re(i,s));return new $r(l,ut.empty(),t)}function XR(r){return new $r(r.readTime,r.key,Ul)}class $r{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new $r(vt.min(),ut.empty(),Ul)}static max(){return new $r(vt.max(),ut.empty(),Ul)}}function JR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ut.comparator(r.documentKey,t.documentKey),i!==0?i:Mt(r.largestBatchId,t.largestBatchId))}const ZR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $R{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function co(r){if(r.code!==F.FAILED_PRECONDITION||r.message!==ZR)throw r;it("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,s)=>{i(t)}))}static reject(t){return new X(((i,s)=>{s(t)}))}static waitFor(t){return new X(((i,s)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(v=>s(v)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const s of t)i=i.next((l=>l?X.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new X(((s,l)=>{const c=t.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((T=>{d[y]=T,++p,p===c&&s(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new X(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function WR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ho(r){return r.name==="IndexedDbTransactionError"}class Ah{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ah.ce=-1;const Qm=-1;function Sh(r){return r==null}function ih(r){return r===0&&1/r==-1/0}function tI(r){return typeof r=="number"&&Number.isInteger(r)&&!ih(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const LT="";function eI(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Bv(t)),t=nI(r.get(i),t);return Bv(t)}function nI(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case LT:i+="";break;default:i+=c}}return i}function Bv(r){return r+LT+""}function qv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function ss(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function xT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Lc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Lc(this.root,t,this.comparator,!0)}}class Lc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new Fe(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw dt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new jv(this.data.getIterator())}getIteratorFrom(t){return new jv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ue(this.comparator);return i.data=t,i}}class jv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new wn([])}unionWith(t){let i=new Ue(Qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new wn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return eo(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class PT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new PT("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const iI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(r){if(Gt(!!r,39018),typeof r=="string"){let t=0;const i=iI.exec(r);if(Gt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ts(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}const kT="server_timestamp",zT="__type__",BT="__previous_value__",qT="__local_write_time__";function Km(r){return(r?.mapValue?.fields||{})[zT]?.stringValue===kT}function bh(r){const t=r.mapValue.fields[BT];return Km(t)?bh(t):t}function Ll(r){const t=Wr(r.mapValue.fields[qT].timestampValue);return new re(t.seconds,t.nanos)}class rI{constructor(t,i,s,l,c,d,p,v,y,T,S){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=S}}const rh="(default)";class xl{constructor(t,i){this.projectId=t,this.database=i||rh}static empty(){return new xl("","")}get isDefaultDatabase(){return this.database===rh}isEqual(t){return t instanceof xl&&t.projectId===this.projectId&&t.database===this.database}}function sI(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new nt(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(r.options.projectId,t)}const jT="__type__",aI="__max__",xc={mapValue:{}},HT="__vector__",sh="value";function es(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Km(r)?4:lI(r)?9007199254740991:oI(r)?10:11:dt(28295,{value:r})}function Oi(r,t){if(r===t)return!0;const i=es(r);if(i!==es(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ll(r).isEqual(Ll(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Wr(l.timestampValue),p=Wr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return ts(l.bytesValue).isEqual(ts(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return pe(l.geoPointValue.latitude)===pe(c.geoPointValue.latitude)&&pe(l.geoPointValue.longitude)===pe(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return pe(l.integerValue)===pe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=pe(l.doubleValue),p=pe(c.doubleValue);return d===p?ih(d)===ih(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return eo(r.arrayValue.values||[],t.arrayValue.values||[],Oi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(qv(d)!==qv(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Oi(d[v],p[v])))return!1;return!0})(r,t);default:return dt(52216,{left:r})}}function Pl(r,t){return(r.values||[]).find((i=>Oi(i,t)))!==void 0}function no(r,t){if(r===t)return 0;const i=es(r),s=es(t);if(i!==s)return Mt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=pe(c.integerValue||c.doubleValue),v=pe(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(r,t);case 3:return Hv(r.timestampValue,t.timestampValue);case 4:return Hv(Ll(r),Ll(t));case 5:return fm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=ts(c),v=ts(d);return p.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let y=0;y<p.length&&y<v.length;y++){const T=Mt(p[y],v[y]);if(T!==0)return T}return Mt(p.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Mt(pe(c.latitude),pe(d.latitude));return p!==0?p:Mt(pe(c.longitude),pe(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Gv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},y=p[sh]?.arrayValue,T=v[sh]?.arrayValue,S=Mt(y?.values?.length||0,T?.values?.length||0);return S!==0?S:Gv(y,T)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===xc.mapValue&&d===xc.mapValue)return 0;if(c===xc.mapValue)return 1;if(d===xc.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),y=d.fields||{},T=Object.keys(y);v.sort(),T.sort();for(let S=0;S<v.length&&S<T.length;++S){const D=fm(v[S],T[S]);if(D!==0)return D;const G=no(p[v[S]],y[T[S]]);if(G!==0)return G}return Mt(v.length,T.length)})(r.mapValue,t.mapValue);default:throw dt(23264,{he:i})}}function Hv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const i=Wr(r),s=Wr(t),l=Mt(i.seconds,s.seconds);return l!==0?l:Mt(i.nanos,s.nanos)}function Gv(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=no(i[l],s[l]);if(c)return c}return Mt(i.length,s.length)}function io(r){return dm(r)}function dm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Wr(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return ts(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ut.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=dm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${dm(i.fields[d])}`;return l+"}"})(r.mapValue):dt(61005,{value:r})}function Gc(r){switch(es(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=bh(r);return t?16+Gc(t):16;case 5:return 2*r.stringValue.length;case 6:return ts(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Gc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return ss(s.fields,((c,d)=>{l+=c.length+Gc(d)})),l})(r.mapValue);default:throw dt(13486,{value:r})}}function Fv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function mm(r){return!!r&&"integerValue"in r}function Ym(r){return!!r&&"arrayValue"in r}function Qv(r){return!!r&&"nullValue"in r}function Kv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Fc(r){return!!r&&"mapValue"in r}function oI(r){return(r?.mapValue?.fields||{})[jT]?.stringValue===HT}function Il(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ss(r.mapValue.fields,((i,s)=>t.mapValue.fields[i]=Il(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Il(r.arrayValue.values[i]);return t}return{...r}}function lI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===aI}class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Fc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Il(i)}setAll(t){let i=Qe.emptyPath(),s={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,s,l),s={},l=[],i=p.popLast()}d?s[p.lastSegment()]=Il(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());Fc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Oi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Fc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){ss(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new dn(Il(this.value))}}function GT(r){const t=[];return ss(r.fields,((i,s)=>{const l=new Qe([i]);if(Fc(s)){const c=GT(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new wn(t)}class Ze{constructor(t,i,s,l,c,d,p){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,vt.min(),vt.min(),vt.min(),dn.empty(),0)}static newFoundDocument(t,i,s,l){return new Ze(t,1,i,vt.min(),s,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,vt.min(),vt.min(),dn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,vt.min(),vt.min(),dn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ah{constructor(t,i){this.position=t,this.inclusive=i}}function Yv(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=ut.comparator(ut.fromName(d.referenceValue),i.key):s=no(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Xv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Oi(r.position[i],t.position[i]))return!1;return!0}class kl{constructor(t,i="asc"){this.field=t,this.dir=i}}function uI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class FT{}class De extends FT{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new hI(t,i,s):i==="array-contains"?new mI(t,s):i==="in"?new gI(t,s):i==="not-in"?new pI(t,s):i==="array-contains-any"?new yI(t,s):new De(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new fI(t,s):new dI(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(no(i,this.value)):i!==null&&es(this.value)===es(i)&&this.matchesComparison(no(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends FT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ni(t,i)}matches(t){return QT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function QT(r){return r.op==="and"}function KT(r){return cI(r)&&QT(r)}function cI(r){for(const t of r.filters)if(t instanceof ni)return!1;return!0}function gm(r){if(r instanceof De)return r.field.canonicalString()+r.op.toString()+io(r.value);if(KT(r))return r.filters.map((t=>gm(t))).join(",");{const t=r.filters.map((i=>gm(i))).join(",");return`${r.op}(${t})`}}function YT(r,t){return r instanceof De?(function(s,l){return l instanceof De&&s.op===l.op&&s.field.isEqual(l.field)&&Oi(s.value,l.value)})(r,t):r instanceof ni?(function(s,l){return l instanceof ni&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,p)=>c&&YT(d,l.filters[p])),!0):!1})(r,t):void dt(19439)}function XT(r){return r instanceof De?(function(i){return`${i.field.canonicalString()} ${i.op} ${io(i.value)}`})(r):r instanceof ni?(function(i){return i.op.toString()+" {"+i.getFilters().map(XT).join(" ,")+"}"})(r):"Filter"}class hI extends De{constructor(t,i,s){super(t,i,s),this.key=ut.fromName(s.referenceValue)}matches(t){const i=ut.comparator(t.key,this.key);return this.matchesComparison(i)}}class fI extends De{constructor(t,i){super(t,"in",i),this.keys=JT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class dI extends De{constructor(t,i){super(t,"not-in",i),this.keys=JT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function JT(r,t){return(t.arrayValue?.values||[]).map((i=>ut.fromName(i.referenceValue)))}class mI extends De{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Ym(i)&&Pl(i.arrayValue,this.value)}}class gI extends De{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Pl(this.value.arrayValue,i)}}class pI extends De{constructor(t,i){super(t,"not-in",i)}matches(t){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Pl(this.value.arrayValue,i)}}class yI extends De{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Ym(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Pl(this.value.arrayValue,s)))}}class _I{constructor(t,i=null,s=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Jv(r,t=null,i=[],s=[],l=null,c=null,d=null){return new _I(r,t,i,s,l,c,d)}function Xm(r){const t=Tt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>gm(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Sh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>io(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>io(s))).join(",")),t.Te=i}return t.Te}function Jm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!uI(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!YT(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Xv(r.startAt,t.startAt)&&Xv(r.endAt,t.endAt)}function pm(r){return ut.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Js{constructor(t,i=null,s=[],l=[],c=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function vI(r,t,i,s,l,c,d,p){return new Js(r,t,i,s,l,c,d,p)}function wh(r){return new Js(r)}function Zv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function EI(r){return ut.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function ZT(r){return r.collectionGroup!==null}function Cl(r){const t=Tt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ue(Qe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new kl(c,s))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new kl(Qe.keyField(),s))}return t.Ie}function Ii(r){const t=Tt(r);return t.Ee||(t.Ee=TI(t,Cl(r))),t.Ee}function TI(r,t){if(r.limitType==="F")return Jv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new kl(l.field,c)}));const i=r.endAt?new ah(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ah(r.startAt.position,r.startAt.inclusive):null;return Jv(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function ym(r,t){const i=r.filters.concat([t]);return new Js(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function AI(r,t){const i=r.explicitOrderBy.concat([t]);return new Js(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function _m(r,t,i){return new Js(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Rh(r,t){return Jm(Ii(r),Ii(t))&&r.limitType===t.limitType}function $T(r){return`${Xm(Ii(r))}|lt:${r.limitType}`}function Fa(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>XT(l))).join(", ")}]`),Sh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>io(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>io(l))).join(",")),`Target(${s})`})(Ii(r))}; limitType=${r.limitType})`}function Ih(r,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ut.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,t)&&(function(s,l){for(const c of Cl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,p,v){const y=Yv(d,p,v);return d.inclusive?y<=0:y<0})(s.startAt,Cl(s),l)||s.endAt&&!(function(d,p,v){const y=Yv(d,p,v);return d.inclusive?y>=0:y>0})(s.endAt,Cl(s),l))})(r,t)}function SI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function WT(r){return(t,i)=>{let s=!1;for(const l of Cl(r)){const c=bI(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function bI(r,t,i){const s=r.field.isKeyField()?ut.comparator(t.key,i.key):(function(c,d,p){const v=d.data.field(c),y=p.data.field(c);return v!==null&&y!==null?no(v,y):dt(42886)})(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return dt(19790,{direction:r.dir})}}class Zs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ss(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return xT(this.inner)}size(){return this.innerSize}}const wI=new le(ut.comparator);function rr(){return wI}const t0=new le(ut.comparator);function Al(...r){let t=t0;for(const i of r)t=t.insert(i.key,i);return t}function e0(r){let t=t0;return r.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Bs(){return Dl()}function n0(){return Dl()}function Dl(){return new Zs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const RI=new le(ut.comparator),II=new Ue(ut.comparator);function Ut(...r){let t=II;for(const i of r)t=t.add(i);return t}const CI=new Ue(Mt);function DI(){return CI}function Zm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(t)?"-0":t}}function i0(r){return{integerValue:""+r}}function NI(r,t){return tI(t)?i0(t):Zm(r,t)}class Ch{constructor(){this._=void 0}}function OI(r,t,i){return r instanceof zl?(function(l,c){const d={fields:{[zT]:{stringValue:kT},[qT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Km(c)&&(c=bh(c)),c&&(d.fields[BT]=c),{mapValue:d}})(i,t):r instanceof Bl?s0(r,t):r instanceof ql?a0(r,t):(function(l,c){const d=r0(l,c),p=$v(d)+$v(l.Ae);return mm(d)&&mm(l.Ae)?i0(p):Zm(l.serializer,p)})(r,t)}function VI(r,t,i){return r instanceof Bl?s0(r,t):r instanceof ql?a0(r,t):i}function r0(r,t){return r instanceof oh?(function(s){return mm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class zl extends Ch{}class Bl extends Ch{constructor(t){super(),this.elements=t}}function s0(r,t){const i=o0(t);for(const s of r.elements)i.some((l=>Oi(l,s)))||i.push(s);return{arrayValue:{values:i}}}class ql extends Ch{constructor(t){super(),this.elements=t}}function a0(r,t){let i=o0(t);for(const s of r.elements)i=i.filter((l=>!Oi(l,s)));return{arrayValue:{values:i}}}class oh extends Ch{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function $v(r){return pe(r.integerValue||r.doubleValue)}function o0(r){return Ym(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class MI{constructor(t,i){this.field=t,this.transform=i}}function UI(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof Bl&&l instanceof Bl||s instanceof ql&&l instanceof ql?eo(s.elements,l.elements,Oi):s instanceof oh&&l instanceof oh?Oi(s.Ae,l.Ae):s instanceof zl&&l instanceof zl})(r.transform,t.transform)}class LI{constructor(t,i){this.version=t,this.transformResults=i}}class mn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new mn}static exists(t){return new mn(void 0,t)}static updateTime(t){return new mn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Qc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Dh{}function l0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new $m(r.key,mn.none()):new Jl(r.key,r.data,mn.none());{const i=r.data,s=dn.empty();let l=new Ue(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new as(r.key,s,new wn(l.toArray()),mn.none())}}function xI(r,t,i){r instanceof Jl?(function(l,c,d){const p=l.value.clone(),v=tE(l.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof as?(function(l,c,d){if(!Qc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=tE(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(u0(l)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Nl(r,t,i,s){return r instanceof Jl?(function(c,d,p,v){if(!Qc(c.precondition,d))return p;const y=c.value.clone(),T=eE(c.fieldTransforms,v,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,s):r instanceof as?(function(c,d,p,v){if(!Qc(c.precondition,d))return p;const y=eE(c.fieldTransforms,v,d),T=d.data;return T.setAll(u0(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,s):(function(c,d,p){return Qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function PI(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=r0(s.transform,l||null);c!=null&&(i===null&&(i=dn.empty()),i.set(s.field,c))}return i||null}function Wv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&eo(s,l,((c,d)=>UI(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Jl extends Dh{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class as extends Dh{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function u0(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}})),t}function tE(r,t,i){const s=new Map;Gt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);s.set(c.field,VI(d,p,i[l]))}return s}function eE(r,t,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,OI(c,d,t))}return s}class $m extends Dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kI extends Dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zI{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&xI(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Nl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Nl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=n0();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const v=l0(d,p);v!==null&&s.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(vt.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&eo(this.mutations,t.mutations,((i,s)=>Wv(i,s)))&&eo(this.baseMutations,t.baseMutations,((i,s)=>Wv(i,s)))}}class Wm{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){Gt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return RI})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Wm(t,i,s,l)}}class BI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class qI{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ce,Pt;function jI(r){switch(r){case F.OK:return dt(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return dt(15467,{code:r})}}function c0(r){if(r===void 0)return ir("GRPC error has no .code"),F.UNKNOWN;switch(r){case Ce.OK:return F.OK;case Ce.CANCELLED:return F.CANCELLED;case Ce.UNKNOWN:return F.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return F.INTERNAL;case Ce.UNAVAILABLE:return F.UNAVAILABLE;case Ce.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Ce.NOT_FOUND:return F.NOT_FOUND;case Ce.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Ce.ABORTED:return F.ABORTED;case Ce.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Ce.DATA_LOSS:return F.DATA_LOSS;default:return dt(39323,{code:r})}}(Pt=Ce||(Ce={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function HI(){return new TextEncoder}const GI=new Jr([4294967295,4294967295],0);function nE(r){const t=HI().encode(r),i=new RT;return i.update(t),new Uint8Array(i.digest())}function iE(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Jr([i,s],0),new Jr([l,c],0)]}class tg{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Sl(`Invalid padding: ${i}`);if(s<0)throw new Sl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Jr.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(Jr.fromNumber(s)));return l.compare(GI)===1&&(l=new Jr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=nE(t),[s,l]=iE(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new tg(c,l,i);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=nE(t),[s,l]=iE(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nh{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,Zl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Nh(vt.min(),l,new le(Mt),rr(),Ut())}}class Zl{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Zl(s,i,Ut(),Ut(),Ut())}}class Kc{constructor(t,i,s,l){this.Se=t,this.removedTargetIds=i,this.key=s,this.De=l}}class h0{constructor(t,i){this.targetId=t,this.Ce=i}}class f0{constructor(t,i,s=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class rE{constructor(){this.ve=0,this.Fe=sE(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),i=Ut(),s=Ut();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:dt(38017,{changeType:c})}})),new Zl(this.Me,this.xe,t,i,s)}Ke(){this.Oe=!1,this.Fe=sE()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class FI{constructor(t){this.Ge=t,this.ze=new Map,this.je=rr(),this.He=Pc(),this.Je=Pc(),this.Ze=new le(Mt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:dt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(pm(c))if(s===0){const d=new ut(c.path);this.et(i,d,Ze.newNoDocument(d,vt.min()))}else Gt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=ts(s).toUint8Array()}catch(v){if(v instanceof PT)return Ks("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new tg(d,l,c)}catch(v){return Ks(v instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&pm(p.target)){const v=new ut(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ze.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let s=Ut();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Nh(t,i,this.Ze,this.je,s);return this.je=rr(),this.He=Pc(),this.Je=Pc(),this.Ze=new le(Mt),l}Ye(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new rE,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Ue(Mt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Ue(Mt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new rE),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Pc(){return new le(ut.comparator)}function sE(){return new le(ut.comparator)}const QI={asc:"ASCENDING",desc:"DESCENDING"},KI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YI={and:"AND",or:"OR"};class XI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function vm(r,t){return r.useProto3Json||Sh(t)?t:{value:t}}function lh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function d0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function JI(r,t){return lh(r,t.toTimestamp())}function Ci(r){return Gt(!!r,49232),vt.fromTimestamp((function(i){const s=Wr(i);return new re(s.seconds,s.nanos)})(r))}function eg(r,t){return Em(r,t).canonicalString()}function Em(r,t){const i=(function(l){return new te(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function m0(r){const t=te.fromString(r);return Gt(v0(t),10190,{key:t.toString()}),t}function Tm(r,t){return eg(r.databaseId,t.path)}function $d(r,t){const i=m0(t);if(i.get(1)!==r.databaseId.projectId)throw new nt(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new nt(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ut(p0(i))}function g0(r,t){return eg(r.databaseId,t)}function ZI(r){const t=m0(r);return t.length===4?te.emptyPath():p0(t)}function Am(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function p0(r){return Gt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function aE(r,t,i){return{name:Tm(r,t),fields:i.value.mapValue.fields}}function $I(r,t){let i;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:dt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(Gt(T===void 0||typeof T=="string",58123),Ke.fromBase64String(T||"")):(Gt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ke.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?F.UNKNOWN:c0(y.code);return new nt(T,y.message||"")})(d);i=new f0(s,l,c,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=$d(r,s.document.name),c=Ci(s.document.updateTime),d=s.document.createTime?Ci(s.document.createTime):vt.min(),p=new dn({mapValue:{fields:s.document.fields}}),v=Ze.newFoundDocument(l,c,d,p),y=s.targetIds||[],T=s.removedTargetIds||[];i=new Kc(y,T,v.key,v)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=$d(r,s.document),c=s.readTime?Ci(s.readTime):vt.min(),d=Ze.newNoDocument(l,c),p=s.removedTargetIds||[];i=new Kc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=$d(r,s.document),c=s.removedTargetIds||[];i=new Kc([],c,l,null)}else{if(!("filter"in t))return dt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new qI(l,c),p=s.targetId;i=new h0(p,d)}}return i}function WI(r,t){let i;if(t instanceof Jl)i={update:aE(r,t.key,t.value)};else if(t instanceof $m)i={delete:Tm(r,t.key)};else if(t instanceof as)i={update:aE(r,t.key,t.data),updateMask:lC(t.fieldMask)};else{if(!(t instanceof kI))return dt(16599,{dt:t.type});i={verify:Tm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof zl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Bl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof oh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw dt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:JI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:dt(27497)})(r,t.precondition)),i}function tC(r,t){return r&&r.length>0?(Gt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ci(l.updateTime):Ci(c);return d.isEqual(vt.min())&&(d=Ci(c)),new LI(d,l.transformResults||[])})(i,t)))):[]}function eC(r,t){return{documents:[g0(r,t.path)]}}function nC(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=g0(r,l);const c=(function(y){if(y.length!==0)return _0(ni.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(D){return{field:Qa(D.field),direction:sC(D.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=vm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function iC(r){let t=ZI(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Gt(s===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const D=y0(S);return D instanceof ni&&KT(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((D=>(function(J){return new kl(Ka(J.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(D)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let D;return D=typeof S=="object"?S.value:S,Sh(D)?null:D})(i.limit));let v=null;i.startAt&&(v=(function(S){const D=!!S.before,G=S.values||[];return new ah(G,D)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const D=!S.before,G=S.values||[];return new ah(G,D)})(i.endAt)),vI(t,l,d,c,p,"F",v,y)}function rC(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function y0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ka(i.unaryFilter.field);return De.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ka(i.unaryFilter.field);return De.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ka(i.unaryFilter.field);return De.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ka(i.unaryFilter.field);return De.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return De.create(Ka(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ni.create(i.compositeFilter.filters.map((s=>y0(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(i.compositeFilter.op))})(r):dt(30097,{filter:r})}function sC(r){return QI[r]}function aC(r){return KI[r]}function oC(r){return YI[r]}function Qa(r){return{fieldPath:r.canonicalString()}}function Ka(r){return Qe.fromServerFormat(r.fieldPath)}function _0(r){return r instanceof De?(function(i){if(i.op==="=="){if(Kv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NAN"}};if(Qv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Kv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NOT_NAN"}};if(Qv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(i.field),op:aC(i.op),value:i.value}}})(r):r instanceof ni?(function(i){const s=i.getFilters().map((l=>_0(l)));return s.length===1?s[0]:{compositeFilter:{op:oC(i.op),filters:s}}})(r):dt(54877,{filter:r})}function lC(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function v0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function E0(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Fr{constructor(t,i,s,l,c=vt.min(),d=vt.min(),p=Ke.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new Fr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class uC{constructor(t){this.yt=t}}function cC(r){const t=iC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?_m(t,t.limit,"L"):t}class hC{constructor(){this.Sn=new fC}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve($r.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve($r.min())}updateCollectionGroup(t,i,s){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class fC{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Ue(te.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ue(te.comparator)).toArray()}}const oE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},T0=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(T0,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class ro{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ro(0)}static ar(){return new ro(-1)}}const lE="LruGarbageCollector",dC=1048576;function uE([r,t],[i,s]){const l=Mt(r,i);return l===0?Mt(t,s):l}class mC{constructor(t){this.Pr=t,this.buffer=new Ue(uE),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();uE(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class gC{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){it(lE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ho(i)?it(lE,"Ignoring IndexedDB error during garbage collection: ",i):await co(i)}await this.Ar(3e5)}))}}class pC{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(Ah.ce);const s=new mC(i);return this.Vr.forEachTarget(t,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.Vr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(oE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oE):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let s,l,c,d,p,v,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(s=S,p=Date.now(),this.removeTargets(t,s,i)))).next((S=>(c=S,v=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(y=Date.now(),Ga()<=Vt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${S} documents in `+(y-v)+`ms
Total Duration: ${y-T}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function yC(r,t){return new pC(r,t)}class _C{constructor(){this.changes=new Zs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class vC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class EC{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&Nl(s.mutation,l,wn.empty(),re.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Ut()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Ut()){const l=Bs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=Al();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=Bs();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Ut())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,s,l){let c=rr();const d=Dl(),p=(function(){return Dl()})();return i.forEach(((v,y)=>{const T=s.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof as)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Nl(T.mutation,y,T.mutation.getFieldMask(),re.now())):d.set(y.key,wn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>p.set(y,new vC(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const s=Dl();let l=new le(((d,p)=>d-p)),c=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let T=s.get(v)||wn.empty();T=p.applyToLocalView(y,T),s.set(v,T);const S=(l.get(p.batchId)||Ut()).add(v);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,T=v.value,S=n0();T.forEach((D=>{if(!c.has(D)){const G=l0(i.get(D),s.get(D));G!==null&&S.set(D,G),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return X.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return EI(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):ZT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):X.resolve(Bs());let p=Ul,v=c;return d.next((y=>X.forEach(y,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(T)?X.resolve():this.remoteDocumentCache.getEntry(t,T).next((D=>{v=v.insert(T,D)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Ut()))).next((T=>({batchId:p,changes:e0(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ut(i)).next((s=>{let l=Al();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=Al();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(v=>{const y=(function(S,D){return new Js(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next((T=>{T.forEach(((S,D)=>{d=d.insert(S,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((v,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Ze.newInvalidDocument(T)))}));let p=Al();return d.forEach(((v,y)=>{const T=c.get(v);T!==void 0&&Nl(T.mutation,y,wn.empty(),re.now()),Ih(i,y)&&(p=p.insert(v,y))})),p}))}}class TC{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ci(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:cC(l.bundledQuery),readTime:Ci(l.readTime)}})(i)),X.resolve()}}class AC{constructor(){this.overlays=new le(ut.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Bs();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.Lr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),X.resolve()}getOverlaysForCollection(t,i,s){const l=Bs(),c=i.length+1,d=new ut(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>s&&l.set(v.getKey(),v)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new le(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let T=c.get(y.largestBatchId);T===null&&(T=Bs(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=Bs(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return X.resolve(p)}bt(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(s.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new BI(i,s));let c=this.Lr.get(i);c===void 0&&(c=Ut(),this.Lr.set(i,c)),this.Lr.set(i,c.add(s.key))}}class SC{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class ng{constructor(){this.kr=new Ue(ke.Kr),this.qr=new Ue(ke.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const s=new ke(t,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Wr(new ke(t,i))}Qr(t,i){t.forEach((s=>this.removeReference(s,i)))}Gr(t){const i=new ut(new te([])),s=new ke(i,t),l=new ke(i,t+1),c=[];return this.qr.forEachInRange([s,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ut(new te([])),s=new ke(i,t),l=new ke(i,t+1);let c=Ut();return this.qr.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new ke(t,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class ke{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ut.comparator(t.key,i.key)||Mt(t.Hr,i.Hr)}static Ur(t,i){return Mt(t.Hr,i.Hr)||ut.comparator(t.key,i.key)}}class bC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ue(ke.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new zI(c,i,s,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new ke(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.Xr(s),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Qm:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new ke(i,0),l=new ke(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Ue(Mt);return i.forEach((l=>{const c=new ke(l,0),d=new ke(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{s=s.add(p.Hr)}))})),X.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;ut.isDocumentKey(c)||(c=c.child(""));const d=new ke(new ut(c),0);let p=new Ue(Mt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(p=p.add(v.Hr)),!0)}),d),X.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((s=>{const l=this.Zr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Gt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return X.forEach(i.mutations,(l=>{const c=new ke(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,i){const s=new ke(i,0),l=this.Jr.firstAfterOrEqual(s);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class wC{constructor(t){this.ti=t,this.docs=(function(){return new le(ut.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let s=rr();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),X.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=rr();const d=i.path,p=new ut(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:T}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||JR(XR(T),s)<=0||(l.has(T.key)||Ih(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,s,l){dt(9500)}ni(t,i){return X.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new RC(this)}getSize(t){return X.resolve(this.size)}}class RC extends _C{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(s)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class IC{constructor(t){this.persistence=t,this.ri=new Zs((i=>Xm(i)),Jm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new ng,this.targetCount=0,this.oi=ro._r()}forEachTarget(t,i){return this.ri.forEach(((s,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new ro(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const s=this.ri.get(i)||null;return X.resolve(s)}addMatchingKeys(t,i,s){return this.si.$r(i,s),X.resolve()}removeMatchingKeys(t,i,s){this.si.Qr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const s=this.si.jr(i);return X.resolve(s)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class A0{constructor(t,i){this._i={},this.overlays={},this.ai=new Ah(0),this.ui=!1,this.ui=!0,this.ci=new SC,this.referenceDelegate=t(this),this.li=new IC(this),this.indexManager=new hC,this.remoteDocumentCache=(function(l){return new wC(l)})((s=>this.referenceDelegate.hi(s))),this.serializer=new uC(i),this.Pi=new TC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new AC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this._i[t.toKey()];return s||(s=new bC(i,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,s){it("MemoryPersistence","Starting transaction:",t);const l=new CC(this.ai.next());return this.referenceDelegate.Ti(),s(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((s=>()=>s.containsKey(t,i))))}}class CC extends $R{constructor(t){super(),this.currentSequenceNumber=t}}class ig{constructor(t){this.persistence=t,this.Ri=new ng,this.Ai=null}static Vi(t){return new ig(t)}get di(){if(this.Ai)return this.Ai;throw dt(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),X.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(s=>{const l=ut.fromPath(s);return this.mi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class uh{constructor(t,i){this.persistence=t,this.fi=new Zs((s=>eI(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=yC(this,i)}static Vi(t,i){return new uh(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}pr(t){let i=0;return this.mr(t,(s=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((s,l)=>this.wr(t,s,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(s++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.fi.set(s,t.currentSequenceNumber),X.resolve()}removeReference(t,i,s){return this.fi.set(s,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Gc(t.data.value)),i}wr(t,i,s){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class rg{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Ts=s,this.Is=l}static Es(t,i){let s=Ut(),l=Ut();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new rg(t,i.fromCache,s,l)}}class DC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class NC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return g1()?8:WR($e())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new DC;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,s,l){return s.documentReadCount<this.Vs?(Ga()<=Vt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Fa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Ga()<=Vt.DEBUG&&it("QueryEngine","Query:",Fa(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(Ga()<=Vt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Fa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(i))):X.resolve())}gs(t,i){if(Zv(i))return X.resolve(null);let s=Ii(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=_m(i,null,"F"),s=Ii(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Ut(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((v=>{const y=this.bs(i,p);return this.Ss(i,y,d,v.readTime)?this.gs(t,_m(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,s,l){return Zv(i)||l.isEqual(vt.min())?X.resolve(null):this.fs.getDocuments(t,s).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,s,l)?X.resolve(null):(Ga()<=Vt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Fa(i)),this.Ds(t,d,i,YR(l,Ul)).next((p=>p)))}))}bs(t,i){let s=new Ue(WT(t));return i.forEach(((l,c)=>{Ih(t,c)&&(s=s.add(c))})),s}Ss(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,s){return Ga()<=Vt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Fa(i)),this.fs.getDocumentsMatchingQuery(t,i,$r.min(),s)}Ds(t,i,s,l){return this.fs.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const sg="LocalStore",OC=3e8;class VC{constructor(t,i,s,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new le(Mt),this.Fs=new Zs((c=>Xm(c)),Jm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new EC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function MC(r,t,i,s){return new VC(r,t,i,s)}async function S0(r,t){const i=Tt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let v=Ut();for(const y of l){d.push(y.batchId);for(const T of y.mutations)v=v.add(T.key)}for(const y of c){p.push(y.batchId);for(const T of y.mutations)v=v.add(T.key)}return i.localDocuments.getDocuments(s,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function UC(r,t){const i=Tt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,T){const S=y.batch,D=S.keys();let G=X.resolve();return D.forEach((J=>{G=G.next((()=>T.getEntry(v,J))).next((Z=>{const tt=y.docVersions.get(J);Gt(tt!==null,48541),Z.version.compareTo(tt)<0&&(S.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),T.addEntry(Z)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(v,S)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let v=Ut();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function b0(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function LC(r,t){const i=Tt(r),s=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((T,S)=>{const D=l.get(S);if(!D)return;p.push(i.li.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,T.addedDocuments,S))));let G=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?G=G.withResumeToken(Ke.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):T.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(T.resumeToken,s)),l=l.insert(S,G),(function(Z,tt,ht){return Z.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=OC?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(D,G,T)&&p.push(i.li.updateTargetData(c,G))}));let v=rr(),y=Ut();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(xC(c,d,t.documentUpdates).next((T=>{v=T.Bs,y=T.Ls}))),!s.isEqual(vt.min())){const T=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(T)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=l,c)))}function xC(r,t,i){let s=Ut(),l=Ut();return i.forEach((c=>s=s.add(c))),t.getEntries(r,s).next((c=>{let d=rr();return i.forEach(((p,v)=>{const y=c.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(vt.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):it(sg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function PC(r,t){const i=Tt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Qm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function kC(r,t){const i=Tt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.li.getTargetData(s,t).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(s).next((d=>(l=new Fr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.vs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(t,s.targetId)),s}))}async function Sm(r,t,i){const s=Tt(r),l=s.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ho(d))throw d;it(sg,`Failed to update sequence numbers for target ${t}: ${d}`)}s.vs=s.vs.remove(t),s.Fs.delete(l.target)}function cE(r,t,i){const s=Tt(r);let l=vt.min(),c=Ut();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,T){const S=Tt(v),D=S.Fs.get(T);return D!==void 0?X.resolve(S.vs.get(D)):S.li.getTargetData(y,T)})(s,d,Ii(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:Ut()))).next((p=>(zC(s,SI(t),p),{documents:p,ks:c})))))}function zC(r,t,i){let s=r.Ms.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(t,s)}class hE{constructor(){this.activeTargetIds=DI()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class BC{constructor(){this.vo=new hE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,s){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new hE,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class qC{Mo(t){}shutdown(){}}const fE="ConnectivityMonitor";class dE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){it(fE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){it(fE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kc=null;function bm(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}const Wd="RestConnection",jC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class HC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${s}/databases/${l}`,this.$o=this.databaseId.database===rh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(t,i,s,l,c){const d=bm(),p=this.Qo(t,i.toUriEncodedString());it(Wd,`Sending RPC '${t}' ${d}:`,p,s);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,c);const{host:y}=new URL(p),T=ao(y);return this.zo(t,p,v,s,T).then((S=>(it(Wd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Ks(Wd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",s),S}))}jo(t,i,s,l,c,d){return this.Wo(t,i,s,l,c)}Go(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const s=jC[t];let l=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class GC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Xe="WebChannelConnection",El=(r,t,i)=>{r.listen(t,(s=>{try{i(s)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Za extends HC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Za.c_){const t=NT();El(t,DT.STAT_EVENT,(i=>{i.stat===hm.PROXY?it(Xe,"STAT_EVENT: detected buffering proxy"):i.stat===hm.NOPROXY&&it(Xe,"STAT_EVENT: detected no buffering proxy")})),Za.c_=!0}}zo(t,i,s,l,c){const d=bm();return new Promise(((p,v)=>{const y=new IT;y.setWithCredentials(!0),y.listenOnce(CT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Hc.NO_ERROR:const S=y.getResponseJson();it(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Hc.TIMEOUT:it(Xe,`RPC '${t}' ${d} timed out`),v(new nt(F.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const D=y.getStatus();if(it(Xe,`RPC '${t}' ${d} failed with status:`,D,"response text:",y.getResponseText()),D>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const J=G?.error;if(J&&J.status&&J.message){const Z=(function(ht){const yt=ht.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(yt)>=0?yt:F.UNKNOWN})(J.status);v(new nt(Z,J.message))}else v(new nt(F.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new nt(F.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{it(Xe,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);it(Xe,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",T,s,15)}))}T_(t,i,s){const l=bm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const y=c.join("");it(Xe,`Creating RPC '${t}' stream ${l}: ${y}`,p);const T=d.createWebChannel(y,p);this.I_(T);let S=!1,D=!1;const G=new GC({Ho:J=>{D?it(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(S||(it(Xe,`Opening RPC '${t}' stream ${l} transport.`),T.open(),S=!0),it(Xe,`RPC '${t}' stream ${l} sending:`,J),T.send(J))},Jo:()=>T.close()});return El(T,Tl.EventType.OPEN,(()=>{D||(it(Xe,`RPC '${t}' stream ${l} transport opened.`),G.i_())})),El(T,Tl.EventType.CLOSE,(()=>{D||(D=!0,it(Xe,`RPC '${t}' stream ${l} transport closed`),G.o_(),this.E_(T))})),El(T,Tl.EventType.ERROR,(J=>{D||(D=!0,Ks(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),G.o_(new nt(F.UNAVAILABLE,"The operation could not be completed")))})),El(T,Tl.EventType.MESSAGE,(J=>{if(!D){const Z=J.data[0];Gt(!!Z,16349);const tt=Z,ht=tt?.error||tt[0]?.error;if(ht){it(Xe,`RPC '${t}' stream ${l} received error:`,ht);const yt=ht.status;let gt=(function(Dt){const C=Ce[Dt];if(C!==void 0)return c0(C)})(yt),kt=ht.message;yt==="NOT_FOUND"&&kt.includes("database")&&kt.includes("does not exist")&&kt.includes(this.databaseId.database)&&Ks(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),gt===void 0&&(gt=F.INTERNAL,kt="Unknown error status: "+yt+" with message "+ht.message),D=!0,G.o_(new nt(gt,kt)),T.close()}else it(Xe,`RPC '${t}' stream ${l} received:`,Z),G.__(Z)}})),Za.u_(),setTimeout((()=>{G.s_()}),0),G}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,s){super.Go(t,i,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return OT()}}function FC(r){return new Za(r)}function tm(){return typeof document<"u"?document:null}function Oh(r){return new XI(r,!0)}Za.c_=!1;class w0{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=s,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const mE="PersistentStream";class R0{constructor(t,i,s,l,c,d,p,v){this.Ci=t,this.b_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new w0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===F.RESOURCE_EXHAUSTED?(ir(i.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new nt(F.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(mE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(it(mE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QC extends R0{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=$I(this.serializer,t),s=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Ci(d.readTime):vt.min()})(t);return this.listener.J_(i,s)}Z_(t){const i={};i.database=Am(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=pm(v)?{documents:eC(c,v)}:{query:nC(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=d0(c,d.resumeToken);const y=vm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(vt.min())>0){p.readTime=lh(c,d.snapshotVersion.toTimestamp());const y=vm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const s=rC(this.serializer,t);s&&(i.labels=s),this.K_(i)}X_(t){const i={};i.database=Am(this.serializer),i.removeTarget=t,this.K_(i)}}class KC extends R0{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=tC(t.writeResults,t.commitTime),s=Ci(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=Am(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>WI(this.serializer,s)))};this.K_(i)}}class YC{}class XC extends YC{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new nt(F.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,Em(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new nt(F.UNKNOWN,c.toString())}))}jo(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,Em(i,s),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new nt(F.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function JC(r,t,i,s){return new XC(r,t,i,s)}class ZC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ir(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ys="RemoteStore";class $C{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{$s(this)&&(it(Ys,"Restarting streams for network reachability change."),await(async function(v){const y=Tt(v);y.Ea.add(4),await $l(y),y.Va.set("Unknown"),y.Ea.delete(4),await Vh(y)})(this))}))})),this.Va=new ZC(s,l)}}async function Vh(r){if($s(r))for(const t of r.Ra)await t(!0)}async function $l(r){for(const t of r.Ra)await t(!1)}function I0(r,t){const i=Tt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),ug(i)?lg(i):fo(i).O_()&&og(i,t))}function ag(r,t){const i=Tt(r),s=fo(i);i.Ia.delete(t),s.O_()&&C0(i,t),i.Ia.size===0&&(s.O_()?s.L_():$s(i)&&i.Va.set("Unknown"))}function og(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}fo(r).Z_(t)}function C0(r,t){r.da.$e(t),fo(r).X_(t)}function lg(r){r.da=new FI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),fo(r).start(),r.Va.ua()}function ug(r){return $s(r)&&!fo(r).x_()&&r.Ia.size>0}function $s(r){return Tt(r).Ea.size===0}function D0(r){r.da=void 0}async function WC(r){r.Va.set("Online")}async function t2(r){r.Ia.forEach(((t,i)=>{og(r,t)}))}async function e2(r,t){D0(r),ug(r)?(r.Va.ha(t),lg(r)):r.Va.set("Unknown")}async function n2(r,t,i){if(r.Va.set("Online"),t instanceof f0&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(r,t)}catch(s){it(Ys,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await ch(r,s)}else if(t instanceof Kc?r.da.Xe(t):t instanceof h0?r.da.st(t):r.da.tt(t),!i.isEqual(vt.min()))try{const s=await b0(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,y)=>{const T=c.Ia.get(v);if(!T)return;c.Ia.set(v,T.withResumeToken(Ke.EMPTY_BYTE_STRING,T.snapshotVersion)),C0(c,v);const S=new Fr(T.target,v,y,T.sequenceNumber);og(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){it(Ys,"Failed to raise snapshot:",s),await ch(r,s)}}async function ch(r,t,i){if(!ho(t))throw t;r.Ea.add(1),await $l(r),r.Va.set("Offline"),i||(i=()=>b0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{it(Ys,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Vh(r)}))}function N0(r,t){return t().catch((i=>ch(r,i,t)))}async function Mh(r){const t=Tt(r),i=ns(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Qm;for(;i2(t);)try{const l=await PC(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,r2(t,l)}catch(l){await ch(t,l)}O0(t)&&V0(t)}function i2(r){return $s(r)&&r.Ta.length<10}function r2(r,t){r.Ta.push(t);const i=ns(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function O0(r){return $s(r)&&!ns(r).x_()&&r.Ta.length>0}function V0(r){ns(r).start()}async function s2(r){ns(r).ra()}async function a2(r){const t=ns(r);for(const i of r.Ta)t.ea(i.mutations)}async function o2(r,t,i){const s=r.Ta.shift(),l=Wm.from(s,t,i);await N0(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Mh(r)}async function l2(r,t){t&&ns(r).Y_&&await(async function(s,l){if((function(d){return jI(d)&&d!==F.ABORTED})(l.code)){const c=s.Ta.shift();ns(s).B_(),await N0(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Mh(s)}})(r,t),O0(r)&&V0(r)}async function gE(r,t){const i=Tt(r);i.asyncQueue.verifyOperationInProgress(),it(Ys,"RemoteStore received new credentials");const s=$s(i);i.Ea.add(3),await $l(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Vh(i)}async function u2(r,t){const i=Tt(r);t?(i.Ea.delete(2),await Vh(i)):t||(i.Ea.add(2),await $l(i),i.Va.set("Unknown"))}function fo(r){return r.ma||(r.ma=(function(i,s,l){const c=Tt(i);return c.sa(),new QC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:WC.bind(null,r),Yo:t2.bind(null,r),t_:e2.bind(null,r),J_:n2.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),ug(r)?lg(r):r.Va.set("Unknown")):(await r.ma.stop(),D0(r))}))),r.ma}function ns(r){return r.fa||(r.fa=(function(i,s,l){const c=Tt(i);return c.sa(),new KC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:s2.bind(null,r),t_:l2.bind(null,r),ta:a2.bind(null,r),na:o2.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Mh(r)):(await r.fa.stop(),r.Ta.length>0&&(it(Ys,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class cg{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,p=new cg(t,i,d,l,c);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(F.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hg(r,t){if(ir("AsyncQueue",`${t}: ${r}`),ho(r))return new nt(F.UNAVAILABLE,`${t}: ${r}`);throw r}class $a{static emptySet(t){return new $a(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ut.comparator(i.key,s.key):(i,s)=>ut.comparator(i.key,s.key),this.keyedMap=Al(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof $a)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new $a;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class pE{constructor(){this.ga=new le(ut.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):dt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class so{constructor(t,i,s,l,c,d,p,v,y){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new so(t,i,$a.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class c2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class h2{constructor(){this.queries=yE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Tt(i),c=l.queries;l.queries=yE(),c.forEach(((d,p)=>{for(const v of p.ba)v.onError(s)}))})(this,new nt(F.ABORTED,"Firestore shutting down"))}}function yE(){return new Zs((r=>$T(r)),Rh)}async function fg(r,t){const i=Tt(r);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(s=2):(c=new c2,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=hg(d,`Initialization of query '${Fa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&mg(i)}async function dg(r,t){const i=Tt(r),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function f2(r,t){const i=Tt(r);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(s=!0);d.wa=l}}s&&mg(i)}function d2(r,t,i){const s=Tt(r),l=s.queries.get(t);if(l)for(const c of l.ba)c.onError(i);s.queries.delete(t)}function mg(r){r.Ca.forEach((t=>{t.next()}))}var wm,_E;(_E=wm||(wm={})).Ma="default",_E.Cache="cache";class gg{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new so(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=so.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==wm.Cache}}class M0{constructor(t){this.key=t}}class U0{constructor(t){this.key=t}}class m2{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.eu=WT(t),this.tu=new $a(this.eu)}get nu(){return this.Za}ru(t,i){const s=i?i.iu:new pE,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,S)=>{const D=l.get(T),G=Ih(this.query,S)?S:null,J=!!D&&this.mutatedKeys.has(D.key),Z=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let tt=!1;D&&G?D.data.isEqual(G.data)?J!==Z&&(s.track({type:3,doc:G}),tt=!0):this.su(D,G)||(s.track({type:2,doc:G}),tt=!0,(v&&this.eu(G,v)>0||y&&this.eu(G,y)<0)&&(p=!0)):!D&&G?(s.track({type:0,doc:G}),tt=!0):D&&!G&&(s.track({type:1,doc:D}),tt=!0,(v||y)&&(p=!0)),tt&&(G?(d=d.add(G),c=Z?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,S)=>(function(G,J){const Z=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:tt})}};return Z(G)-Z(J)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(s),l=l??!1;const p=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new so(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ut(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return t.forEach((s=>{this.Ya.has(s)||i.push(new U0(s))})),this.Ya.forEach((s=>{t.has(s)||i.push(new M0(s))})),i}cu(t){this.Za=t.ks,this.Ya=Ut();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return so.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const pg="SyncEngine";class g2{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class p2{constructor(t){this.key=t,this.hu=!1}}class y2{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Zs((p=>$T(p)),Rh),this.Iu=new Map,this.Eu=new Set,this.Ru=new le(ut.comparator),this.Au=new Map,this.Vu=new ng,this.du={},this.mu=new Map,this.fu=ro.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _2(r,t,i=!0){const s=B0(r);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await L0(s,t,i,!0),l}async function v2(r,t){const i=B0(r);await L0(i,t,!0,!1)}async function L0(r,t,i,s){const l=await kC(r.localStore,Ii(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await E2(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&I0(r.remoteStore,l),p}async function E2(r,t,i,s,l){r.pu=(S,D,G)=>(async function(Z,tt,ht,yt){let gt=tt.view.ru(ht);gt.Ss&&(gt=await cE(Z.localStore,tt.query,!1).then((({documents:C})=>tt.view.ru(C,gt))));const kt=yt&&yt.targetChanges.get(tt.targetId),ee=yt&&yt.targetMismatches.get(tt.targetId)!=null,Dt=tt.view.applyChanges(gt,Z.isPrimaryClient,kt,ee);return EE(Z,tt.targetId,Dt.au),Dt.snapshot})(r,S,D,G);const c=await cE(r.localStore,t,!0),d=new m2(t,c.ks),p=d.ru(c.documents),v=Zl.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,v);EE(r,i,y.au);const T=new g2(t,i,d);return r.Tu.set(t,T),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function T2(r,t,i){const s=Tt(r),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!Rh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Sm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&ag(s.remoteStore,l.targetId),Rm(s,l.targetId)})).catch(co)):(Rm(s,l.targetId),await Sm(s.localStore,l.targetId,!0))}async function A2(r,t){const i=Tt(r),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),ag(i.remoteStore,s.targetId))}async function S2(r,t,i){const s=N2(r);try{const l=await(function(d,p){const v=Tt(d),y=re.now(),T=p.reduce(((G,J)=>G.add(J.key)),Ut());let S,D;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let J=rr(),Z=Ut();return v.xs.getEntries(G,T).next((tt=>{J=tt,J.forEach(((ht,yt)=>{yt.isValidDocument()||(Z=Z.add(ht))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,J))).next((tt=>{S=tt;const ht=[];for(const yt of p){const gt=PI(yt,S.get(yt.key).overlayedDocument);gt!=null&&ht.push(new as(yt.key,gt,GT(gt.value.mapValue),mn.exists(!0)))}return v.mutationQueue.addMutationBatch(G,y,ht,p)})).next((tt=>{D=tt;const ht=tt.applyToLocalDocumentSet(S,Z);return v.documentOverlayCache.saveOverlays(G,tt.batchId,ht)}))})).then((()=>({batchId:D.batchId,changes:e0(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,v){let y=d.du[d.currentUser.toKey()];y||(y=new le(Mt)),y=y.insert(p,v),d.du[d.currentUser.toKey()]=y})(s,l.batchId,i),await Wl(s,l.changes),await Mh(s.remoteStore)}catch(l){const c=hg(l,"Failed to persist write");i.reject(c)}}async function x0(r,t){const i=Tt(r);try{const s=await LC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Gt(d.hu,14607):l.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await Wl(i,s,t)}catch(s){await co(s)}}function vE(r,t,i){const s=Tt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=Tt(d);v.onlineState=p;let y=!1;v.queries.forEach(((T,S)=>{for(const D of S.ba)D.va(p)&&(y=!0)})),y&&mg(v)})(s.eventManager,t),l.length&&s.Pu.J_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function b2(r,t,i){const s=Tt(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new le(ut.comparator);d=d.insert(c,Ze.newNoDocument(c,vt.min()));const p=Ut().add(c),v=new Nh(vt.min(),new Map,new le(Mt),d,p);await x0(s,v),s.Ru=s.Ru.remove(c),s.Au.delete(t),yg(s)}else await Sm(s.localStore,t,!1).then((()=>Rm(s,t,i))).catch(co)}async function w2(r,t){const i=Tt(r),s=t.batch.batchId;try{const l=await UC(i.localStore,t);k0(i,s,null),P0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Wl(i,l)}catch(l){await co(l)}}async function R2(r,t,i){const s=Tt(r);try{const l=await(function(d,p){const v=Tt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return v.mutationQueue.lookupMutationBatch(y,p).next((S=>(Gt(S!==null,37113),T=S.keys(),v.mutationQueue.removeMutationBatch(y,S)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>v.localDocuments.getDocuments(y,T)))}))})(s.localStore,t);k0(s,t,i),P0(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Wl(s,l)}catch(l){await co(l)}}function P0(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function k0(r,t,i){const s=Tt(r);let l=s.du[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.du[s.currentUser.toKey()]=l}}function Rm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((s=>{r.Vu.containsKey(s)||z0(r,s)}))}function z0(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(ag(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),yg(r))}function EE(r,t,i){for(const s of i)s instanceof M0?(r.Vu.addReference(s.key,t),I2(r,s)):s instanceof U0?(it(pg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,t),r.Vu.containsKey(s.key)||z0(r,s.key)):dt(19791,{wu:s})}function I2(r,t){const i=t.key,s=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(s)||(it(pg,"New document in limbo: "+i),r.Eu.add(s),yg(r))}function yg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ut(te.fromString(t)),s=r.fu.next();r.Au.set(s,new p2(i)),r.Ru=r.Ru.insert(i,s),I0(r.remoteStore,new Fr(Ii(wh(i.path)),s,"TargetPurposeLimboResolution",Ah.ce))}}async function Wl(r,t,i){const s=Tt(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,v)=>{d.push(s.pu(v,t,i).then((y=>{if((y||i)&&s.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,T?"current":"not-current")}if(y){l.push(y);const T=rg.Es(v.targetId,y);c.push(T)}})))})),await Promise.all(d),s.Pu.J_(l),await(async function(v,y){const T=Tt(v);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(y,(D=>X.forEach(D.Ts,(G=>T.persistence.referenceDelegate.addReference(S,D.targetId,G))).next((()=>X.forEach(D.Is,(G=>T.persistence.referenceDelegate.removeReference(S,D.targetId,G)))))))))}catch(S){if(!ho(S))throw S;it(sg,"Failed to update sequence numbers: "+S)}for(const S of y){const D=S.targetId;if(!S.fromCache){const G=T.vs.get(D),J=G.snapshotVersion,Z=G.withLastLimboFreeSnapshotVersion(J);T.vs=T.vs.insert(D,Z)}}})(s.localStore,c))}async function C2(r,t){const i=Tt(r);if(!i.currentUser.isEqual(t)){it(pg,"User change. New user:",t.toKey());const s=await S0(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new nt(F.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Wl(i,s.Ns)}}function D2(r,t){const i=Tt(r),s=i.Au.get(t);if(s&&s.hu)return Ut().add(s.key);{let l=Ut();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function B0(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=x0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=D2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=b2.bind(null,t),t.Pu.J_=f2.bind(null,t.eventManager),t.Pu.yu=d2.bind(null,t.eventManager),t}function N2(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=w2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=R2.bind(null,t),t}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Oh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return MC(this.persistence,new NC,t.initialUser,this.serializer)}Cu(t){return new A0(ig.Vi,this.serializer)}Du(t){return new BC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class O2 extends hh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof uh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new gC(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new A0((s=>uh.Vi(s,i)),this.serializer)}}class Im{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>vE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=C2.bind(null,this.syncEngine),await u2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new h2})()}createDatastore(t){const i=Oh(t.databaseInfo.databaseId),s=FC(t.databaseInfo);return JC(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,p){return new $C(s,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>vE(this.syncEngine,i,0)),(function(){return dE.v()?new dE:new qC})())}createSyncEngine(t,i){return(function(l,c,d,p,v,y,T){const S=new y2(l,c,d,p,v,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Tt(i);it(Ys,"RemoteStore shutting down."),s.Ea.add(5),await $l(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Im.provider={build:()=>new Im};class _g{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ir("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const is="FirestoreClient";class V2{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=Gm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{it(is,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(it(is,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=hg(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function em(r,t){r.asyncQueue.verifyOperationInProgress(),it(is,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await S0(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function TE(r,t){r.asyncQueue.verifyOperationInProgress();const i=await M2(r);it(is,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((s=>gE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>gE(t.remoteStore,l))),r._onlineComponents=t}async function M2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(is,"Using user provided OfflineComponentProvider");try{await em(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===F.FAILED_PRECONDITION||l.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ks("Error using user provided cache. Falling back to memory cache: "+i),await em(r,new hh)}}else it(is,"Using default OfflineComponentProvider"),await em(r,new O2(void 0));return r._offlineComponents}async function q0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(is,"Using user provided OnlineComponentProvider"),await TE(r,r._uninitializedComponentsProvider._online)):(it(is,"Using default OnlineComponentProvider"),await TE(r,new Im))),r._onlineComponents}function U2(r){return q0(r).then((t=>t.syncEngine))}async function fh(r){const t=await q0(r),i=t.eventManager;return i.onListen=_2.bind(null,t.syncEngine),i.onUnlisten=T2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=v2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=A2.bind(null,t.syncEngine),i}function L2(r,t,i,s){const l=new _g(s),c=new gg(t,l,i);return r.asyncQueue.enqueueAndForget((async()=>fg(await fh(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>dg(await fh(r),c)))}}function x2(r,t,i={}){const s=new tr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,v,y){const T=new _g({next:D=>{T.Nu(),d.enqueueAndForget((()=>dg(c,S)));const G=D.docs.has(p);!G&&D.fromCache?y.reject(new nt(F.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&D.fromCache&&v&&v.source==="server"?y.reject(new nt(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(D)},error:D=>y.reject(D)}),S=new gg(wh(p.path),T,{includeMetadataChanges:!0,Ka:!0});return fg(c,S)})(await fh(r),r.asyncQueue,t,i,s))),s.promise}function P2(r,t,i={}){const s=new tr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,v,y){const T=new _g({next:D=>{T.Nu(),d.enqueueAndForget((()=>dg(c,S))),D.fromCache&&v.source==="server"?y.reject(new nt(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(D)},error:D=>y.reject(D)}),S=new gg(p,T,{includeMetadataChanges:!0,Ka:!0});return fg(c,S)})(await fh(r),r.asyncQueue,t,i,s))),s.promise}function k2(r,t){const i=new tr;return r.asyncQueue.enqueueAndForget((async()=>S2(await U2(r),t,i))),i.promise}function j0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const z2="ComponentProvider",AE=new Map;function B2(r,t,i,s,l){return new rI(r,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,j0(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,s)}const H0="firestore.googleapis.com",SE=!0;class bE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new nt(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=H0,this.ssl=SE}else this.host=t.host,this.ssl=t.ssl??SE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=T0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<dC)throw new nt(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}KR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j0(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new nt(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new nt(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new nt(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class tu{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new nt(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new PR;switch(s.type){case"firstParty":return new qR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new nt(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=AE.get(i);s&&(it(z2,"Removing Datastore"),AE.delete(i),s.terminate())})(this),Promise.resolve()}}function q2(r,t,i,s={}){r=nn(r,tu);const l=ao(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(zE(`https://${p}`),BE("Firestore",!0)),c.host!==H0&&c.host!==p&&Ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:l,emulatorOptions:s};if(!Hs(v,d)&&(r._setSettings(v),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=Je.MOCK_USER;else{y=a1(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new nt(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Je(S)}r._authCredentials=new kR(new MT(y,T))}}class or{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new or(this.firestore,t,this._query)}}class he{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new he(this.firestore,t,this._key)}toJSON(){return{type:he._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(Xl(i,he._jsonSchema))return new he(t,s||null,new ut(te.fromString(i.referencePath)))}}he._jsonSchemaVersion="firestore/documentReference/1.0",he._jsonSchema={type:Ne("string",he._jsonSchemaVersion),referencePath:Ne("string")};class Zr extends or{constructor(t,i,s){super(t,i,wh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new he(this.firestore,null,new ut(t))}withConverter(t){return new Zr(this.firestore,t,this._path)}}function Ws(r,t,...i){if(r=ye(r),Fm("collection","path",t),r instanceof tu){const s=te.fromString(t,...i);return Pv(s),new Zr(r,null,s)}{if(!(r instanceof he||r instanceof Zr))throw new nt(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...i));return Pv(s),new Zr(r.firestore,null,s)}}function j2(r,t){if(r=nn(r,tu),Fm("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new nt(F.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new or(r,null,(function(s){return new Js(te.emptyPath(),s)})(t))}function rs(r,t,...i){if(r=ye(r),arguments.length===1&&(t=Gm.newId()),Fm("doc","path",t),r instanceof tu){const s=te.fromString(t,...i);return xv(s),new he(r,null,new ut(s))}{if(!(r instanceof he||r instanceof Zr))throw new nt(F.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...i));return xv(s),new he(r.firestore,r instanceof Zr?r.converter:null,new ut(s))}}const wE="AsyncQueue";class RE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new w0(this,"async_queue_retry"),this._c=()=>{const s=tm();s&&it(wE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=tm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=tm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new tr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ho(t))throw t;it(wE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,ir("INTERNAL UNHANDLED ERROR: ",IE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=cg.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&dt(47125,{Pc:IE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function IE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class sr extends tu{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new RE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new RE(t),this._firestoreClient=void 0,await t}}}function H2(r,t){const i=typeof r=="object"?r:GE(),s=typeof r=="string"?r:rh,l=Vm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=r1("firestore");c&&q2(l,...c)}return l}function eu(r){if(r._terminated)throw new nt(F.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||G2(r),r._firestoreClient}function G2(r){const t=r._freezeSettings(),i=B2(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new V2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Bn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bn(Ke.fromBase64String(t))}catch(i){throw new nt(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Bn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Xl(t,Bn._jsonSchema))return Bn.fromBase64String(t.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Ne("string",Bn._jsonSchemaVersion),bytes:Ne("string")};class Uh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new nt(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Lh{constructor(t){this._methodName=t}}class Di{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new nt(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new nt(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(t){if(Xl(t,Di._jsonSchema))return new Di(t.latitude,t.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Ne("string",Di._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};class ei{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Xl(t,ei._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ei(t.vectorValues);throw new nt(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:Ne("string",ei._jsonSchemaVersion),vectorValues:Ne("object")};const F2=/^__.*__$/;class Q2{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new as(t,this.data,this.fieldMask,i,this.fieldTransforms):new Jl(t,this.data,i,this.fieldTransforms)}}class G0{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new as(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function F0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{dataSource:r})}}class vg{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new vg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const i=this.path?.child(t),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return dh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(F0(this.dataSource)&&F2.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class K2{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Oh(t)}createContext(t,i,s,l=!1){return new vg({dataSource:t,methodName:i,targetDoc:s,path:Qe.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nu(r){const t=r._freezeSettings(),i=Oh(r._databaseId);return new K2(r._databaseId,!!t.ignoreUndefinedProperties,i)}function Eg(r,t,i,s,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,l);Ag("Data must be an object, but it was:",d,s);const p=Y0(s,d);let v,y;if(c.merge)v=new wn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const D=Xs(t,S,i);if(!d.contains(D))throw new nt(F.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);Z0(T,D)||T.push(D)}v=new wn(T),y=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,y=d.fieldTransforms;return new Q2(new dn(p),v,y)}class xh extends Lh{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof xh}}class Tg extends Lh{_toFieldTransform(t){return new MI(t.path,new zl)}isEqual(t){return t instanceof Tg}}function Q0(r,t,i,s){const l=r.createContext(1,t,i);Ag("Data must be an object, but it was:",l,s);const c=[],d=dn.empty();ss(s,((v,y)=>{const T=J0(t,v,i);y=ye(y);const S=l.childContextForFieldPath(T);if(y instanceof xh)c.push(T);else{const D=iu(y,S);D!=null&&(c.push(T),d.set(T,D))}}));const p=new wn(c);return new G0(d,p,l.fieldTransforms)}function K0(r,t,i,s,l,c){const d=r.createContext(1,t,i),p=[Xs(t,s,i)],v=[l];if(c.length%2!=0)throw new nt(F.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)p.push(Xs(t,c[D])),v.push(c[D+1]);const y=[],T=dn.empty();for(let D=p.length-1;D>=0;--D)if(!Z0(y,p[D])){const G=p[D];let J=v[D];J=ye(J);const Z=d.childContextForFieldPath(G);if(J instanceof xh)y.push(G);else{const tt=iu(J,Z);tt!=null&&(y.push(G),T.set(G,tt))}}const S=new wn(y);return new G0(T,S,d.fieldTransforms)}function Y2(r,t,i,s=!1){return iu(i,r.createContext(s?4:3,t))}function iu(r,t){if(X0(r=ye(r)))return Ag("Unsupported field value:",t,r),Y0(r,t);if(r instanceof Lh)return(function(s,l){if(!F0(l.dataSource))throw l.createError(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const p of s){let v=iu(p,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(s,l){if((s=ye(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return NI(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=re.fromDate(s);return{timestampValue:lh(l.serializer,c)}}if(s instanceof re){const c=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:lh(l.serializer,c)}}if(s instanceof Di)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:d0(l.serializer,s._byteString)};if(s instanceof he){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:eg(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof ei)return(function(d,p){const v=d instanceof ei?d.toArray():d;return{mapValue:{fields:{[jT]:{stringValue:HT},[sh]:{arrayValue:{values:v.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return Zm(p.serializer,T)}))}}}}}})(s,l);if(E0(s))return s._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Th(s)}`)})(r,t)}function Y0(r,t){const i={};return xT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ss(r,((s,l)=>{const c=iu(l,t.childContextForField(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function X0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof Di||r instanceof Bn||r instanceof he||r instanceof Lh||r instanceof ei||E0(r))}function Ag(r,t,i){if(!X0(i)||!UT(i)){const s=Th(i);throw s==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+s)}}function Xs(r,t,i){if((t=ye(t))instanceof Uh)return t._internalPath;if(typeof t=="string")return J0(r,t);throw dh("Field path arguments must be of type string or ",r,!1,void 0,i)}const X2=new RegExp("[~\\*/\\[\\]]");function J0(r,t,i){if(t.search(X2)>=0)throw dh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Uh(...t.split("."))._internalPath}catch{throw dh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function dh(r,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${s}`),d&&(v+=` in document ${l}`),v+=")"),new nt(F.INVALID_ARGUMENT,p+r+v)}function Z0(r,t){return r.some((i=>i.isEqual(t)))}class J2{convertValue(t,i="none"){switch(es(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ts(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw dt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return ss(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[sh].arrayValue?.values?.map((s=>pe(s.doubleValue)));return new ei(i)}convertGeoPoint(t){return new Di(pe(t.latitude),pe(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=bh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Ll(t));default:return null}}convertTimestamp(t){const i=Wr(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=te.fromString(t);Gt(v0(s),9688,{name:t});const l=new xl(s.get(1),s.get(3)),c=new ut(s.popFirst(5));return l.isEqual(i)||ir(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class Sg extends J2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new he(this.firestore,null,i)}}function gn(){return new Tg("serverTimestamp")}const CE="@firebase/firestore",DE="4.12.0";function NE(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class $0{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new he(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Z2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Xs("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Z2 extends $0{data(){return super.data()}}function W0(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new nt(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bg{}class tA extends bg{}function jl(r,t,...i){let s=[];t instanceof bg&&s.push(t),s=s.concat(i),(function(c){const d=c.filter((v=>v instanceof wg)).length,p=c.filter((v=>v instanceof Ph)).length;if(d>1||d>0&&p>0)throw new nt(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Ph extends tA{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new Ph(t,i,s)}_apply(t){const i=this._parse(t);return eA(t._query,i),new or(t.firestore,t.converter,ym(t._query,i))}_parse(t){const i=nu(t.firestore);return(function(c,d,p,v,y,T,S){let D;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new nt(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){VE(S,T);const J=[];for(const Z of S)J.push(OE(v,c,Z));D={arrayValue:{values:J}}}else D=OE(v,c,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||VE(S,T),D=Y2(p,d,S,T==="in"||T==="not-in");return De.create(y,T,D)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function mh(r,t,i){const s=t,l=Xs("where",r);return Ph._create(l,s,i)}class wg extends bg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new wg(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ni.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const v of p)eA(d,v),d=ym(d,v)})(t._query,i),new or(t.firestore,t.converter,ym(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rg extends tA{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Rg(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new nt(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new nt(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kl(c,d)})(t._query,this._field,this._direction);return new or(t.firestore,t.converter,AI(t._query,i))}}function Ig(r,t="asc"){const i=t,s=Xs("orderBy",r);return Rg._create(s,i)}function OE(r,t,i){if(typeof(i=ye(i))=="string"){if(i==="")throw new nt(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZT(t)&&i.indexOf("/")!==-1)throw new nt(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(te.fromString(i));if(!ut.isDocumentKey(s))throw new nt(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Fv(r,new ut(s))}if(i instanceof he)return Fv(r,i._key);throw new nt(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Th(i)}.`)}function VE(r,t){if(!Array.isArray(r)||r.length===0)throw new nt(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function eA(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new nt(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new nt(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function Cg(r,t,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,s}class bl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qs extends $0{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(Xs("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=qs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",qs._jsonSchema={type:Ne("string",qs._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class Yc extends qs{data(t={}){return super.data(t)}}class js{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new bl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new Yc(this._firestore,this._userDataWriter,s.key,s,new bl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new nt(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new Yc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new bl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new Yc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new bl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:$2(p.type),doc:v,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=js._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Gm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function $2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:r})}}js._jsonSchemaVersion="firestore/querySnapshot/1.0",js._jsonSchema={type:Ne("string",js._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class W2{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=nu(t)}set(t,i,s){this._verifyNotCommitted();const l=nm(t,this._firestore),c=Cg(l.converter,i,s),d=Eg(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,s);return this._mutations.push(d.toMutation(l._key,mn.none())),this}update(t,i,s,...l){this._verifyNotCommitted();const c=nm(t,this._firestore);let d;return d=typeof(i=ye(i))=="string"||i instanceof Uh?K0(this._dataReader,"WriteBatch.update",c._key,i,s,l):Q0(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,mn.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=nm(t,this._firestore);return this._mutations=this._mutations.concat(new $m(i._key,mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new nt(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nm(r,t){if((r=ye(r)).firestore!==t)throw new nt(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function nA(r){r=nn(r,he);const t=nn(r.firestore,sr),i=eu(t);return x2(i,r._key).then((s=>sA(t,r,s)))}function tD(r){r=nn(r,or);const t=nn(r.firestore,sr),i=eu(t),s=new Sg(t);return W0(r._query),P2(i,r._query).then((l=>new js(t,s,r,l)))}function iA(r,t,i){r=nn(r,he);const s=nn(r.firestore,sr),l=Cg(r.converter,t,i),c=nu(s);return kh(s,[Eg(c,"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,mn.none())])}function gh(r,t,i,...s){r=nn(r,he);const l=nn(r.firestore,sr),c=nu(l);let d;return d=typeof(t=ye(t))=="string"||t instanceof Uh?K0(c,"updateDoc",r._key,t,i,s):Q0(c,"updateDoc",r._key,t),kh(l,[d.toMutation(r._key,mn.exists(!0))])}function rA(r,t){const i=nn(r.firestore,sr),s=rs(r),l=Cg(r.converter,t),c=nu(r.firestore);return kh(i,[Eg(c,"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,mn.exists(!1))]).then((()=>s))}function ph(r,...t){r=ye(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||NE(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(NE(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof he)d=nn(r.firestore,sr),p=wh(r._key.path),c={next:y=>{t[s]&&t[s](sA(d,r,y))},error:t[s+1],complete:t[s+2]};else{const y=nn(r,or);d=nn(y.firestore,sr),p=y._query;const T=new Sg(d);c={next:S=>{t[s]&&t[s](new js(d,T,y,S))},error:t[s+1],complete:t[s+2]},W0(r._query)}const v=eu(d);return L2(v,p,l,c)}function kh(r,t){const i=eu(r);return k2(i,t)}function sA(r,t,i){const s=i.docs.get(t._key),l=new Sg(r);return new qs(r,l,t._key,s,new bl(i.hasPendingWrites,i.fromCache),t.converter)}function eD(r){return r=nn(r,sr),eu(r),new W2(r,(t=>kh(r,t)))}(function(t,i=!0){xR(oo),Wa(new Gs("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new sr(new zR(s.getProvider("auth-internal")),new jR(d,s.getProvider("app-check-internal")),sI(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Yr(CE,DE,t),Yr(CE,DE,"esm2020")})();const nD={apiKey:"AIzaSyCCCZM-yAJhKmZ0fvnZAi86PNMFfXTD5v8",authDomain:"listapp-52494.firebaseapp.com",projectId:"listapp-52494",storageBucket:"listapp-52494.firebasestorage.app",messagingSenderId:"151979640665",appId:"1:151979640665:web:d3898a479a200e615cee48"},aA=HE(nD),rn=H2(aA),Ol=VR(aA),Cm=new Zi;Cm.setCustomParameters({prompt:"select_account"});async function oA(r){const t=rs(rn,"users",r.uid),i=await nA(t),s={uid:r.uid,email:r.email??"",emailLower:(r.email??"").toLowerCase(),displayName:r.displayName??"Utente",photoURL:r.photoURL??"",lastSeenAt:gn()};if(!i.exists()){await iA(t,{...s,createdAt:gn()});return}await gh(t,s)}async function iD(){await yw(Ol,gT);try{const r=await Bw(Ol,Cm);await oA(r.user)}catch{await Qw(Ol,Cm)}}function rD(){return Tw(Ol)}async function sD(r){r&&await oA(r)}async function aD(r,t){const i=t.trim();if(!i)throw new Error("Inserisci un nome spazio.");const s=rs(Ws(rn,"spaces")),l=rs(rn,"spaces",s.id,"members",r.uid),c=eD(rn);c.set(s,{name:i,ownerId:r.uid,createdAt:gn(),updatedAt:gn()}),c.set(l,{uid:r.uid,role:"owner",email:r.email??"",emailLower:(r.email??"").toLowerCase(),displayName:r.displayName??"Owner",addedAt:gn()}),await c.commit()}async function oD(r,t){const i=t.trim().toLowerCase();if(!i)throw new Error("Inserisci una email valida.");const s=jl(Ws(rn,"users"),mh("emailLower","==",i)),l=await tD(s);if(l.empty)throw new Error("Utente non trovato. Deve fare almeno un login prima.");const c=l.docs[0];await iA(rs(rn,"spaces",r,"members",c.id),{uid:c.id,role:"editor",email:c.data().email??"",emailLower:i,displayName:c.data().displayName??"Editor",addedAt:gn()})}async function lD(r,t,i){const s=i.trim();if(!s)throw new Error("Inserisci un nome lista.");await rA(Ws(rn,"lists"),{name:s,spaceId:t,createdBy:r.uid,createdAt:gn(),updatedAt:gn()})}async function uD(r,t,i){const s=i.trim();if(!s)throw new Error("Inserisci un elemento.");await rA(Ws(rn,"lists",t,"items"),{text:s,completed:!1,completedAt:null,createdBy:r.uid,createdAt:gn(),updatedAt:gn()}),await gh(rs(rn,"lists",t),{updatedAt:gn()})}async function cD(r,t,i){await gh(rs(rn,"lists",r,"items",t),{completed:i,completedAt:i?gn():null,updatedAt:gn()}),await gh(rs(rn,"lists",r),{updatedAt:gn()})}function hD(r,t,i){const s=new Map,l=new Map,c=()=>{const S=[...new Map([...s,...l]).values()].sort((D,G)=>{const J=D?.updatedAt?.seconds??0;return(G?.updatedAt?.seconds??0)-J});t(S)},d=jl(j2(rn,"members"),mh("uid","==",r),Ig("addedAt","desc")),p=jl(Ws(rn,"spaces"),mh("ownerId","==",r)),v=ph(d,async T=>{const S=T.docs.map(J=>J.ref.parent.parent).filter(Boolean),D=[...new Map(S.map(J=>[J.path,J])).values()],G=await Promise.all(D.map(async J=>{const Z=await nA(J);return Z.exists()?{id:Z.id,...Z.data()}:null}));s.clear(),G.filter(Boolean).forEach(J=>s.set(J.id,J)),c()},i),y=ph(p,T=>{l.clear(),T.docs.forEach(S=>l.set(S.id,{id:S.id,...S.data()})),c()},i);return()=>{v(),y()}}function fD(r,t,i){const s=jl(Ws(rn,"lists"),mh("spaceId","==",r),Ig("updatedAt","desc"));return ph(s,l=>t(l.docs.map(c=>({id:c.id,...c.data()}))),i)}function dD(r,t,i){const s=jl(Ws(rn,"lists",r,"items"),Ig("createdAt","asc"));return ph(s,l=>t(l.docs.map(c=>({id:c.id,...c.data()}))),i)}function mD(){const[r,t]=Ie.useState(null),[i,s]=Ie.useState(!0),[l,c]=Ie.useState([]),[d,p]=Ie.useState(""),[v,y]=Ie.useState([]),[T,S]=Ie.useState(""),[D,G]=Ie.useState([]),[J,Z]=Ie.useState(""),[tt,ht]=Ie.useState(!1),[yt,gt]=Ie.useState(""),[kt,ee]=Ie.useState(""),[Dt,C]=Ie.useState(""),[b,I]=Ie.useState("");Ie.useEffect(()=>Ew(Ol,st=>{t(st),st&&sD(st).catch(bt=>Z(bt.message)),s(!1)}),[]),Ie.useEffect(()=>{if(!r){c([]),p("");return}const st=hD(r.uid,bt=>{c(bt),p(j=>j&&bt.some(W=>W.id===j)?j:bt[0]?.id??"")},bt=>Z(bt.message));return()=>st()},[r]),Ie.useEffect(()=>{if(!d){y([]),S("");return}const st=fD(d,bt=>{y(bt),S(j=>j&&bt.some(W=>W.id===j)?j:bt[0]?.id??"")},bt=>Z(bt.message));return()=>st()},[d]),Ie.useEffect(()=>{if(!T){G([]);return}const st=dD(T,bt=>G(bt),bt=>Z(bt.message));return()=>st()},[T]);const M=Ie.useMemo(()=>l.find(st=>st.id===d)??null,[l,d]),N=Ie.useMemo(()=>v.find(st=>st.id===T)??null,[v,T]),L=D.filter(st=>st.completed).length;async function w(st){Z(""),ht(!0);try{await st()}catch(bt){Z(bt.message||"Errore inatteso")}finally{ht(!1)}}return i?_t.jsx("div",{className:"center",children:"Caricamento..."}):r?_t.jsxs("main",{className:"layout",children:[_t.jsxs("header",{className:"topbar",children:[_t.jsxs("div",{children:[_t.jsx("h1",{children:"Shared Lists"}),_t.jsxs("p",{children:[r.displayName," | ",r.email]})]}),_t.jsx("button",{className:"ghost",onClick:()=>rD(),children:"Logout"})]}),_t.jsxs("section",{className:"panel",children:[_t.jsx("h2",{children:"Spazi condivisi (cartelle)"}),_t.jsxs("div",{className:"row",children:[_t.jsx("input",{value:yt,onChange:st=>gt(st.target.value),placeholder:"Es. Casa con Luca"}),_t.jsx("button",{disabled:tt||!yt.trim(),onClick:()=>w(async()=>{await aD(r,yt),gt("")}),children:"Crea spazio"})]}),_t.jsx("div",{className:"chips",children:l.map(st=>_t.jsx("button",{className:st.id===d?"chip active":"chip",onClick:()=>p(st.id),children:st.name},st.id))})]}),M?_t.jsxs("section",{className:"panel",children:[_t.jsxs("h2",{children:["Condividi spazio: ",M.name]}),_t.jsxs("div",{className:"row",children:[_t.jsx("input",{value:kt,onChange:st=>ee(st.target.value),placeholder:"email utente da invitare",type:"email"}),_t.jsx("button",{disabled:tt||!kt.trim(),onClick:()=>w(async()=>{await oD(M.id,kt),ee("")}),children:"Invita"})]}),_t.jsx("p",{className:"hint",children:"Nota: l'utente invitato deve aver fatto almeno un login all'app."})]}):null,M?_t.jsxs("section",{className:"panel",children:[_t.jsx("h2",{children:"Liste nello spazio"}),_t.jsxs("div",{className:"row",children:[_t.jsx("input",{value:Dt,onChange:st=>C(st.target.value),placeholder:"Es. Lista spesa"}),_t.jsx("button",{disabled:tt||!Dt.trim(),onClick:()=>w(async()=>{await lD(r,M.id,Dt),C("")}),children:"Nuova lista"})]}),_t.jsx("div",{className:"chips",children:v.map(st=>_t.jsx("button",{className:st.id===T?"chip active":"chip",onClick:()=>S(st.id),children:st.name},st.id))})]}):null,N?_t.jsxs("section",{className:"panel",children:[_t.jsxs("h2",{children:[N.name," (",L,"/",D.length,")"]}),_t.jsxs("div",{className:"row",children:[_t.jsx("input",{value:b,onChange:st=>I(st.target.value),placeholder:"Aggiungi elemento"}),_t.jsx("button",{disabled:tt||!b.trim(),onClick:()=>w(async()=>{await uD(r,N.id,b),I("")}),children:"Aggiungi"})]}),_t.jsx("ul",{className:"items",children:D.map(st=>_t.jsx("li",{children:_t.jsxs("label",{children:[_t.jsx("input",{type:"checkbox",checked:!!st.completed,onChange:bt=>w(()=>cD(N.id,st.id,bt.target.checked))}),_t.jsx("span",{className:st.completed?"done":"",children:st.text})]})},st.id))})]}):null,J?_t.jsx("p",{className:"error",children:J}):null]}):_t.jsxs("main",{className:"auth",children:[_t.jsx("h1",{children:"Shared Lists"}),_t.jsx("p",{children:"Liste condivise in tempo reale, installabili su iPhone come web app."}),_t.jsx("button",{onClick:()=>w(()=>iD()),disabled:tt,children:"Entra con Google"}),J?_t.jsx("p",{className:"error",children:J}):null]})}XS.createRoot(document.getElementById("root")).render(_t.jsx(jS.StrictMode,{children:_t.jsx(mD,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").catch(()=>{})});
