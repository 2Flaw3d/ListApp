(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function db(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var sm={exports:{}},Fl={};var Lv;function mb(){if(Lv)return Fl;Lv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Fl.Fragment=t,Fl.jsx=n,Fl.jsxs=n,Fl}var Uv;function pb(){return Uv||(Uv=1,sm.exports=mb()),sm.exports}var U=pb(),rm={exports:{}},It={};var Pv;function gb(){if(Pv)return It;Pv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),C=Symbol.iterator;function F(M){return M===null||typeof M!="object"?null:(M=C&&M[C]||M["@@iterator"],typeof M=="function"?M:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,W={};function rt(M,X,it){this.props=M,this.context=X,this.refs=W,this.updater=it||Z}rt.prototype.isReactComponent={},rt.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},rt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function dt(){}dt.prototype=rt.prototype;function Tt(M,X,it){this.props=M,this.context=X,this.refs=W,this.updater=it||Z}var Ht=Tt.prototype=new dt;Ht.constructor=Tt,tt(Ht,rt.prototype),Ht.isPureReactComponent=!0;var Mt=Array.isArray;function mt(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(M,X,it){var at=it.ref;return{$$typeof:s,type:M,key:X,ref:at!==void 0?at:null,props:it}}function V(M,X){return I(M.type,X,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function x(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(it){return X[it]})}var b=/\/+/g;function Yt(M,X){return typeof M=="object"&&M!==null&&M.key!=null?x(""+M.key):X.toString(36)}function Re(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(mt,mt):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,X,it,at,_t){var Rt=typeof M;(Rt==="undefined"||Rt==="boolean")&&(M=null);var kt=!1;if(M===null)kt=!0;else switch(Rt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(M.$$typeof){case s:case t:kt=!0;break;case T:return kt=M._init,G(kt(M._payload),X,it,at,_t)}}if(kt)return _t=_t(M),kt=at===""?"."+Yt(M,0):at,Mt(_t)?(it="",kt!=null&&(it=kt.replace(b,"$&/")+"/"),G(_t,X,it,"",function(ni){return ni})):_t!=null&&(O(_t)&&(_t=V(_t,it+(_t.key==null||M&&M.key===_t.key?"":(""+_t.key).replace(b,"$&/")+"/")+kt)),X.push(_t)),1;kt=0;var Te=at===""?".":at+":";if(Mt(M))for(var te=0;te<M.length;te++)at=M[te],Rt=Te+Yt(at,te),kt+=G(at,X,it,Rt,_t);else if(te=F(M),typeof te=="function")for(M=te.call(M),te=0;!(at=M.next()).done;)at=at.value,Rt=Te+Yt(at,te++),kt+=G(at,X,it,Rt,_t);else if(Rt==="object"){if(typeof M.then=="function")return G(Re(M),X,it,at,_t);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return kt}function nt(M,X,it){if(M==null)return M;var at=[],_t=0;return G(M,at,"","",function(Rt){return X.call(it,Rt,_t++)}),at}function ft(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(it){(M._status===0||M._status===-1)&&(M._status=1,M._result=it)},function(it){(M._status===0||M._status===-1)&&(M._status=2,M._result=it)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var Ut=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Qt={map:nt,forEach:function(M,X,it){nt(M,function(){X.apply(this,arguments)},it)},count:function(M){var X=0;return nt(M,function(){X++}),X},toArray:function(M){return nt(M,function(X){return X})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return It.Activity=S,It.Children=Qt,It.Component=rt,It.Fragment=n,It.Profiler=o,It.PureComponent=Tt,It.StrictMode=r,It.Suspense=_,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,It.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},It.cache=function(M){return function(){return M.apply(null,arguments)}},It.cacheSignal=function(){return null},It.cloneElement=function(M,X,it){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var at=tt({},M.props),_t=M.key;if(X!=null)for(Rt in X.key!==void 0&&(_t=""+X.key),X)!w.call(X,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&X.ref===void 0||(at[Rt]=X[Rt]);var Rt=arguments.length-2;if(Rt===1)at.children=it;else if(1<Rt){for(var kt=Array(Rt),Te=0;Te<Rt;Te++)kt[Te]=arguments[Te+2];at.children=kt}return I(M.type,_t,at)},It.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},It.createElement=function(M,X,it){var at,_t={},Rt=null;if(X!=null)for(at in X.key!==void 0&&(Rt=""+X.key),X)w.call(X,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(_t[at]=X[at]);var kt=arguments.length-2;if(kt===1)_t.children=it;else if(1<kt){for(var Te=Array(kt),te=0;te<kt;te++)Te[te]=arguments[te+2];_t.children=Te}if(M&&M.defaultProps)for(at in kt=M.defaultProps,kt)_t[at]===void 0&&(_t[at]=kt[at]);return I(M,Rt,_t)},It.createRef=function(){return{current:null}},It.forwardRef=function(M){return{$$typeof:p,render:M}},It.isValidElement=O,It.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:ft}},It.memo=function(M,X){return{$$typeof:g,type:M,compare:X===void 0?null:X}},It.startTransition=function(M){var X=N.T,it={};N.T=it;try{var at=M(),_t=N.S;_t!==null&&_t(it,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(mt,Ut)}catch(Rt){Ut(Rt)}finally{X!==null&&it.types!==null&&(X.types=it.types),N.T=X}},It.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},It.use=function(M){return N.H.use(M)},It.useActionState=function(M,X,it){return N.H.useActionState(M,X,it)},It.useCallback=function(M,X){return N.H.useCallback(M,X)},It.useContext=function(M){return N.H.useContext(M)},It.useDebugValue=function(){},It.useDeferredValue=function(M,X){return N.H.useDeferredValue(M,X)},It.useEffect=function(M,X){return N.H.useEffect(M,X)},It.useEffectEvent=function(M){return N.H.useEffectEvent(M)},It.useId=function(){return N.H.useId()},It.useImperativeHandle=function(M,X,it){return N.H.useImperativeHandle(M,X,it)},It.useInsertionEffect=function(M,X){return N.H.useInsertionEffect(M,X)},It.useLayoutEffect=function(M,X){return N.H.useLayoutEffect(M,X)},It.useMemo=function(M,X){return N.H.useMemo(M,X)},It.useOptimistic=function(M,X){return N.H.useOptimistic(M,X)},It.useReducer=function(M,X,it){return N.H.useReducer(M,X,it)},It.useRef=function(M){return N.H.useRef(M)},It.useState=function(M){return N.H.useState(M)},It.useSyncExternalStore=function(M,X,it){return N.H.useSyncExternalStore(M,X,it)},It.useTransition=function(){return N.H.useTransition()},It.version="19.2.4",It}var zv;function rp(){return zv||(zv=1,rm.exports=gb()),rm.exports}var At=rp();const yb=db(At);var am={exports:{}},Gl={},om={exports:{}},lm={};var jv;function _b(){return jv||(jv=1,(function(s){function t(G,nt){var ft=G.length;G.push(nt);t:for(;0<ft;){var Ut=ft-1>>>1,Qt=G[Ut];if(0<o(Qt,nt))G[Ut]=nt,G[ft]=Qt,ft=Ut;else break t}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var nt=G[0],ft=G.pop();if(ft!==nt){G[0]=ft;t:for(var Ut=0,Qt=G.length,M=Qt>>>1;Ut<M;){var X=2*(Ut+1)-1,it=G[X],at=X+1,_t=G[at];if(0>o(it,ft))at<Qt&&0>o(_t,it)?(G[Ut]=_t,G[at]=ft,Ut=at):(G[Ut]=it,G[X]=ft,Ut=X);else if(at<Qt&&0>o(_t,ft))G[Ut]=_t,G[at]=ft,Ut=at;else break t}}return nt}function o(G,nt){var ft=G.sortIndex-nt.sortIndex;return ft!==0?ft:G.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();s.unstable_now=function(){return f.now()-p}}var _=[],g=[],T=1,S=null,C=3,F=!1,Z=!1,tt=!1,W=!1,rt=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,Tt=typeof setImmediate<"u"?setImmediate:null;function Ht(G){for(var nt=n(g);nt!==null;){if(nt.callback===null)r(g);else if(nt.startTime<=G)r(g),nt.sortIndex=nt.expirationTime,t(_,nt);else break;nt=n(g)}}function Mt(G){if(tt=!1,Ht(G),!Z)if(n(_)!==null)Z=!0,mt||(mt=!0,x());else{var nt=n(g);nt!==null&&Re(Mt,nt.startTime-G)}}var mt=!1,N=-1,w=5,I=-1;function V(){return W?!0:!(s.unstable_now()-I<w)}function O(){if(W=!1,mt){var G=s.unstable_now();I=G;var nt=!0;try{t:{Z=!1,tt&&(tt=!1,dt(N),N=-1),F=!0;var ft=C;try{e:{for(Ht(G),S=n(_);S!==null&&!(S.expirationTime>G&&V());){var Ut=S.callback;if(typeof Ut=="function"){S.callback=null,C=S.priorityLevel;var Qt=Ut(S.expirationTime<=G);if(G=s.unstable_now(),typeof Qt=="function"){S.callback=Qt,Ht(G),nt=!0;break e}S===n(_)&&r(_),Ht(G)}else r(_);S=n(_)}if(S!==null)nt=!0;else{var M=n(g);M!==null&&Re(Mt,M.startTime-G),nt=!1}}break t}finally{S=null,C=ft,F=!1}nt=void 0}}finally{nt?x():mt=!1}}}var x;if(typeof Tt=="function")x=function(){Tt(O)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,Yt=b.port2;b.port1.onmessage=O,x=function(){Yt.postMessage(null)}}else x=function(){rt(O,0)};function Re(G,nt){N=rt(function(){G(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return C},s.unstable_next=function(G){switch(C){case 1:case 2:case 3:var nt=3;break;default:nt=C}var ft=C;C=nt;try{return G()}finally{C=ft}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ft=C;C=G;try{return nt()}finally{C=ft}},s.unstable_scheduleCallback=function(G,nt,ft){var Ut=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Ut+ft:Ut):ft=Ut,G){case 1:var Qt=-1;break;case 2:Qt=250;break;case 5:Qt=1073741823;break;case 4:Qt=1e4;break;default:Qt=5e3}return Qt=ft+Qt,G={id:T++,callback:nt,priorityLevel:G,startTime:ft,expirationTime:Qt,sortIndex:-1},ft>Ut?(G.sortIndex=ft,t(g,G),n(_)===null&&G===n(g)&&(tt?(dt(N),N=-1):tt=!0,Re(Mt,ft-Ut))):(G.sortIndex=Qt,t(_,G),Z||F||(Z=!0,mt||(mt=!0,x()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var nt=C;return function(){var ft=C;C=nt;try{return G.apply(this,arguments)}finally{C=ft}}}})(lm)),lm}var Bv;function vb(){return Bv||(Bv=1,om.exports=_b()),om.exports}var um={exports:{}},on={};var qv;function Eb(){if(qv)return on;qv=1;var s=rp();function t(_){var g="https://react.dev/errors/"+_;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(_,g,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:_,containerInfo:g,implementation:T}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,g){if(_==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,on.createPortal=function(_,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(_,g,null,T)},on.flushSync=function(_){var g=f.T,T=r.p;try{if(f.T=null,r.p=2,_)return _()}finally{f.T=g,r.p=T,r.d.f()}},on.preconnect=function(_,g){typeof _=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(_,g))},on.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},on.preinit=function(_,g){if(typeof _=="string"&&g&&typeof g.as=="string"){var T=g.as,S=p(T,g.crossOrigin),C=typeof g.integrity=="string"?g.integrity:void 0,F=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?r.d.S(_,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:F}):T==="script"&&r.d.X(_,{crossOrigin:S,integrity:C,fetchPriority:F,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},on.preinitModule=function(_,g){if(typeof _=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=p(g.as,g.crossOrigin);r.d.M(_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(_)},on.preload=function(_,g){if(typeof _=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,S=p(T,g.crossOrigin);r.d.L(_,T,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},on.preloadModule=function(_,g){if(typeof _=="string")if(g){var T=p(g.as,g.crossOrigin);r.d.m(_,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(_)},on.requestFormReset=function(_){r.d.r(_)},on.unstable_batchedUpdates=function(_,g){return _(g)},on.useFormState=function(_,g,T){return f.H.useFormState(_,g,T)},on.useFormStatus=function(){return f.H.useHostTransitionStatus()},on.version="19.2.4",on}var Hv;function Tb(){if(Hv)return um.exports;Hv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),um.exports=Eb(),um.exports}var Fv;function Ab(){if(Fv)return Gl;Fv=1;var s=vb(),t=rp(),n=Tb();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function _(e){if(u(e)!==e)throw Error(r(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return _(h),e;if(d===l)return _(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,l=d;break}if(E===l){y=!0,l=h,a=d;break}E=E.sibling}if(!y){for(E=d.child;E;){if(E===a){y=!0,a=d,l=h;break}if(E===l){y=!0,l=d,a=h;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function T(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=T(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,C=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),rt=Symbol.for("react.profiler"),dt=Symbol.for("react.consumer"),Tt=Symbol.for("react.context"),Ht=Symbol.for("react.forward_ref"),Mt=Symbol.for("react.suspense"),mt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var b=Symbol.for("react.client.reference");function Yt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===b?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case rt:return"Profiler";case W:return"StrictMode";case Mt:return"Suspense";case mt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case Tt:return e.displayName||"Context";case dt:return(e._context.displayName||"Context")+".Consumer";case Ht:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return i=e.displayName||null,i!==null?i:Yt(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return Yt(e(i))}catch{}}return null}var Re=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Ut=[],Qt=-1;function M(e){return{current:e}}function X(e){0>Qt||(e.current=Ut[Qt],Ut[Qt]=null,Qt--)}function it(e,i){Qt++,Ut[Qt]=e.current,e.current=i}var at=M(null),_t=M(null),Rt=M(null),kt=M(null);function Te(e,i){switch(it(Rt,i),it(_t,e),it(at,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?rv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=rv(i),e=av(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(at),it(at,e)}function te(){X(at),X(_t),X(Rt)}function ni(e){e.memoizedState!==null&&it(kt,e);var i=at.current,a=av(i,e.type);i!==a&&(it(_t,e),it(at,a))}function es(e){_t.current===e&&(X(at),X(_t)),kt.current===e&&(X(kt),jl._currentValue=ft)}var ns,ii;function yn(e){if(ns===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ns=i&&i[1]||"",ii=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ns+e+ii}var Ls=!1;function is(e,i){if(!e||Ls)return"";Ls=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var j=H}Reflect.construct(e,[],$)}else{try{$.call()}catch(H){j=H}e.call($.prototype)}}else{try{throw Error()}catch(H){j=H}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],E=d[1];if(y&&E){var R=y.split(`
`),z=E.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===z.length)for(l=R.length-1,h=z.length-1;1<=l&&0<=h&&R[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==z[h]){var K=`
`+R[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=h);break}}}finally{Ls=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?yn(a):""}function Ti(e,i){switch(e.tag){case 26:case 27:case 5:return yn(e.type);case 16:return yn("Lazy");case 13:return e.child!==i&&i!==null?yn("Suspense Fallback"):yn("Suspense");case 19:return yn("SuspenseList");case 0:case 15:return is(e.type,!1);case 11:return is(e.type.render,!1);case 1:return is(e.type,!0);case 31:return yn("Activity");default:return""}}function ss(e){try{var i="",a=null;do i+=Ti(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var he=Object.prototype.hasOwnProperty,Ae=s.unstable_scheduleCallback,Cn=s.unstable_cancelCallback,Us=s.unstable_shouldYield,Ps=s.unstable_requestPaint,ee=s.unstable_now,Nt=s.unstable_getCurrentPriorityLevel,xr=s.unstable_ImmediatePriority,zs=s.unstable_UserBlockingPriority,Xe=s.unstable_NormalPriority,Oa=s.unstable_LowPriority,Ma=s.unstable_IdlePriority,Va=s.log,Ai=s.unstable_setDisableYieldValue,Nn=null,qe=null;function rn(e){if(typeof Va=="function"&&Ai(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Nn,e)}catch{}}var vt=Math.clz32?Math.clz32:fe,q=Math.log,ot=Math.LN2;function fe(e){return e>>>=0,e===0?32:31-(q(e)/ot|0)|0}var an=256,Lr=262144,Oe=4194304;function Si(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function wi(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=Si(l):(y&=E,y!==0?h=Si(y):a||(a=E&~e,a!==0&&(h=Si(a))))):(E=l&~d,E!==0?h=Si(E):y!==0?h=Si(y):a||(a=l&~e,a!==0&&(h=Si(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function si(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function lf(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ou(){var e=Oe;return Oe<<=1,(Oe&62914560)===0&&(Oe=4194304),e}function bi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Ur(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function uf(e,i,a,l,h,d){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(a=y&~a;0<a;){var K=31-vt(a),$=1<<K;E[K]=0,R[K]=-1;var j=z[K];if(j!==null)for(z[K]=null,K=0;K<j.length;K++){var H=j[K];H!==null&&(H.lane&=-536870913)}a&=~$}l!==0&&Pr(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~i))}function Pr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-vt(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Go(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-vt(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Ko(e,i){var a=i&-i;return a=(a&42)!==0?1:zr(a),(a&(e.suspendedLanes|i))!==0?0:a}function zr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function rs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Mu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:Nv(e.type))}function ri(e,i){var a=nt.p;try{return nt.p=e,i()}finally{nt.p=a}}var ai=Math.random().toString(36).slice(2),Me="__reactFiber$"+ai,Ge="__reactProps$"+ai,Ri="__reactContainer$"+ai,ka="__reactEvents$"+ai,cf="__reactListeners$"+ai,Vu="__reactHandles$"+ai,ku="__reactResources$"+ai,Ii="__reactMarker$"+ai;function xa(e){delete e[Me],delete e[Ge],delete e[ka],delete e[cf],delete e[Vu]}function Ci(e){var i=e[Me];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Ri]||a[Me]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=dv(e);e!==null;){if(a=e[Me])return a;e=dv(e)}return i}e=a,a=e.parentNode}return null}function jn(e){if(e=e[Me]||e[Ri]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Dn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function Ni(e){var i=e[ku];return i||(i=e[ku]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ve(e){e[Ii]=!0}var Qo=new Set,Yo={};function Di(e,i){Oi(e,i),Oi(e+"Capture",i)}function Oi(e,i){for(Yo[e]=i,e=0;e<i.length;e++)Qo.add(i[e])}var Xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$o={},Jo={};function xu(e){return he.call(Jo,e)?!0:he.call($o,e)?!1:Xo.test(e)?Jo[e]=!0:($o[e]=!0,!1)}function La(e,i,a){if(xu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function On(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function ke(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function js(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Zo(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ne(e){if(!e._valueTracker){var i=js(e)?"checked":"value";e._valueTracker=Zo(e,i,""+e[i])}}function jr(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=js(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Br=/[\n"\\]/g;function _n(e){return e.replace(Br,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ua(e,i,a,l,h,d,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),i!=null?y==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ke(i)):e.value!==""+Ke(i)&&(e.value=""+Ke(i)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),i!=null?Wo(e,y,Ke(i)):a!=null?Wo(e,y,Ke(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ke(E):e.removeAttribute("name")}function Lu(e,i,a,l,h,d,y,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){ne(e);return}a=a!=null?""+Ke(a):"",i=i!=null?""+Ke(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),ne(e)}function Wo(e,i,a){i==="number"&&Mi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Bs(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ke(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Uu(e,i,a){if(i!=null&&(i=""+Ke(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ke(a):""}function qs(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(Re(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ke(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),ne(e)}function vn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tl(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Pu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function el(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&tl(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&tl(e,d,i[d])}function Pa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function za(e){return Hs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function oi(){}var nl=null;function Bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fs=null,Vi=null;function qr(e){var i=jn(e);if(i&&(e=i.stateNode)){var a=e[Ge]||null;t:switch(e=i.stateNode,i.type){case"input":if(Ua(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_n(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Ge]||null;if(!h)throw Error(r(90));Ua(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&jr(l)}break t;case"textarea":Uu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Bs(e,!!a.multiple,i,!1)}}}var ja=!1;function Gs(e,i,a){if(ja)return e(i,a);ja=!0;try{var l=e(i);return l}finally{if(ja=!1,(Fs!==null||Vi!==null)&&(Mc(),Fs&&(i=Fs,e=Vi,Vi=Fs=null,qr(i),e)))for(i=0;i<e.length;i++)qr(e[i])}}function li(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Ge]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hr=!1;if(qn)try{var re={};Object.defineProperty(re,"passive",{get:function(){Hr=!0}}),window.addEventListener("test",re,re),window.removeEventListener("test",re,re)}catch{Hr=!1}var ki=null,il=null,Fr=null;function sl(){if(Fr)return Fr;var e,i=il,a=i.length,l,h="value"in ki?ki.value:ki.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var y=a-e;for(l=1;l<=y&&i[a-l]===h[d-l];l++);return Fr=h.slice(e,1<l?1-l:void 0)}function Gr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function as(){return!0}function ui(){return!1}function $e(e){function i(a,l,h,d,y){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?as:ui,this.isPropagationStopped=ui,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),i}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=$e(os),Ks=S({},os,{view:0,detail:0}),rl=$e(Ks),Qs,Ba,Li,qa=S({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ys,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Li&&(Li&&e.type==="mousemove"?(Qs=e.screenX-Li.screenX,Ba=e.screenY-Li.screenY):Ba=Qs=0,Li=e),Qs)},movementY:function(e){return"movementY"in e?e.movementY:Ba}}),al=$e(qa),Kr=S({},qa,{dataTransfer:0}),ju=$e(Kr),Bu=S({},Ks,{relatedTarget:0}),Qr=$e(Bu),ol=S({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),qu=$e(ol),Ha=S({},os,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hu=$e(Ha),Fu=S({},os,{data:0}),Ui=$e(Fu),Gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Qu[e])?!!i[e]:!1}function Ys(){return Yu}var mn=S({},Ks,{key:function(e){if(e.key){var i=Gu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Gr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ku[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ys,charCode:function(e){return e.type==="keypress"?Gr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xu=$e(mn),$u=S({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ls=$e($u),c=S({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ys}),m=$e(c),v=S({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=$e(v),L=S({},qa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=$e(L),et=S({},os,{newState:0,oldState:0}),Dt=$e(et),Ie=[9,13,27,32],Jt=qn&&"CompositionEvent"in window,ge=null;qn&&"documentMode"in document&&(ge=document.documentMode);var Hn=qn&&"TextEvent"in window&&!ge,Pi=qn&&(!Jt||ge&&8<ge&&11>=ge),ci=" ",hi=!1;function Yr(e,i){switch(e){case"keyup":return Ie.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ga=!1;function US(e,i){switch(e){case"compositionend":return Fa(i);case"keypress":return i.which!==32?null:(hi=!0,ci);case"textInput":return e=i.data,e===ci&&hi?null:e;default:return null}}function PS(e,i){if(Ga)return e==="compositionend"||!Jt&&Yr(e,i)?(e=sl(),Fr=il=ki=null,Ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Pi&&i.locale!=="ko"?null:i.data;default:return null}}var zS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!zS[e.type]:i==="textarea"}function yg(e,i,a,l){Fs?Vi?Vi.push(l):Vi=[l]:Fs=l,i=zc(i,"onChange"),0<i.length&&(a=new xi("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var ll=null,ul=null;function jS(e){W_(e,0)}function Ju(e){var i=Dn(e);if(jr(i))return e}function _g(e,i){if(e==="change")return i}var vg=!1;if(qn){var hf;if(qn){var ff="oninput"in document;if(!ff){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),ff=typeof Eg.oninput=="function"}hf=ff}else hf=!1;vg=hf&&(!document.documentMode||9<document.documentMode)}function Tg(){ll&&(ll.detachEvent("onpropertychange",Ag),ul=ll=null)}function Ag(e){if(e.propertyName==="value"&&Ju(ul)){var i=[];yg(i,ul,e,Bn(e)),Gs(jS,i)}}function BS(e,i,a){e==="focusin"?(Tg(),ll=i,ul=a,ll.attachEvent("onpropertychange",Ag)):e==="focusout"&&Tg()}function qS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ju(ul)}function HS(e,i){if(e==="click")return Ju(i)}function FS(e,i){if(e==="input"||e==="change")return Ju(i)}function GS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Mn=typeof Object.is=="function"?Object.is:GS;function cl(e,i){if(Mn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!he.call(i,h)||!Mn(e[h],i[h]))return!1}return!0}function Sg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wg(e,i){var a=Sg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Sg(a)}}function bg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?bg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Rg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Mi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Mi(e.document)}return i}function df(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var KS=qn&&"documentMode"in document&&11>=document.documentMode,Ka=null,mf=null,hl=null,pf=!1;function Ig(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pf||Ka==null||Ka!==Mi(l)||(l=Ka,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hl&&cl(hl,l)||(hl=l,l=zc(mf,"onSelect"),0<l.length&&(i=new xi("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Ka)))}function Xr(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Qa={animationend:Xr("Animation","AnimationEnd"),animationiteration:Xr("Animation","AnimationIteration"),animationstart:Xr("Animation","AnimationStart"),transitionrun:Xr("Transition","TransitionRun"),transitionstart:Xr("Transition","TransitionStart"),transitioncancel:Xr("Transition","TransitionCancel"),transitionend:Xr("Transition","TransitionEnd")},gf={},Cg={};qn&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function $r(e){if(gf[e])return gf[e];if(!Qa[e])return e;var i=Qa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Cg)return gf[e]=i[a];return e}var Ng=$r("animationend"),Dg=$r("animationiteration"),Og=$r("animationstart"),QS=$r("transitionrun"),YS=$r("transitionstart"),XS=$r("transitioncancel"),Mg=$r("transitionend"),Vg=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function fi(e,i){Vg.set(e,i),Di(i,[e])}var Zu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Fn=[],Ya=0,_f=0;function Wu(){for(var e=Ya,i=_f=Ya=0;i<e;){var a=Fn[i];Fn[i++]=null;var l=Fn[i];Fn[i++]=null;var h=Fn[i];Fn[i++]=null;var d=Fn[i];if(Fn[i++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}d!==0&&kg(a,h,d)}}function tc(e,i,a,l){Fn[Ya++]=e,Fn[Ya++]=i,Fn[Ya++]=a,Fn[Ya++]=l,_f|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function vf(e,i,a,l){return tc(e,i,a,l),ec(e)}function Jr(e,i){return tc(e,null,null,i),ec(e)}function kg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-vt(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function ec(e){if(50<Vl)throw Vl=0,Cd=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Xa={};function $S(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(e,i,a,l){return new $S(e,i,a,l)}function Ef(e){return e=e.prototype,!(!e||!e.isReactComponent)}function us(e,i){var a=e.alternate;return a===null?(a=Vn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function xg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function nc(e,i,a,l,h,d){var y=0;if(l=e,typeof e=="function")Ef(e)&&(y=1);else if(typeof e=="string")y=eb(e,a,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Vn(31,a,i,h),e.elementType=I,e.lanes=d,e;case tt:return Zr(a.children,h,d,i);case W:y=8,h|=24;break;case rt:return e=Vn(12,a,i,h|2),e.elementType=rt,e.lanes=d,e;case Mt:return e=Vn(13,a,i,h),e.elementType=Mt,e.lanes=d,e;case mt:return e=Vn(19,a,i,h),e.elementType=mt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tt:y=10;break t;case dt:y=9;break t;case Ht:y=11;break t;case N:y=14;break t;case w:y=16,l=null;break t}y=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=Vn(y,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Zr(e,i,a,l){return e=Vn(7,e,l,i),e.lanes=a,e}function Tf(e,i,a){return e=Vn(6,e,null,i),e.lanes=a,e}function Lg(e){var i=Vn(18,null,null,0);return i.stateNode=e,i}function Af(e,i,a){return i=Vn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Ug=new WeakMap;function Gn(e,i){if(typeof e=="object"&&e!==null){var a=Ug.get(e);return a!==void 0?a:(i={value:e,source:i,stack:ss(i)},Ug.set(e,i),i)}return{value:e,source:i,stack:ss(i)}}var $a=[],Ja=0,ic=null,fl=0,Kn=[],Qn=0,Xs=null,zi=1,ji="";function cs(e,i){$a[Ja++]=fl,$a[Ja++]=ic,ic=e,fl=i}function Pg(e,i,a){Kn[Qn++]=zi,Kn[Qn++]=ji,Kn[Qn++]=Xs,Xs=e;var l=zi;e=ji;var h=32-vt(l)-1;l&=~(1<<h),a+=1;var d=32-vt(i)+h;if(30<d){var y=h-h%5;d=(l&(1<<y)-1).toString(32),l>>=y,h-=y,zi=1<<32-vt(i)+h|a<<h|l,ji=d+e}else zi=1<<d|a<<h|l,ji=e}function Sf(e){e.return!==null&&(cs(e,1),Pg(e,1,0))}function wf(e){for(;e===ic;)ic=$a[--Ja],$a[Ja]=null,fl=$a[--Ja],$a[Ja]=null;for(;e===Xs;)Xs=Kn[--Qn],Kn[Qn]=null,ji=Kn[--Qn],Kn[Qn]=null,zi=Kn[--Qn],Kn[Qn]=null}function zg(e,i){Kn[Qn++]=zi,Kn[Qn++]=ji,Kn[Qn++]=Xs,zi=i.id,ji=i.overflow,Xs=e}var Je=null,de=null,Ft=!1,$s=null,Yn=!1,bf=Error(r(519));function Js(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(Gn(i,e)),bf}function jg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Me]=e,i[Ge]=l,a){case"dialog":Lt("cancel",i),Lt("close",i);break;case"iframe":case"object":case"embed":Lt("load",i);break;case"video":case"audio":for(a=0;a<xl.length;a++)Lt(xl[a],i);break;case"source":Lt("error",i);break;case"img":case"image":case"link":Lt("error",i),Lt("load",i);break;case"details":Lt("toggle",i);break;case"input":Lt("invalid",i),Lu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Lt("invalid",i);break;case"textarea":Lt("invalid",i),qs(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||iv(i.textContent,a)?(l.popover!=null&&(Lt("beforetoggle",i),Lt("toggle",i)),l.onScroll!=null&&Lt("scroll",i),l.onScrollEnd!=null&&Lt("scrollend",i),l.onClick!=null&&(i.onclick=oi),i=!0):i=!1,i||Js(e,!0)}function Bg(e){for(Je=e.return;Je;)switch(Je.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Je=Je.return}}function Za(e){if(e!==Je)return!1;if(!Ft)return Bg(e),Ft=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Hd(e.type,e.memoizedProps)),a=!a),a&&de&&Js(e),Bg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));de=fv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));de=fv(e)}else i===27?(i=de,hr(e.type)?(e=Yd,Yd=null,de=e):de=i):de=Je?$n(e.stateNode.nextSibling):null;return!0}function Wr(){de=Je=null,Ft=!1}function Rf(){var e=$s;return e!==null&&(Sn===null?Sn=e:Sn.push.apply(Sn,e),$s=null),e}function dl(e){$s===null?$s=[e]:$s.push(e)}var If=M(null),ta=null,hs=null;function Zs(e,i,a){it(If,i._currentValue),i._currentValue=a}function fs(e){e._currentValue=If.current,X(If)}function Cf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Nf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var R=0;R<i.length;R++)if(E.context===i[R]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Cf(d.return,a,e),l||(y=null);break t}d=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),Cf(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Wa(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=h.type;Mn(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===kt.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(jl):e=[jl])}h=h.return}e!==null&&Nf(i,e,a,l),i.flags|=262144}function sc(e){for(e=e.firstContext;e!==null;){if(!Mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ea(e){ta=e,hs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ze(e){return qg(ta,e)}function rc(e,i){return ta===null&&ea(e),qg(e,i)}function qg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},hs===null){if(e===null)throw Error(r(308));hs=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else hs=hs.next=i;return a}var JS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},ZS=s.unstable_scheduleCallback,WS=s.unstable_NormalPriority,xe={$$typeof:Tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new JS,data:new Map,refCount:0}}function ml(e){e.refCount--,e.refCount===0&&ZS(WS,function(){e.controller.abort()})}var pl=null,Of=0,to=0,eo=null;function tw(e,i){if(pl===null){var a=pl=[];Of=0,to=kd(),eo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Of++,i.then(Hg,Hg),i}function Hg(){if(--Of===0&&pl!==null){eo!==null&&(eo.status="fulfilled");var e=pl;pl=null,to=0,eo=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function ew(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Fg=G.S;G.S=function(e,i){I_=ee(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&tw(e,i),Fg!==null&&Fg(e,i)};var na=M(null);function Mf(){var e=na.current;return e!==null?e:ue.pooledCache}function ac(e,i){i===null?it(na,na.current):it(na,i.pool)}function Gg(){var e=Mf();return e===null?null:{parent:xe._currentValue,pool:e}}var no=Error(r(460)),Vf=Error(r(474)),oc=Error(r(542)),lc={then:function(){}};function Kg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(oi,oi),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Xg(e),e;default:if(typeof i.status=="string")i.then(oi,oi);else{if(e=ue,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Xg(e),e}throw sa=i,no}}function ia(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(sa=a,no):a}}var sa=null;function Yg(){if(sa===null)throw Error(r(459));var e=sa;return sa=null,e}function Xg(e){if(e===no||e===oc)throw Error(r(483))}var io=null,gl=0;function uc(e){var i=gl;return gl+=1,io===null&&(io=[]),Qg(io,e,i)}function yl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function cc(e,i){throw i.$$typeof===C?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function $g(e){function i(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function a(k,D){if(!e)return null;for(;D!==null;)i(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=us(k,D),k.index=0,k.sibling=null,k}function d(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function y(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,Y){return D===null||D.tag!==6?(D=Tf(P,k.mode,Y),D.return=k,D):(D=h(D,P),D.return=k,D)}function R(k,D,P,Y){var pt=P.type;return pt===tt?K(k,D,P.props.children,Y,P.key):D!==null&&(D.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&ia(pt)===D.type)?(D=h(D,P.props),yl(D,P),D.return=k,D):(D=nc(P.type,P.key,P.props,null,k.mode,Y),yl(D,P),D.return=k,D)}function z(k,D,P,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Af(P,k.mode,Y),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function K(k,D,P,Y,pt){return D===null||D.tag!==7?(D=Zr(P,k.mode,Y,pt),D.return=k,D):(D=h(D,P),D.return=k,D)}function $(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Tf(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return P=nc(D.type,D.key,D.props,null,k.mode,P),yl(P,D),P.return=k,P;case Z:return D=Af(D,k.mode,P),D.return=k,D;case w:return D=ia(D),$(k,D,P)}if(Re(D)||x(D))return D=Zr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return $(k,uc(D),P);if(D.$$typeof===Tt)return $(k,rc(k,D),P);cc(k,D)}return null}function j(k,D,P,Y){var pt=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return pt!==null?null:E(k,D,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===pt?R(k,D,P,Y):null;case Z:return P.key===pt?z(k,D,P,Y):null;case w:return P=ia(P),j(k,D,P,Y)}if(Re(P)||x(P))return pt!==null?null:K(k,D,P,Y,null);if(typeof P.then=="function")return j(k,D,uc(P),Y);if(P.$$typeof===Tt)return j(k,D,rc(k,P),Y);cc(k,P)}return null}function H(k,D,P,Y,pt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,E(D,k,""+Y,pt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case F:return k=k.get(Y.key===null?P:Y.key)||null,R(D,k,Y,pt);case Z:return k=k.get(Y.key===null?P:Y.key)||null,z(D,k,Y,pt);case w:return Y=ia(Y),H(k,D,P,Y,pt)}if(Re(Y)||x(Y))return k=k.get(P)||null,K(D,k,Y,pt,null);if(typeof Y.then=="function")return H(k,D,P,uc(Y),pt);if(Y.$$typeof===Tt)return H(k,D,P,rc(D,Y),pt);cc(D,Y)}return null}function ut(k,D,P,Y){for(var pt=null,Xt=null,ht=D,Vt=D=0,zt=null;ht!==null&&Vt<P.length;Vt++){ht.index>Vt?(zt=ht,ht=null):zt=ht.sibling;var $t=j(k,ht,P[Vt],Y);if($t===null){ht===null&&(ht=zt);break}e&&ht&&$t.alternate===null&&i(k,ht),D=d($t,D,Vt),Xt===null?pt=$t:Xt.sibling=$t,Xt=$t,ht=zt}if(Vt===P.length)return a(k,ht),Ft&&cs(k,Vt),pt;if(ht===null){for(;Vt<P.length;Vt++)ht=$(k,P[Vt],Y),ht!==null&&(D=d(ht,D,Vt),Xt===null?pt=ht:Xt.sibling=ht,Xt=ht);return Ft&&cs(k,Vt),pt}for(ht=l(ht);Vt<P.length;Vt++)zt=H(ht,k,Vt,P[Vt],Y),zt!==null&&(e&&zt.alternate!==null&&ht.delete(zt.key===null?Vt:zt.key),D=d(zt,D,Vt),Xt===null?pt=zt:Xt.sibling=zt,Xt=zt);return e&&ht.forEach(function(gr){return i(k,gr)}),Ft&&cs(k,Vt),pt}function yt(k,D,P,Y){if(P==null)throw Error(r(151));for(var pt=null,Xt=null,ht=D,Vt=D=0,zt=null,$t=P.next();ht!==null&&!$t.done;Vt++,$t=P.next()){ht.index>Vt?(zt=ht,ht=null):zt=ht.sibling;var gr=j(k,ht,$t.value,Y);if(gr===null){ht===null&&(ht=zt);break}e&&ht&&gr.alternate===null&&i(k,ht),D=d(gr,D,Vt),Xt===null?pt=gr:Xt.sibling=gr,Xt=gr,ht=zt}if($t.done)return a(k,ht),Ft&&cs(k,Vt),pt;if(ht===null){for(;!$t.done;Vt++,$t=P.next())$t=$(k,$t.value,Y),$t!==null&&(D=d($t,D,Vt),Xt===null?pt=$t:Xt.sibling=$t,Xt=$t);return Ft&&cs(k,Vt),pt}for(ht=l(ht);!$t.done;Vt++,$t=P.next())$t=H(ht,k,Vt,$t.value,Y),$t!==null&&(e&&$t.alternate!==null&&ht.delete($t.key===null?Vt:$t.key),D=d($t,D,Vt),Xt===null?pt=$t:Xt.sibling=$t,Xt=$t);return e&&ht.forEach(function(fb){return i(k,fb)}),Ft&&cs(k,Vt),pt}function le(k,D,P,Y){if(typeof P=="object"&&P!==null&&P.type===tt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var pt=P.key;D!==null;){if(D.key===pt){if(pt=P.type,pt===tt){if(D.tag===7){a(k,D.sibling),Y=h(D,P.props.children),Y.return=k,k=Y;break t}}else if(D.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&ia(pt)===D.type){a(k,D.sibling),Y=h(D,P.props),yl(Y,P),Y.return=k,k=Y;break t}a(k,D);break}else i(k,D);D=D.sibling}P.type===tt?(Y=Zr(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=nc(P.type,P.key,P.props,null,k.mode,Y),yl(Y,P),Y.return=k,k=Y)}return y(k);case Z:t:{for(pt=P.key;D!==null;){if(D.key===pt)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(k,D.sibling),Y=h(D,P.children||[]),Y.return=k,k=Y;break t}else{a(k,D);break}else i(k,D);D=D.sibling}Y=Af(P,k.mode,Y),Y.return=k,k=Y}return y(k);case w:return P=ia(P),le(k,D,P,Y)}if(Re(P))return ut(k,D,P,Y);if(x(P)){if(pt=x(P),typeof pt!="function")throw Error(r(150));return P=pt.call(P),yt(k,D,P,Y)}if(typeof P.then=="function")return le(k,D,uc(P),Y);if(P.$$typeof===Tt)return le(k,D,rc(k,P),Y);cc(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(k,D.sibling),Y=h(D,P),Y.return=k,k=Y):(a(k,D),Y=Tf(P,k.mode,Y),Y.return=k,k=Y),y(k)):a(k,D)}return function(k,D,P,Y){try{gl=0;var pt=le(k,D,P,Y);return io=null,pt}catch(ht){if(ht===no||ht===oc)throw ht;var Xt=Vn(29,ht,null,k.mode);return Xt.lanes=Y,Xt.return=k,Xt}}}var ra=$g(!0),Jg=$g(!1),Ws=!1;function kf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function tr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function er(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Zt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ec(e),kg(e,null,a),i}return tc(e,l,i,a),ec(e)}function _l(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Go(e,a)}}function Lf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Uf=!1;function vl(){if(Uf){var e=eo;if(e!==null)throw e}}function El(e,i,a,l){Uf=!1;var h=e.updateQueue;Ws=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,y===null?d=z:y.next=z,y=R;var K=e.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==y&&(E===null?K.firstBaseUpdate=z:E.next=z,K.lastBaseUpdate=R))}if(d!==null){var $=h.baseState;y=0,K=z=R=null,E=d;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Pt&j)===j:(l&j)===j){j!==0&&j===to&&(Uf=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ut=e,yt=E;j=i;var le=a;switch(yt.tag){case 1:if(ut=yt.payload,typeof ut=="function"){$=ut.call(le,$,j);break t}$=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=yt.payload,j=typeof ut=="function"?ut.call(le,$,j):ut,j==null)break t;$=S({},$,j);break t;case 2:Ws=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(z=K=H,R=$):K=K.next=H,y|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(R=$),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),ar|=y,e.lanes=y,e.memoizedState=$}}function Zg(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Wg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Zg(a[e],i)}var so=M(null),hc=M(0);function ty(e,i){e=Ts,it(hc,e),it(so,i),Ts=e|i.baseLanes}function Pf(){it(hc,Ts),it(so,so.current)}function zf(){Ts=hc.current,X(so),X(hc)}var kn=M(null),Xn=null;function nr(e){var i=e.alternate;it(Ce,Ce.current&1),it(kn,e),Xn===null&&(i===null||so.current!==null||i.memoizedState!==null)&&(Xn=e)}function jf(e){it(Ce,Ce.current),it(kn,e),Xn===null&&(Xn=e)}function ey(e){e.tag===22?(it(Ce,Ce.current),it(kn,e),Xn===null&&(Xn=e)):ir()}function ir(){it(Ce,Ce.current),it(kn,kn.current)}function xn(e){X(kn),Xn===e&&(Xn=null),X(Ce)}var Ce=M(0);function fc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Kd(a)||Qd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ds=0,Ot=null,ae=null,Le=null,dc=!1,ro=!1,aa=!1,mc=0,Tl=0,ao=null,nw=0;function Se(){throw Error(r(321))}function Bf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Mn(e[a],i[a]))return!1;return!0}function qf(e,i,a,l,h,d){return ds=d,Ot=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=e===null||e.memoizedState===null?Py:id,aa=!1,d=a(l,h),aa=!1,ro&&(d=iy(i,a,l,h)),ny(e),d}function ny(e){G.H=wl;var i=ae!==null&&ae.next!==null;if(ds=0,Le=ae=Ot=null,dc=!1,Tl=0,ao=null,i)throw Error(r(300));e===null||Ue||(e=e.dependencies,e!==null&&sc(e)&&(Ue=!0))}function iy(e,i,a,l){Ot=e;var h=0;do{if(ro&&(ao=null),Tl=0,ro=!1,25<=h)throw Error(r(301));if(h+=1,Le=ae=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=zy,d=i(a,l)}while(ro);return d}function iw(){var e=G.H,i=e.useState()[0];return i=typeof i.then=="function"?Al(i):i,e=e.useState()[0],(ae!==null?ae.memoizedState:null)!==e&&(Ot.flags|=1024),i}function Hf(){var e=mc!==0;return mc=0,e}function Ff(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Gf(e){if(dc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}dc=!1}ds=0,Le=ae=Ot=null,ro=!1,Tl=mc=0,ao=null}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?Ot.memoizedState=Le=e:Le=Le.next=e,Le}function Ne(){if(ae===null){var e=Ot.alternate;e=e!==null?e.memoizedState:null}else e=ae.next;var i=Le===null?Ot.memoizedState:Le.next;if(i!==null)Le=i,ae=e;else{if(e===null)throw Ot.alternate===null?Error(r(467)):Error(r(310));ae=e,e={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},Le===null?Ot.memoizedState=Le=e:Le=Le.next=e}return Le}function pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(e){var i=Tl;return Tl+=1,ao===null&&(ao=[]),e=Qg(ao,e,i),i=Ot,(Le===null?i.memoizedState:Le.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?Py:id),e}function gc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Al(e);if(e.$$typeof===Tt)return Ze(e)}throw Error(r(438,String(e)))}function Kf(e){var i=null,a=Ot.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ot.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=pc(),Ot.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=V;return i.index++,a}function ms(e,i){return typeof i=="function"?i(e):i}function yc(e){var i=Ne();return Qf(i,ae,e)}function Qf(e,i,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=y=null,R=null,z=i,K=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Pt&$)===$:(ds&$)===$){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===to&&(K=!0);else if((ds&j)===j){z=z.next,j===to&&(K=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=$,y=d):R=R.next=$,Ot.lanes|=j,ar|=j;$=z.action,aa&&a(d,$),d=z.hasEagerState?z.eagerState:a(d,$)}else j={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,y=d):R=R.next=j,Ot.lanes|=$,ar|=$;z=z.next}while(z!==null&&z!==i);if(R===null?y=d:R.next=E,!Mn(d,e.memoizedState)&&(Ue=!0,K&&(a=eo,a!==null)))throw a;e.memoizedState=d,e.baseState=y,e.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Yf(e){var i=Ne(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do d=e(d,y.action),y=y.next;while(y!==h);Mn(d,i.memoizedState)||(Ue=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function sy(e,i,a){var l=Ot,h=Ne(),d=Ft;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var y=!Mn((ae||h).memoizedState,a);if(y&&(h.memoizedState=a,Ue=!0),h=h.queue,Jf(oy.bind(null,l,h,e),[e]),h.getSnapshot!==i||y||Le!==null&&Le.memoizedState.tag&1){if(l.flags|=2048,oo(9,{destroy:void 0},ay.bind(null,l,h,a,i),null),ue===null)throw Error(r(349));d||(ds&127)!==0||ry(l,i,a)}return a}function ry(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Ot.updateQueue,i===null?(i=pc(),Ot.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function ay(e,i,a,l){i.value=a,i.getSnapshot=l,ly(i)&&uy(e)}function oy(e,i,a){return a(function(){ly(i)&&uy(e)})}function ly(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Mn(e,a)}catch{return!0}}function uy(e){var i=Jr(e,2);i!==null&&wn(i,e,2)}function Xf(e){var i=pn();if(typeof e=="function"){var a=e;if(e=a(),aa){rn(!0);try{a()}finally{rn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:e},i}function cy(e,i,a,l){return e.baseState=a,Qf(e,ae,typeof l=="function"?l:ms)}function sw(e,i,a,l,h){if(Ec(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,hy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function hy(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=G.T,y={};G.T=y;try{var E=a(h,l),R=G.S;R!==null&&R(y,E),fy(e,i,E)}catch(z){$f(e,i,z)}finally{d!==null&&y.types!==null&&(d.types=y.types),G.T=d}}else try{d=a(h,l),fy(e,i,d)}catch(z){$f(e,i,z)}}function fy(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){dy(e,i,l)},function(l){return $f(e,i,l)}):dy(e,i,a)}function dy(e,i,a){i.status="fulfilled",i.value=a,my(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,hy(e,a)))}function $f(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,my(i),i=i.next;while(i!==l)}e.action=null}function my(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function py(e,i){return i}function gy(e,i){if(Ft){var a=ue.formState;if(a!==null){t:{var l=Ot;if(Ft){if(de){e:{for(var h=de,d=Yn;h.nodeType!==8;){if(!d){h=null;break e}if(h=$n(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){de=$n(h.nextSibling),l=h.data==="F!";break t}}Js(l)}l=!1}l&&(i=a[0])}}return a=pn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:py,lastRenderedState:i},a.queue=l,a=xy.bind(null,Ot,l),l.dispatch=a,l=Xf(!1),d=nd.bind(null,Ot,!1,l.queue),l=pn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=sw.bind(null,Ot,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function yy(e){var i=Ne();return _y(i,ae,e)}function _y(e,i,a){if(i=Qf(e,i,py)[0],e=yc(ms)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Al(i)}catch(y){throw y===no?oc:y}else l=i;i=Ne();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ot.flags|=2048,oo(9,{destroy:void 0},rw.bind(null,h,a),null)),[l,d,e]}function rw(e,i){e.action=i}function vy(e){var i=Ne(),a=ae;if(a!==null)return _y(i,a,e);Ne(),i=i.memoizedState,a=Ne();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function oo(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Ot.updateQueue,i===null&&(i=pc(),Ot.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Ey(){return Ne().memoizedState}function _c(e,i,a,l){var h=pn();Ot.flags|=e,h.memoizedState=oo(1|i,{destroy:void 0},a,l===void 0?null:l)}function vc(e,i,a,l){var h=Ne();l=l===void 0?null:l;var d=h.memoizedState.inst;ae!==null&&l!==null&&Bf(l,ae.memoizedState.deps)?h.memoizedState=oo(i,d,a,l):(Ot.flags|=e,h.memoizedState=oo(1|i,d,a,l))}function Ty(e,i){_c(8390656,8,e,i)}function Jf(e,i){vc(2048,8,e,i)}function aw(e){Ot.flags|=4;var i=Ot.updateQueue;if(i===null)i=pc(),Ot.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Ay(e){var i=Ne().memoizedState;return aw({ref:i,nextImpl:e}),function(){if((Zt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Sy(e,i){return vc(4,2,e,i)}function wy(e,i){return vc(4,4,e,i)}function by(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Ry(e,i,a){a=a!=null?a.concat([e]):null,vc(4,4,by.bind(null,i,e),a)}function Zf(){}function Iy(e,i){var a=Ne();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Bf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Cy(e,i){var a=Ne();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Bf(i,l[1]))return l[0];if(l=e(),aa){rn(!0);try{e()}finally{rn(!1)}}return a.memoizedState=[l,i],l}function Wf(e,i,a){return a===void 0||(ds&1073741824)!==0&&(Pt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=N_(),Ot.lanes|=e,ar|=e,a)}function Ny(e,i,a,l){return Mn(a,i)?a:so.current!==null?(e=Wf(e,a,l),Mn(e,i)||(Ue=!0),e):(ds&42)===0||(ds&1073741824)!==0&&(Pt&261930)===0?(Ue=!0,e.memoizedState=a):(e=N_(),Ot.lanes|=e,ar|=e,i)}function Dy(e,i,a,l,h){var d=nt.p;nt.p=d!==0&&8>d?d:8;var y=G.T,E={};G.T=E,nd(e,!1,i,a);try{var R=h(),z=G.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=ew(R,l);Sl(e,i,K,Pn(e))}else Sl(e,i,l,Pn(e))}catch($){Sl(e,i,{then:function(){},status:"rejected",reason:$},Pn())}finally{nt.p=d,y!==null&&E.types!==null&&(y.types=E.types),G.T=y}}function ow(){}function td(e,i,a,l){if(e.tag!==5)throw Error(r(476));var h=Oy(e).queue;Dy(e,h,i,ft,a===null?ow:function(){return My(e),a(l)})}function Oy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:ft},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function My(e){var i=Oy(e);i.next===null&&(i=e.alternate.memoizedState),Sl(e,i.next.queue,{},Pn())}function ed(){return Ze(jl)}function Vy(){return Ne().memoizedState}function ky(){return Ne().memoizedState}function lw(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Pn();e=tr(a);var l=er(i,e,a);l!==null&&(wn(l,i,a),_l(l,i,a)),i={cache:Df()},e.payload=i;return}i=i.return}}function uw(e,i,a){var l=Pn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ec(e)?Ly(i,a):(a=vf(e,i,a,l),a!==null&&(wn(a,e,l),Uy(a,i,l)))}function xy(e,i,a){var l=Pn();Sl(e,i,a,l)}function Sl(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ec(e))Ly(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var y=i.lastRenderedState,E=d(y,a);if(h.hasEagerState=!0,h.eagerState=E,Mn(E,y))return tc(e,i,h,0),ue===null&&Wu(),!1}catch{}if(a=vf(e,i,h,l),a!==null)return wn(a,e,l),Uy(a,i,l),!0}return!1}function nd(e,i,a,l){if(l={lane:2,revertLane:kd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ec(e)){if(i)throw Error(r(479))}else i=vf(e,a,l,2),i!==null&&wn(i,e,2)}function Ec(e){var i=e.alternate;return e===Ot||i!==null&&i===Ot}function Ly(e,i){ro=dc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Uy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Go(e,a)}}var wl={readContext:Ze,use:gc,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useLayoutEffect:Se,useInsertionEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useSyncExternalStore:Se,useId:Se,useHostTransitionStatus:Se,useFormState:Se,useActionState:Se,useOptimistic:Se,useMemoCache:Se,useCacheRefresh:Se};wl.useEffectEvent=Se;var Py={readContext:Ze,use:gc,useCallback:function(e,i){return pn().memoizedState=[e,i===void 0?null:i],e},useContext:Ze,useEffect:Ty,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,_c(4194308,4,by.bind(null,i,e),a)},useLayoutEffect:function(e,i){return _c(4194308,4,e,i)},useInsertionEffect:function(e,i){_c(4,2,e,i)},useMemo:function(e,i){var a=pn();i=i===void 0?null:i;var l=e();if(aa){rn(!0);try{e()}finally{rn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=pn();if(a!==void 0){var h=a(i);if(aa){rn(!0);try{a(i)}finally{rn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=uw.bind(null,Ot,e),[l.memoizedState,e]},useRef:function(e){var i=pn();return e={current:e},i.memoizedState=e},useState:function(e){e=Xf(e);var i=e.queue,a=xy.bind(null,Ot,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Zf,useDeferredValue:function(e,i){var a=pn();return Wf(a,e,i)},useTransition:function(){var e=Xf(!1);return e=Dy.bind(null,Ot,e.queue,!0,!1),pn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Ot,h=pn();if(Ft){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ue===null)throw Error(r(349));(Pt&127)!==0||ry(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Ty(oy.bind(null,l,d,e),[e]),l.flags|=2048,oo(9,{destroy:void 0},ay.bind(null,l,d,a,i),null),a},useId:function(){var e=pn(),i=ue.identifierPrefix;if(Ft){var a=ji,l=zi;a=(l&~(1<<32-vt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=mc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=nw++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:ed,useFormState:gy,useActionState:gy,useOptimistic:function(e){var i=pn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=nd.bind(null,Ot,!0,a),a.dispatch=i,[e,i]},useMemoCache:Kf,useCacheRefresh:function(){return pn().memoizedState=lw.bind(null,Ot)},useEffectEvent:function(e){var i=pn(),a={impl:e};return i.memoizedState=a,function(){if((Zt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},id={readContext:Ze,use:gc,useCallback:Iy,useContext:Ze,useEffect:Jf,useImperativeHandle:Ry,useInsertionEffect:Sy,useLayoutEffect:wy,useMemo:Cy,useReducer:yc,useRef:Ey,useState:function(){return yc(ms)},useDebugValue:Zf,useDeferredValue:function(e,i){var a=Ne();return Ny(a,ae.memoizedState,e,i)},useTransition:function(){var e=yc(ms)[0],i=Ne().memoizedState;return[typeof e=="boolean"?e:Al(e),i]},useSyncExternalStore:sy,useId:Vy,useHostTransitionStatus:ed,useFormState:yy,useActionState:yy,useOptimistic:function(e,i){var a=Ne();return cy(a,ae,e,i)},useMemoCache:Kf,useCacheRefresh:ky};id.useEffectEvent=Ay;var zy={readContext:Ze,use:gc,useCallback:Iy,useContext:Ze,useEffect:Jf,useImperativeHandle:Ry,useInsertionEffect:Sy,useLayoutEffect:wy,useMemo:Cy,useReducer:Yf,useRef:Ey,useState:function(){return Yf(ms)},useDebugValue:Zf,useDeferredValue:function(e,i){var a=Ne();return ae===null?Wf(a,e,i):Ny(a,ae.memoizedState,e,i)},useTransition:function(){var e=Yf(ms)[0],i=Ne().memoizedState;return[typeof e=="boolean"?e:Al(e),i]},useSyncExternalStore:sy,useId:Vy,useHostTransitionStatus:ed,useFormState:vy,useActionState:vy,useOptimistic:function(e,i){var a=Ne();return ae!==null?cy(a,ae,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Kf,useCacheRefresh:ky};zy.useEffectEvent=Ay;function sd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var rd={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Pn(),h=tr(l);h.payload=i,a!=null&&(h.callback=a),i=er(e,h,l),i!==null&&(wn(i,e,l),_l(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Pn(),h=tr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=er(e,h,l),i!==null&&(wn(i,e,l),_l(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Pn(),l=tr(a);l.tag=2,i!=null&&(l.callback=i),i=er(e,l,a),i!==null&&(wn(i,e,a),_l(i,e,a))}};function jy(e,i,a,l,h,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,y):i.prototype&&i.prototype.isPureReactComponent?!cl(a,l)||!cl(h,d):!0}function By(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&rd.enqueueReplaceState(i,i.state,null)}function oa(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function qy(e){Zu(e)}function Hy(e){console.error(e)}function Fy(e){Zu(e)}function Tc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Gy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ad(e,i,a){return a=tr(a),a.tag=3,a.payload={element:null},a.callback=function(){Tc(e,i)},a}function Ky(e){return e=tr(e),e.tag=3,e}function Qy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Gy(i,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Gy(i,a,l),typeof h!="function"&&(or===null?or=new Set([this]):or.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function cw(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Wa(i,a,h,!0),a=kn.current,a!==null){switch(a.tag){case 31:case 13:return Xn===null?Vc():a.alternate===null&&we===0&&(we=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===lc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Od(e,l,h)),!1;case 22:return a.flags|=65536,l===lc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Od(e,l,h)),!1}throw Error(r(435,a.tag))}return Od(e,l,h),Vc(),!1}if(Ft)return i=kn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==bf&&(e=Error(r(422),{cause:l}),dl(Gn(e,a)))):(l!==bf&&(i=Error(r(423),{cause:l}),dl(Gn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Gn(l,a),h=ad(e.stateNode,l,h),Lf(e,h),we!==4&&(we=2)),!1;var d=Error(r(520),{cause:l});if(d=Gn(d,a),Ml===null?Ml=[d]:Ml.push(d),we!==4&&(we=2),i===null)return!0;l=Gn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=ad(a.stateNode,l,e),Lf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(or===null||!or.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ky(h),Qy(h,e,a,l),Lf(a,h),!1}a=a.return}while(a!==null);return!1}var od=Error(r(461)),Ue=!1;function We(e,i,a,l){i.child=e===null?Jg(i,null,a,l):ra(i,e.child,a,l)}function Yy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ea(i),l=qf(e,i,a,y,d,h),E=Hf(),e!==null&&!Ue?(Ff(e,i,h),ps(e,i,h)):(Ft&&E&&Sf(i),i.flags|=1,We(e,i,l,h),i.child)}function Xy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Ef(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,$y(e,i,d,l,h)):(e=nc(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!pd(e,h)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(y,l)&&e.ref===i.ref)return ps(e,i,h)}return i.flags|=1,e=us(d,l),e.ref=i.ref,e.return=i,i.child=e}function $y(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(cl(d,l)&&e.ref===i.ref)if(Ue=!1,i.pendingProps=l=d,pd(e,h))(e.flags&131072)!==0&&(Ue=!0);else return i.lanes=e.lanes,ps(e,i,h)}return ld(e,i,a,l,h)}function Jy(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Zy(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&ac(i,d!==null?d.cachePool:null),d!==null?ty(i,d):Pf(),ey(i);else return l=i.lanes=536870912,Zy(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ac(i,d.cachePool),ty(i,d),ir(),i.memoizedState=null):(e!==null&&ac(i,null),Pf(),ir());return We(e,i,h,a),i.child}function bl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Zy(e,i,a,l,h){var d=Mf();return d=d===null?null:{parent:xe._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&ac(i,null),Pf(),ey(i),e!==null&&Wa(e,i,l,!0),i.childLanes=h,null}function Ac(e,i){return i=wc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Wy(e,i,a){return ra(i,e.child,null,a),e=Ac(i,i.pendingProps),e.flags|=2,xn(i),i.memoizedState=null,e}function hw(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Ft){if(l.mode==="hidden")return e=Ac(i,l),i.lanes=536870912,bl(null,e);if(jf(i),(e=de)?(e=hv(e,Yn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Xs!==null?{id:zi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=Lg(e),a.return=i,i.child=a,Je=i,de=null)):e=null,e===null)throw Js(i);return i.lanes=536870912,null}return Ac(i,l)}var d=e.memoizedState;if(d!==null){var y=d.dehydrated;if(jf(i),h)if(i.flags&256)i.flags&=-257,i=Wy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ue||Wa(e,i,a,!1),h=(a&e.childLanes)!==0,Ue||h){if(l=ue,l!==null&&(y=Ko(l,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,Jr(e,y),wn(l,e,y),od;Vc(),i=Wy(e,i,a)}else e=d.treeContext,de=$n(y.nextSibling),Je=i,Ft=!0,$s=null,Yn=!1,e!==null&&zg(i,e),i=Ac(i,l),i.flags|=4096;return i}return e=us(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Sc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function ld(e,i,a,l,h){return ea(i),a=qf(e,i,a,l,void 0,h),l=Hf(),e!==null&&!Ue?(Ff(e,i,h),ps(e,i,h)):(Ft&&l&&Sf(i),i.flags|=1,We(e,i,a,h),i.child)}function t_(e,i,a,l,h,d){return ea(i),i.updateQueue=null,a=iy(i,l,a,h),ny(e),l=Hf(),e!==null&&!Ue?(Ff(e,i,d),ps(e,i,d)):(Ft&&l&&Sf(i),i.flags|=1,We(e,i,a,d),i.child)}function e_(e,i,a,l,h){if(ea(i),i.stateNode===null){var d=Xa,y=a.contextType;typeof y=="object"&&y!==null&&(d=Ze(y)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=rd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},kf(i),y=a.contextType,d.context=typeof y=="object"&&y!==null?Ze(y):Xa,d.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(sd(i,a,y,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&rd.enqueueReplaceState(d,d.state,null),El(i,l,d,h),vl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,R=oa(a,E);d.props=R;var z=d.context,K=a.contextType;y=Xa,typeof K=="object"&&K!==null&&(y=Ze(K));var $=a.getDerivedStateFromProps;K=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||z!==y)&&By(i,d,l,y),Ws=!1;var j=i.memoizedState;d.state=j,El(i,l,d,h),vl(),z=i.memoizedState,E||j!==z||Ws?(typeof $=="function"&&(sd(i,a,$,l),z=i.memoizedState),(R=Ws||jy(i,a,R,l,j,z,y))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=y,l=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,xf(e,i),y=i.memoizedProps,K=oa(a,y),d.props=K,$=i.pendingProps,j=d.context,z=a.contextType,R=Xa,typeof z=="object"&&z!==null&&(R=Ze(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==$||j!==R)&&By(i,d,l,R),Ws=!1,j=i.memoizedState,d.state=j,El(i,l,d,h),vl();var H=i.memoizedState;y!==$||j!==H||Ws||e!==null&&e.dependencies!==null&&sc(e.dependencies)?(typeof E=="function"&&(sd(i,a,E,l),H=i.memoizedState),(K=Ws||jy(i,a,K,l,j,H,R)||e!==null&&e.dependencies!==null&&sc(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=R,l=K):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Sc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=ra(i,e.child,null,h),i.child=ra(i,null,a,h)):We(e,i,a,h),i.memoizedState=d.state,e=i.child):e=ps(e,i,h),e}function n_(e,i,a,l){return Wr(),i.flags|=256,We(e,i,a,l),i.child}var ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(e){return{baseLanes:e,cachePool:Gg()}}function hd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Un),e}function i_(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(Ce.current&2)!==0),y&&(h=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ft){if(h?nr(i):ir(),(e=de)?(e=hv(e,Yn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Xs!==null?{id:zi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=Lg(e),a.return=i,i.child=a,Je=i,de=null)):e=null,e===null)throw Js(i);return Qd(e)?i.lanes=32:i.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(ir(),h=i.mode,E=wc({mode:"hidden",children:E},h),l=Zr(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,l=i.child,l.memoizedState=cd(a),l.childLanes=hd(e,y,a),i.memoizedState=ud,bl(null,l)):(nr(i),fd(i,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(d)i.flags&256?(nr(i),i.flags&=-257,i=dd(e,i,a)):i.memoizedState!==null?(ir(),i.child=e.child,i.flags|=128,i=null):(ir(),E=l.fallback,h=i.mode,l=wc({mode:"visible",children:l.children},h),E=Zr(E,h,a,null),E.flags|=2,l.return=i,E.return=i,l.sibling=E,i.child=l,ra(i,e.child,null,a),l=i.child,l.memoizedState=cd(a),l.childLanes=hd(e,y,a),i.memoizedState=ud,i=bl(null,l));else if(nr(i),Qd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(r(419)),l.stack="",l.digest=y,dl({value:l,source:null,stack:null}),i=dd(e,i,a)}else if(Ue||Wa(e,i,a,!1),y=(a&e.childLanes)!==0,Ue||y){if(y=ue,y!==null&&(l=Ko(y,a),l!==0&&l!==R.retryLane))throw R.retryLane=l,Jr(e,l),wn(y,e,l),od;Kd(E)||Vc(),i=dd(e,i,a)}else Kd(E)?(i.flags|=192,i.child=e.child,i=null):(e=R.treeContext,de=$n(E.nextSibling),Je=i,Ft=!0,$s=null,Yn=!1,e!==null&&zg(i,e),i=fd(i,l.children),i.flags|=4096);return i}return h?(ir(),E=l.fallback,h=i.mode,R=e.child,z=R.sibling,l=us(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=us(z,E):(E=Zr(E,h,a,null),E.flags|=2),E.return=i,l.return=i,l.sibling=E,i.child=l,bl(null,l),l=i.child,E=e.child.memoizedState,E===null?E=cd(a):(h=E.cachePool,h!==null?(R=xe._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Gg(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=hd(e,y,a),i.memoizedState=ud,bl(e.child,l)):(nr(i),a=e.child,e=a.sibling,a=us(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(y=i.deletions,y===null?(i.deletions=[e],i.flags|=16):y.push(e)),i.child=a,i.memoizedState=null,a)}function fd(e,i){return i=wc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function wc(e,i){return e=Vn(22,e,null,i),e.lanes=0,e}function dd(e,i,a){return ra(i,e.child,null,a),e=fd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function s_(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Cf(e.return,i,a)}function md(e,i,a,l,h,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=h,y.treeForkCount=d)}function r_(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var y=Ce.current,E=(y&2)!==0;if(E?(y=y&1|2,i.flags|=128):y&=1,it(Ce,y),We(e,i,l,a),l=Ft?fl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&s_(e,a,i);else if(e.tag===19)s_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&fc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),md(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&fc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}md(i,!0,a,null,d,l);break;case"together":md(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ps(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),ar|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Wa(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=us(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=us(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function pd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&sc(e)))}function fw(e,i,a){switch(i.tag){case 3:Te(i,i.stateNode.containerInfo),Zs(i,xe,e.memoizedState.cache),Wr();break;case 27:case 5:ni(i);break;case 4:Te(i,i.stateNode.containerInfo);break;case 10:Zs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,jf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(nr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?i_(e,i,a):(nr(i),e=ps(e,i,a),e!==null?e.sibling:null);nr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Wa(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return r_(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Ce,Ce.current),l)break;return null;case 22:return i.lanes=0,Jy(e,i,a,i.pendingProps);case 24:Zs(i,xe,e.memoizedState.cache)}return ps(e,i,a)}function a_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ue=!0;else{if(!pd(e,a)&&(i.flags&128)===0)return Ue=!1,fw(e,i,a);Ue=(e.flags&131072)!==0}else Ue=!1,Ft&&(i.flags&1048576)!==0&&Pg(i,fl,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=ia(i.elementType),i.type=e,typeof e=="function")Ef(e)?(l=oa(e,l),i.tag=1,i=e_(null,i,e,l,a)):(i.tag=0,i=ld(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===Ht){i.tag=11,i=Yy(null,i,e,l,a);break t}else if(h===N){i.tag=14,i=Xy(null,i,e,l,a);break t}}throw i=Yt(e)||e,Error(r(306,i,""))}}return i;case 0:return ld(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=oa(l,i.pendingProps),e_(e,i,l,h,a);case 3:t:{if(Te(i,i.stateNode.containerInfo),e===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,xf(e,i),El(i,l,null,a);var y=i.memoizedState;if(l=y.cache,Zs(i,xe,l),l!==d.cache&&Nf(i,[xe],a,!0),vl(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=n_(e,i,l,a);break t}else if(l!==h){h=Gn(Error(r(424)),i),dl(h),i=n_(e,i,l,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,de=$n(e.firstChild),Je=i,Ft=!0,$s=null,Yn=!0,a=Jg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Wr(),l===h){i=ps(e,i,a);break t}We(e,i,l,a)}i=i.child}return i;case 26:return Sc(e,i),e===null?(a=yv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ft||(a=i.type,e=i.pendingProps,l=jc(Rt.current).createElement(a),l[Me]=i,l[Ge]=e,tn(l,a,e),Ve(l),i.stateNode=l):i.memoizedState=yv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ni(i),e===null&&Ft&&(l=i.stateNode=mv(i.type,i.pendingProps,Rt.current),Je=i,Yn=!0,h=de,hr(i.type)?(Yd=h,de=$n(l.firstChild)):de=h),We(e,i,i.pendingProps.children,a),Sc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ft&&((h=l=de)&&(l=qw(l,i.type,i.pendingProps,Yn),l!==null?(i.stateNode=l,Je=i,de=$n(l.firstChild),Yn=!1,h=!0):h=!1),h||Js(i)),ni(i),h=i.type,d=i.pendingProps,y=e!==null?e.memoizedProps:null,l=d.children,Hd(h,d)?l=null:y!==null&&Hd(h,y)&&(i.flags|=32),i.memoizedState!==null&&(h=qf(e,i,iw,null,null,a),jl._currentValue=h),Sc(e,i),We(e,i,l,a),i.child;case 6:return e===null&&Ft&&((e=a=de)&&(a=Hw(a,i.pendingProps,Yn),a!==null?(i.stateNode=a,Je=i,de=null,e=!0):e=!1),e||Js(i)),null;case 13:return i_(e,i,a);case 4:return Te(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=ra(i,null,l,a):We(e,i,l,a),i.child;case 11:return Yy(e,i,i.type,i.pendingProps,a);case 7:return We(e,i,i.pendingProps,a),i.child;case 8:return We(e,i,i.pendingProps.children,a),i.child;case 12:return We(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Zs(i,i.type,l.value),We(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ea(i),h=Ze(h),l=l(h),i.flags|=1,We(e,i,l,a),i.child;case 14:return Xy(e,i,i.type,i.pendingProps,a);case 15:return $y(e,i,i.type,i.pendingProps,a);case 19:return r_(e,i,a);case 31:return hw(e,i,a);case 22:return Jy(e,i,a,i.pendingProps);case 24:return ea(i),l=Ze(xe),e===null?(h=Mf(),h===null&&(h=ue,d=Df(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},kf(i),Zs(i,xe,h)):((e.lanes&a)!==0&&(xf(e,i),El(i,null,null,a),vl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Zs(i,xe,l)):(l=d.cache,Zs(i,xe,l),l!==h.cache&&Nf(i,[xe],a,!0))),We(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function gs(e){e.flags|=4}function gd(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(V_())e.flags|=8192;else throw sa=lc,Vf}else e.flags&=-16777217}function o_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Av(i))if(V_())e.flags|=8192;else throw sa=lc,Vf}function bc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Ou():536870912,e.lanes|=i,ho|=i)}function Rl(e,i){if(!Ft)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function me(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function dw(e,i,a){var l=i.pendingProps;switch(wf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(i),null;case 1:return me(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),fs(xe),te(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Za(i)?gs(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Rf())),me(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(gs(i),d!==null?(me(i),o_(i,d)):(me(i),gd(i,h,null,l,a))):d?d!==e.memoizedState?(gs(i),me(i),o_(i,d)):(me(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&gs(i),me(i),gd(i,h,e,l,a)),null;case 27:if(es(i),a=Rt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&gs(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return me(i),null}e=at.current,Za(i)?jg(i):(e=mv(h,l,a),i.stateNode=e,gs(i))}return me(i),null;case 5:if(es(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&gs(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return me(i),null}if(d=at.current,Za(i))jg(i);else{var y=jc(Rt.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}d[Me]=i,d[Ge]=l;t:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break t;for(;y.sibling===null;){if(y.return===null||y.return===i)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=d;t:switch(tn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&gs(i)}}return me(i),gd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&gs(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=Rt.current,Za(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=Je,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Me]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||iv(e.nodeValue,a)),e||Js(i,!0)}else e=jc(e).createTextNode(l),e[Me]=i,i.stateNode=e}return me(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Za(i),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Me]=i}else Wr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;me(i),e=!1}else a=Rf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(xn(i),i):(xn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return me(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Za(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Me]=i}else Wr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;me(i),h=!1}else h=Rf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(xn(i),i):(xn(i),null)}return xn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),bc(i,i.updateQueue),me(i),null);case 4:return te(),e===null&&Pd(i.stateNode.containerInfo),me(i),null;case 10:return fs(i.type),me(i),null;case 19:if(X(Ce),l=i.memoizedState,l===null)return me(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Rl(l,!1);else{if(we!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=fc(e),d!==null){for(i.flags|=128,Rl(l,!1),e=d.updateQueue,i.updateQueue=e,bc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)xg(a,e),a=a.sibling;return it(Ce,Ce.current&1|2),Ft&&cs(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&ee()>Dc&&(i.flags|=128,h=!0,Rl(l,!1),i.lanes=4194304)}else{if(!h)if(e=fc(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,bc(i,e),Rl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ft)return me(i),null}else 2*ee()-l.renderingStartTime>Dc&&a!==536870912&&(i.flags|=128,h=!0,Rl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ee(),e.sibling=null,a=Ce.current,it(Ce,h?a&1|2:a&1),Ft&&cs(i,l.treeForkCount),e):(me(i),null);case 22:case 23:return xn(i),zf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(me(i),i.subtreeFlags&6&&(i.flags|=8192)):me(i),a=i.updateQueue,a!==null&&bc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&X(na),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),fs(xe),me(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function mw(e,i){switch(wf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return fs(xe),te(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return es(i),null;case 31:if(i.memoizedState!==null){if(xn(i),i.alternate===null)throw Error(r(340));Wr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(xn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Wr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return X(Ce),null;case 4:return te(),null;case 10:return fs(i.type),null;case 22:case 23:return xn(i),zf(),e!==null&&X(na),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return fs(xe),null;case 25:return null;default:return null}}function l_(e,i){switch(wf(i),i.tag){case 3:fs(xe),te();break;case 26:case 27:case 5:es(i);break;case 4:te();break;case 31:i.memoizedState!==null&&xn(i);break;case 13:xn(i);break;case 19:X(Ce);break;case 10:fs(i.type);break;case 22:case 23:xn(i),zf(),e!==null&&X(na);break;case 24:fs(xe)}}function Il(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,y=a.inst;l=d(),y.destroy=l}a=a.next}while(a!==h)}}catch(E){se(i,i.return,E)}}function sr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=i;var R=a,z=E;try{z()}catch(K){se(h,R,K)}}}l=l.next}while(l!==d)}}catch(K){se(i,i.return,K)}}function u_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Wg(i,a)}catch(l){se(e,e.return,l)}}}function c_(e,i,a){a.props=oa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){se(e,i,l)}}function Cl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){se(e,i,h)}}function Bi(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){se(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){se(e,i,h)}else a.current=null}function h_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){se(e,e.return,h)}}function yd(e,i,a){try{var l=e.stateNode;Lw(l,e.type,a,i),l[Ge]=i}catch(h){se(e,e.return,h)}}function f_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&hr(e.type)||e.tag===4}function _d(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||f_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&hr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=oi));else if(l!==4&&(l===27&&hr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(vd(e,i,a),e=e.sibling;e!==null;)vd(e,i,a),e=e.sibling}function Rc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&hr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Rc(e,i,a),e=e.sibling;e!==null;)Rc(e,i,a),e=e.sibling}function d_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);tn(i,l,a),i[Me]=e,i[Ge]=a}catch(d){se(e,e.return,d)}}var ys=!1,Pe=!1,Ed=!1,m_=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function pw(e,i){if(e=e.containerInfo,Bd=Qc,e=Rg(e),df(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var y=0,E=-1,R=-1,z=0,K=0,$=e,j=null;e:for(;;){for(var H;$!==a||h!==0&&$.nodeType!==3||(E=y+h),$!==d||l!==0&&$.nodeType!==3||(R=y+l),$.nodeType===3&&(y+=$.nodeValue.length),(H=$.firstChild)!==null;)j=$,$=H;for(;;){if($===e)break e;if(j===a&&++z===h&&(E=y),j===d&&++K===l&&(R=y),(H=$.nextSibling)!==null)break;$=j,j=$.parentNode}$=H}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(qd={focusedElem:e,selectionRange:a},Qc=!1,Qe=i;Qe!==null;)if(i=Qe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Qe=e;else for(;Qe!==null;){switch(i=Qe,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ut=oa(a.type,h);e=l.getSnapshotBeforeUpdate(ut,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(yt){se(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Gd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Qe=e;break}Qe=i.return}}function p_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:vs(e,a),l&4&&Il(5,a);break;case 1:if(vs(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(y){se(a,a.return,y)}else{var h=oa(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(y){se(a,a.return,y)}}l&64&&u_(a),l&512&&Cl(a,a.return);break;case 3:if(vs(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Wg(e,i)}catch(y){se(a,a.return,y)}}break;case 27:i===null&&l&4&&d_(a);case 26:case 5:vs(e,a),i===null&&l&4&&h_(a),l&512&&Cl(a,a.return);break;case 12:vs(e,a);break;case 31:vs(e,a),l&4&&__(e,a);break;case 13:vs(e,a),l&4&&v_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ww.bind(null,a),Fw(e,a))));break;case 22:if(l=a.memoizedState!==null||ys,!l){i=i!==null&&i.memoizedState!==null||Pe,h=ys;var d=Pe;ys=l,(Pe=i)&&!d?Es(e,a,(a.subtreeFlags&8772)!==0):vs(e,a),ys=h,Pe=d}break;case 30:break;default:vs(e,a)}}function g_(e){var i=e.alternate;i!==null&&(e.alternate=null,g_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&xa(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ye=null,En=!1;function _s(e,i,a){for(a=a.child;a!==null;)y_(e,i,a),a=a.sibling}function y_(e,i,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Nn,a)}catch{}switch(a.tag){case 26:Pe||Bi(a,i),_s(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pe||Bi(a,i);var l=ye,h=En;hr(a.type)&&(ye=a.stateNode,En=!1),_s(e,i,a),Ul(a.stateNode),ye=l,En=h;break;case 5:Pe||Bi(a,i);case 6:if(l=ye,h=En,ye=null,_s(e,i,a),ye=l,En=h,ye!==null)if(En)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(a.stateNode)}catch(d){se(a,i,d)}else try{ye.removeChild(a.stateNode)}catch(d){se(a,i,d)}break;case 18:ye!==null&&(En?(e=ye,uv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Eo(e)):uv(ye,a.stateNode));break;case 4:l=ye,h=En,ye=a.stateNode.containerInfo,En=!0,_s(e,i,a),ye=l,En=h;break;case 0:case 11:case 14:case 15:sr(2,a,i),Pe||sr(4,a,i),_s(e,i,a);break;case 1:Pe||(Bi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&c_(a,i,l)),_s(e,i,a);break;case 21:_s(e,i,a);break;case 22:Pe=(l=Pe)||a.memoizedState!==null,_s(e,i,a),Pe=l;break;default:_s(e,i,a)}}function __(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Eo(e)}catch(a){se(i,i.return,a)}}}function v_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Eo(e)}catch(a){se(i,i.return,a)}}function gw(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new m_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new m_),i;default:throw Error(r(435,e.tag))}}function Ic(e,i){var a=gw(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=bw.bind(null,e,l);l.then(h,h)}})}function Tn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,y=i,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(hr(E.type)){ye=E.stateNode,En=!1;break t}break;case 5:ye=E.stateNode,En=!1;break t;case 3:case 4:ye=E.stateNode.containerInfo,En=!0;break t}E=E.return}if(ye===null)throw Error(r(160));y_(d,y,h),ye=null,En=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)E_(i,e),i=i.sibling}var di=null;function E_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tn(i,e),An(e),l&4&&(sr(3,e,e.return),Il(3,e),sr(5,e,e.return));break;case 1:Tn(i,e),An(e),l&512&&(Pe||a===null||Bi(a,a.return)),l&64&&ys&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=di;if(Tn(i,e),An(e),l&512&&(Pe||a===null||Bi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ii]||d[Me]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),tn(d,l,a),d[Me]=e,Ve(d),l=d;break t;case"link":var y=Ev("link","href",h).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(d=y[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}d=h.createElement(l),tn(d,l,a),h.head.appendChild(d);break;case"meta":if(y=Ev("meta","content",h).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(d=y[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}d=h.createElement(l),tn(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Me]=e,Ve(d),l=d}e.stateNode=l}else Tv(h,e.type,e.stateNode);else e.stateNode=vv(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Tv(h,e.type,e.stateNode):vv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&yd(e,e.memoizedProps,a.memoizedProps)}break;case 27:Tn(i,e),An(e),l&512&&(Pe||a===null||Bi(a,a.return)),a!==null&&l&4&&yd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Tn(i,e),An(e),l&512&&(Pe||a===null||Bi(a,a.return)),e.flags&32){h=e.stateNode;try{vn(h,"")}catch(ut){se(e,e.return,ut)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,yd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Ed=!0);break;case 6:if(Tn(i,e),An(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ut){se(e,e.return,ut)}}break;case 3:if(Hc=null,h=di,di=Bc(i.containerInfo),Tn(i,e),di=h,An(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Eo(i.containerInfo)}catch(ut){se(e,e.return,ut)}Ed&&(Ed=!1,T_(e));break;case 4:l=di,di=Bc(e.stateNode.containerInfo),Tn(i,e),An(e),di=l;break;case 12:Tn(i,e),An(e);break;case 31:Tn(i,e),An(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ic(e,l)));break;case 13:Tn(i,e),An(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Nc=ee()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ic(e,l)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=ys,K=Pe;if(ys=z||h,Pe=K||R,Tn(i,e),Pe=K,ys=z,An(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||ys||Pe||la(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(d=R.stateNode,h)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var $=R.memoizedProps.style,j=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ut){se(R,R.return,ut)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ut){se(R,R.return,ut)}}}else if(i.tag===18){if(a===null){R=i;try{var H=R.stateNode;h?cv(H,!0):cv(R.stateNode,!1)}catch(ut){se(R,R.return,ut)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ic(e,a))));break;case 19:Tn(i,e),An(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ic(e,l)));break;case 30:break;case 21:break;default:Tn(i,e),An(e)}}function An(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(f_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=_d(e);Rc(e,d,h);break;case 5:var y=a.stateNode;a.flags&32&&(vn(y,""),a.flags&=-33);var E=_d(e);Rc(e,E,y);break;case 3:case 4:var R=a.stateNode.containerInfo,z=_d(e);vd(e,z,R);break;default:throw Error(r(161))}}catch(K){se(e,e.return,K)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function T_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;T_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function vs(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)p_(e,i.alternate,i),i=i.sibling}function la(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:sr(4,i,i.return),la(i);break;case 1:Bi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&c_(i,i.return,a),la(i);break;case 27:Ul(i.stateNode);case 26:case 5:Bi(i,i.return),la(i);break;case 22:i.memoizedState===null&&la(i);break;case 30:la(i);break;default:la(i)}e=e.sibling}}function Es(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,y=d.flags;switch(d.tag){case 0:case 11:case 15:Es(h,d,a),Il(4,d);break;case 1:if(Es(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){se(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Zg(R[h],E)}catch(z){se(l,l.return,z)}}a&&y&64&&u_(d),Cl(d,d.return);break;case 27:d_(d);case 26:case 5:Es(h,d,a),a&&l===null&&y&4&&h_(d),Cl(d,d.return);break;case 12:Es(h,d,a);break;case 31:Es(h,d,a),a&&y&4&&__(h,d);break;case 13:Es(h,d,a),a&&y&4&&v_(h,d);break;case 22:d.memoizedState===null&&Es(h,d,a),Cl(d,d.return);break;case 30:break;default:Es(h,d,a)}i=i.sibling}}function Td(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ml(a))}function Ad(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ml(e))}function mi(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)A_(e,i,a,l),i=i.sibling}function A_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:mi(e,i,a,l),h&2048&&Il(9,i);break;case 1:mi(e,i,a,l);break;case 3:mi(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ml(e)));break;case 12:if(h&2048){mi(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,y=d.id,E=d.onPostCommit;typeof E=="function"&&E(y,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){se(i,i.return,R)}}else mi(e,i,a,l);break;case 31:mi(e,i,a,l);break;case 13:mi(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,y=i.alternate,i.memoizedState!==null?d._visibility&2?mi(e,i,a,l):Nl(e,i):d._visibility&2?mi(e,i,a,l):(d._visibility|=2,lo(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Td(y,i);break;case 24:mi(e,i,a,l),h&2048&&Ad(i.alternate,i);break;default:mi(e,i,a,l)}}function lo(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,y=i,E=a,R=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:lo(d,y,E,R,h),Il(8,y);break;case 23:break;case 22:var K=y.stateNode;y.memoizedState!==null?K._visibility&2?lo(d,y,E,R,h):Nl(d,y):(K._visibility|=2,lo(d,y,E,R,h)),h&&z&2048&&Td(y.alternate,y);break;case 24:lo(d,y,E,R,h),h&&z&2048&&Ad(y.alternate,y);break;default:lo(d,y,E,R,h)}i=i.sibling}}function Nl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Nl(a,l),h&2048&&Td(l.alternate,l);break;case 24:Nl(a,l),h&2048&&Ad(l.alternate,l);break;default:Nl(a,l)}i=i.sibling}}var Dl=8192;function uo(e,i,a){if(e.subtreeFlags&Dl)for(e=e.child;e!==null;)S_(e,i,a),e=e.sibling}function S_(e,i,a){switch(e.tag){case 26:uo(e,i,a),e.flags&Dl&&e.memoizedState!==null&&nb(a,di,e.memoizedState,e.memoizedProps);break;case 5:uo(e,i,a);break;case 3:case 4:var l=di;di=Bc(e.stateNode.containerInfo),uo(e,i,a),di=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Dl,Dl=16777216,uo(e,i,a),Dl=l):uo(e,i,a));break;default:uo(e,i,a)}}function w_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Ol(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Qe=l,R_(l,e)}w_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)b_(e),e=e.sibling}function b_(e){switch(e.tag){case 0:case 11:case 15:Ol(e),e.flags&2048&&sr(9,e,e.return);break;case 3:Ol(e);break;case 12:Ol(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Cc(e)):Ol(e);break;default:Ol(e)}}function Cc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Qe=l,R_(l,e)}w_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:sr(8,i,i.return),Cc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Cc(i));break;default:Cc(i)}e=e.sibling}}function R_(e,i){for(;Qe!==null;){var a=Qe;switch(a.tag){case 0:case 11:case 15:sr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Qe=l;else t:for(a=e;Qe!==null;){l=Qe;var h=l.sibling,d=l.return;if(g_(l),l===a){Qe=null;break t}if(h!==null){h.return=d,Qe=h;break t}Qe=d}}}var yw={getCacheForType:function(e){var i=Ze(xe),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Ze(xe).controller.signal}},_w=typeof WeakMap=="function"?WeakMap:Map,Zt=0,ue=null,xt=null,Pt=0,ie=0,Ln=null,rr=!1,co=!1,Sd=!1,Ts=0,we=0,ar=0,ua=0,wd=0,Un=0,ho=0,Ml=null,Sn=null,bd=!1,Nc=0,I_=0,Dc=1/0,Oc=null,or=null,He=0,lr=null,fo=null,As=0,Rd=0,Id=null,C_=null,Vl=0,Cd=null;function Pn(){return(Zt&2)!==0&&Pt!==0?Pt&-Pt:G.T!==null?kd():Mu()}function N_(){if(Un===0)if((Pt&536870912)===0||Ft){var e=Lr;Lr<<=1,(Lr&3932160)===0&&(Lr=262144),Un=e}else Un=536870912;return e=kn.current,e!==null&&(e.flags|=32),Un}function wn(e,i,a){(e===ue&&(ie===2||ie===9)||e.cancelPendingCommit!==null)&&(mo(e,0),ur(e,Pt,Un,!1)),Ur(e,a),((Zt&2)===0||e!==ue)&&(e===ue&&((Zt&2)===0&&(ua|=a),we===4&&ur(e,Pt,Un,!1)),qi(e))}function D_(e,i,a){if((Zt&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||si(e,i),h=l?Tw(e,i):Dd(e,i,!0),d=l;do{if(h===0){co&&!l&&ur(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!vw(a)){h=Dd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;t:{var E=e;h=Ml;var R=E.current.memoizedState.isDehydrated;if(R&&(mo(E,y).flags|=256),y=Dd(E,y,!1),y!==2){if(Sd&&!R){E.errorRecoveryDisabledLanes|=d,ua|=d,h=4;break t}d=Sn,Sn=h,d!==null&&(Sn===null?Sn=d:Sn.push.apply(Sn,d))}h=y}if(d=!1,h!==2)continue}}if(h===1){mo(e,0),ur(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:ur(l,i,Un,!rr);break t;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=Nc+300-ee(),10<h)){if(ur(l,i,Un,!rr),wi(l,0,!0)!==0)break t;As=i,l.timeoutHandle=ov(O_.bind(null,l,a,Sn,Oc,bd,i,Un,ua,ho,rr,d,"Throttled",-0,0),h);break t}O_(l,a,Sn,Oc,bd,i,Un,ua,ho,rr,d,null,-0,0)}}break}while(!0);qi(e)}function O_(e,i,a,l,h,d,y,E,R,z,K,$,j,H){if(e.timeoutHandle=-1,$=i.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},S_(i,d,$);var ut=(d&62914560)===d?Nc-ee():(d&4194048)===d?I_-ee():0;if(ut=ib($,ut),ut!==null){As=d,e.cancelPendingCommit=ut(z_.bind(null,e,i,d,a,l,h,y,E,R,K,$,null,j,H)),ur(e,d,y,!z);return}}z_(e,i,d,a,l,h,y,E,R)}function vw(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Mn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ur(e,i,a,l){i&=~wd,i&=~ua,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-vt(h),y=1<<d;l[d]=-1,h&=~y}a!==0&&Pr(e,a,i)}function Mc(){return(Zt&6)===0?(kl(0),!1):!0}function Nd(){if(xt!==null){if(ie===0)var e=xt.return;else e=xt,hs=ta=null,Gf(e),io=null,gl=0,e=xt;for(;e!==null;)l_(e.alternate,e),e=e.return;xt=null}}function mo(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,zw(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),As=0,Nd(),ue=e,xt=a=us(e.current,null),Pt=i,ie=0,Ln=null,rr=!1,co=si(e,i),Sd=!1,ho=Un=wd=ua=ar=we=0,Sn=Ml=null,bd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-vt(l),d=1<<h;i|=e[h],l&=~d}return Ts=i,Wu(),a}function M_(e,i){Ot=null,G.H=wl,i===no||i===oc?(i=Yg(),ie=3):i===Vf?(i=Yg(),ie=4):ie=i===od?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ln=i,xt===null&&(we=1,Tc(e,Gn(i,e.current)))}function V_(){var e=kn.current;return e===null?!0:(Pt&4194048)===Pt?Xn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?e===Xn:!1}function k_(){var e=G.H;return G.H=wl,e===null?wl:e}function x_(){var e=G.A;return G.A=yw,e}function Vc(){we=4,rr||(Pt&4194048)!==Pt&&kn.current!==null||(co=!0),(ar&134217727)===0&&(ua&134217727)===0||ue===null||ur(ue,Pt,Un,!1)}function Dd(e,i,a){var l=Zt;Zt|=2;var h=k_(),d=x_();(ue!==e||Pt!==i)&&(Oc=null,mo(e,i)),i=!1;var y=we;t:do try{if(ie!==0&&xt!==null){var E=xt,R=Ln;switch(ie){case 8:Nd(),y=6;break t;case 3:case 2:case 9:case 6:kn.current===null&&(i=!0);var z=ie;if(ie=0,Ln=null,po(e,E,R,z),a&&co){y=0;break t}break;default:z=ie,ie=0,Ln=null,po(e,E,R,z)}}Ew(),y=we;break}catch(K){M_(e,K)}while(!0);return i&&e.shellSuspendCounter++,hs=ta=null,Zt=l,G.H=h,G.A=d,xt===null&&(ue=null,Pt=0,Wu()),y}function Ew(){for(;xt!==null;)L_(xt)}function Tw(e,i){var a=Zt;Zt|=2;var l=k_(),h=x_();ue!==e||Pt!==i?(Oc=null,Dc=ee()+500,mo(e,i)):co=si(e,i);t:do try{if(ie!==0&&xt!==null){i=xt;var d=Ln;e:switch(ie){case 1:ie=0,Ln=null,po(e,i,d,1);break;case 2:case 9:if(Kg(d)){ie=0,Ln=null,U_(i);break}i=function(){ie!==2&&ie!==9||ue!==e||(ie=7),qi(e)},d.then(i,i);break t;case 3:ie=7;break t;case 4:ie=5;break t;case 7:Kg(d)?(ie=0,Ln=null,U_(i)):(ie=0,Ln=null,po(e,i,d,7));break;case 5:var y=null;switch(xt.tag){case 26:y=xt.memoizedState;case 5:case 27:var E=xt;if(y?Av(y):E.stateNode.complete){ie=0,Ln=null;var R=E.sibling;if(R!==null)xt=R;else{var z=E.return;z!==null?(xt=z,kc(z)):xt=null}break e}}ie=0,Ln=null,po(e,i,d,5);break;case 6:ie=0,Ln=null,po(e,i,d,6);break;case 8:Nd(),we=6;break t;default:throw Error(r(462))}}Aw();break}catch(K){M_(e,K)}while(!0);return hs=ta=null,G.H=l,G.A=h,Zt=a,xt!==null?0:(ue=null,Pt=0,Wu(),we)}function Aw(){for(;xt!==null&&!Us();)L_(xt)}function L_(e){var i=a_(e.alternate,e,Ts);e.memoizedProps=e.pendingProps,i===null?kc(e):xt=i}function U_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=t_(a,i,i.pendingProps,i.type,void 0,Pt);break;case 11:i=t_(a,i,i.pendingProps,i.type.render,i.ref,Pt);break;case 5:Gf(i);default:l_(a,i),i=xt=xg(i,Ts),i=a_(a,i,Ts)}e.memoizedProps=e.pendingProps,i===null?kc(e):xt=i}function po(e,i,a,l){hs=ta=null,Gf(i),io=null,gl=0;var h=i.return;try{if(cw(e,h,i,a,Pt)){we=1,Tc(e,Gn(a,e.current)),xt=null;return}}catch(d){if(h!==null)throw xt=h,d;we=1,Tc(e,Gn(a,e.current)),xt=null;return}i.flags&32768?(Ft||l===1?e=!0:co||(Pt&536870912)!==0?e=!1:(rr=e=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),P_(i,e)):kc(i)}function kc(e){var i=e;do{if((i.flags&32768)!==0){P_(i,rr);return}e=i.return;var a=dw(i.alternate,i,Ts);if(a!==null){xt=a;return}if(i=i.sibling,i!==null){xt=i;return}xt=i=e}while(i!==null);we===0&&(we=5)}function P_(e,i){do{var a=mw(e.alternate,e);if(a!==null){a.flags&=32767,xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){xt=e;return}xt=e=a}while(e!==null);we=6,xt=null}function z_(e,i,a,l,h,d,y,E,R){e.cancelPendingCommit=null;do xc();while(He!==0);if((Zt&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=_f,uf(e,a,d,y,E,R),e===ue&&(xt=ue=null,Pt=0),fo=i,lr=e,As=a,Rd=d,Id=h,C_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Rw(Xe,function(){return F_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=nt.p,nt.p=2,y=Zt,Zt|=4;try{pw(e,i,a)}finally{Zt=y,nt.p=h,G.T=l}}He=1,j_(),B_(),q_()}}function j_(){if(He===1){He=0;var e=lr,i=fo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=nt.p;nt.p=2;var h=Zt;Zt|=4;try{E_(i,e);var d=qd,y=Rg(e.containerInfo),E=d.focusedElem,R=d.selectionRange;if(y!==E&&E&&E.ownerDocument&&bg(E.ownerDocument.documentElement,E)){if(R!==null&&df(E)){var z=R.start,K=R.end;if(K===void 0&&(K=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(K,E.value.length);else{var $=E.ownerDocument||document,j=$&&$.defaultView||window;if(j.getSelection){var H=j.getSelection(),ut=E.textContent.length,yt=Math.min(R.start,ut),le=R.end===void 0?yt:Math.min(R.end,ut);!H.extend&&yt>le&&(y=le,le=yt,yt=y);var k=wg(E,yt),D=wg(E,le);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=$.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),yt>le?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Y=$[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Qc=!!Bd,qd=Bd=null}finally{Zt=h,nt.p=l,G.T=a}}e.current=i,He=2}}function B_(){if(He===2){He=0;var e=lr,i=fo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=nt.p;nt.p=2;var h=Zt;Zt|=4;try{p_(e,i.alternate,i)}finally{Zt=h,nt.p=l,G.T=a}}He=3}}function q_(){if(He===4||He===3){He=0,Ps();var e=lr,i=fo,a=As,l=C_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?He=5:(He=0,fo=lr=null,H_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(or=null),rs(a),i=i.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Nn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=nt.p,nt.p=2,G.T=null;try{for(var d=e.onRecoverableError,y=0;y<l.length;y++){var E=l[y];d(E.value,{componentStack:E.stack})}}finally{G.T=i,nt.p=h}}(As&3)!==0&&xc(),qi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===Cd?Vl++:(Vl=0,Cd=e):Vl=0,kl(0)}}function H_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,ml(i)))}function xc(){return j_(),B_(),q_(),F_()}function F_(){if(He!==5)return!1;var e=lr,i=Rd;Rd=0;var a=rs(As),l=G.T,h=nt.p;try{nt.p=32>a?32:a,G.T=null,a=Id,Id=null;var d=lr,y=As;if(He=0,fo=lr=null,As=0,(Zt&6)!==0)throw Error(r(331));var E=Zt;if(Zt|=4,b_(d.current),A_(d,d.current,y,a),Zt=E,kl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Nn,d)}catch{}return!0}finally{nt.p=h,G.T=l,H_(e,i)}}function G_(e,i,a){i=Gn(a,i),i=ad(e.stateNode,i,2),e=er(e,i,2),e!==null&&(Ur(e,2),qi(e))}function se(e,i,a){if(e.tag===3)G_(e,e,a);else for(;i!==null;){if(i.tag===3){G_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(or===null||!or.has(l))){e=Gn(a,e),a=Ky(2),l=er(i,a,2),l!==null&&(Qy(a,l,i,e),Ur(l,2),qi(l));break}}i=i.return}}function Od(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new _w;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Sd=!0,h.add(a),e=Sw.bind(null,e,i,a),i.then(e,e))}function Sw(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ue===e&&(Pt&a)===a&&(we===4||we===3&&(Pt&62914560)===Pt&&300>ee()-Nc?(Zt&2)===0&&mo(e,0):wd|=a,ho===Pt&&(ho=0)),qi(e)}function K_(e,i){i===0&&(i=Ou()),e=Jr(e,i),e!==null&&(Ur(e,i),qi(e))}function ww(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),K_(e,a)}function bw(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),K_(e,a)}function Rw(e,i){return Ae(e,i)}var Lc=null,go=null,Md=!1,Uc=!1,Vd=!1,cr=0;function qi(e){e!==go&&e.next===null&&(go===null?Lc=go=e:go=go.next=e),Uc=!0,Md||(Md=!0,Cw())}function kl(e,i){if(!Vd&&Uc){Vd=!0;do for(var a=!1,l=Lc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var y=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-vt(42|e)+1)-1,d&=h&~(y&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,$_(l,d))}else d=Pt,d=wi(l,l===ue?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||si(l,d)||(a=!0,$_(l,d));l=l.next}while(a);Vd=!1}}function Iw(){Q_()}function Q_(){Uc=Md=!1;var e=0;cr!==0&&Pw()&&(e=cr);for(var i=ee(),a=null,l=Lc;l!==null;){var h=l.next,d=Y_(l,i);d===0?(l.next=null,a===null?Lc=h:a.next=h,h===null&&(go=a)):(a=l,(e!==0||(d&3)!==0)&&(Uc=!0)),l=h}He!==0&&He!==5||kl(e),cr!==0&&(cr=0)}function Y_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-vt(d),E=1<<y,R=h[y];R===-1?((E&a)===0||(E&l)!==0)&&(h[y]=lf(E,i)):R<=i&&(e.expiredLanes|=E),d&=~E}if(i=ue,a=Pt,a=wi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(ie===2||ie===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Cn(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||si(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Cn(l),rs(a)){case 2:case 8:a=zs;break;case 32:a=Xe;break;case 268435456:a=Ma;break;default:a=Xe}return l=X_.bind(null,e),a=Ae(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Cn(l),e.callbackPriority=2,e.callbackNode=null,2}function X_(e,i){if(He!==0&&He!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(xc()&&e.callbackNode!==a)return null;var l=Pt;return l=wi(e,e===ue?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(D_(e,l,i),Y_(e,ee()),e.callbackNode!=null&&e.callbackNode===a?X_.bind(null,e):null)}function $_(e,i){if(xc())return null;D_(e,i,!0)}function Cw(){jw(function(){(Zt&6)!==0?Ae(xr,Iw):Q_()})}function kd(){if(cr===0){var e=to;e===0&&(e=an,an<<=1,(an&261888)===0&&(an=256)),cr=e}return cr}function J_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:za(""+e)}function Z_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function Nw(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=J_((h[Ge]||null).action),y=l.submitter;y&&(i=(i=y[Ge]||null)?J_(i.formAction):y.getAttribute("formAction"),i!==null&&(d=i,y=null));var E=new xi("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(cr!==0){var R=y?Z_(h,y):new FormData(h);td(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(E.preventDefault(),R=y?Z_(h,y):new FormData(h),td(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var xd=0;xd<yf.length;xd++){var Ld=yf[xd],Dw=Ld.toLowerCase(),Ow=Ld[0].toUpperCase()+Ld.slice(1);fi(Dw,"on"+Ow)}fi(Ng,"onAnimationEnd"),fi(Dg,"onAnimationIteration"),fi(Og,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(QS,"onTransitionRun"),fi(YS,"onTransitionStart"),fi(XS,"onTransitionCancel"),fi(Mg,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function W_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var y=l.length-1;0<=y;y--){var E=l[y],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=z;try{d(h)}catch(K){Zu(K)}h.currentTarget=null,d=R}else for(y=0;y<l.length;y++){if(E=l[y],R=E.instance,z=E.currentTarget,E=E.listener,R!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=z;try{d(h)}catch(K){Zu(K)}h.currentTarget=null,d=R}}}}function Lt(e,i){var a=i[ka];a===void 0&&(a=i[ka]=new Set);var l=e+"__bubble";a.has(l)||(tv(i,e,2,!1),a.add(l))}function Ud(e,i,a){var l=0;i&&(l|=4),tv(a,e,l,i)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Pd(e){if(!e[Pc]){e[Pc]=!0,Qo.forEach(function(a){a!=="selectionchange"&&(Mw.has(a)||Ud(a,!1,e),Ud(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Pc]||(i[Pc]=!0,Ud("selectionchange",!1,i))}}function tv(e,i,a,l){switch(Nv(i)){case 2:var h=ab;break;case 8:h=ob;break;default:h=Wd}a=h.bind(null,i,a,e),h=void 0,!Hr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function zd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=Ci(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=d=y;continue t}E=E.parentNode}}l=l.return}Gs(function(){var z=d,K=Bn(a),$=[];t:{var j=Vg.get(e);if(j!==void 0){var H=xi,ut=e;switch(e){case"keypress":if(Gr(a)===0)break t;case"keydown":case"keyup":H=Xu;break;case"focusin":ut="focus",H=Qr;break;case"focusout":ut="blur",H=Qr;break;case"beforeblur":case"afterblur":H=Qr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Ng:case Dg:case Og:H=qu;break;case Mg:H=A;break;case"scroll":case"scrollend":H=rl;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=Hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ls;break;case"toggle":case"beforetoggle":H=Dt}var yt=(i&4)!==0,le=!yt&&(e==="scroll"||e==="scrollend"),k=yt?j!==null?j+"Capture":null:j;yt=[];for(var D=z,P;D!==null;){var Y=D;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=li(D,k),Y!=null&&yt.push(Ll(D,Y,P))),le)break;D=D.return}0<yt.length&&(j=new H(j,ut,null,a,K),$.push({event:j,listeners:yt}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&a!==nl&&(ut=a.relatedTarget||a.fromElement)&&(Ci(ut)||ut[Ri]))break t;if((H||j)&&(j=K.window===K?K:(j=K.ownerDocument)?j.defaultView||j.parentWindow:window,H?(ut=a.relatedTarget||a.toElement,H=z,ut=ut?Ci(ut):null,ut!==null&&(le=u(ut),yt=ut.tag,ut!==le||yt!==5&&yt!==27&&yt!==6)&&(ut=null)):(H=null,ut=z),H!==ut)){if(yt=al,Y="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(yt=ls,Y="onPointerLeave",k="onPointerEnter",D="pointer"),le=H==null?j:Dn(H),P=ut==null?j:Dn(ut),j=new yt(Y,D+"leave",H,a,K),j.target=le,j.relatedTarget=P,Y=null,Ci(K)===z&&(yt=new yt(k,D+"enter",ut,a,K),yt.target=P,yt.relatedTarget=le,Y=yt),le=Y,H&&ut)e:{for(yt=Vw,k=H,D=ut,P=0,Y=k;Y;Y=yt(Y))P++;Y=0;for(var pt=D;pt;pt=yt(pt))Y++;for(;0<P-Y;)k=yt(k),P--;for(;0<Y-P;)D=yt(D),Y--;for(;P--;){if(k===D||D!==null&&k===D.alternate){yt=k;break e}k=yt(k),D=yt(D)}yt=null}else yt=null;H!==null&&ev($,j,H,yt,!1),ut!==null&&le!==null&&ev($,le,ut,yt,!0)}}t:{if(j=z?Dn(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Xt=_g;else if(gg(j))if(vg)Xt=FS;else{Xt=qS;var ht=BS}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&Pa(z.elementType)&&(Xt=_g):Xt=HS;if(Xt&&(Xt=Xt(e,z))){yg($,Xt,a,K);break t}ht&&ht(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Wo(j,"number",j.value)}switch(ht=z?Dn(z):window,e){case"focusin":(gg(ht)||ht.contentEditable==="true")&&(Ka=ht,mf=z,hl=null);break;case"focusout":hl=mf=Ka=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,Ig($,a,K);break;case"selectionchange":if(KS)break;case"keydown":case"keyup":Ig($,a,K)}var Vt;if(Jt)t:{switch(e){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else Ga?Yr(e,a)&&(zt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(zt="onCompositionStart");zt&&(Pi&&a.locale!=="ko"&&(Ga||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&Ga&&(Vt=sl()):(ki=K,il="value"in ki?ki.value:ki.textContent,Ga=!0)),ht=zc(z,zt),0<ht.length&&(zt=new Ui(zt,e,null,a,K),$.push({event:zt,listeners:ht}),Vt?zt.data=Vt:(Vt=Fa(a),Vt!==null&&(zt.data=Vt)))),(Vt=Hn?US(e,a):PS(e,a))&&(zt=zc(z,"onBeforeInput"),0<zt.length&&(ht=new Ui("onBeforeInput","beforeinput",null,a,K),$.push({event:ht,listeners:zt}),ht.data=Vt)),Nw($,e,z,a,K)}W_($,i)})}function Ll(e,i,a){return{instance:e,listener:i,currentTarget:a}}function zc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=li(e,a),h!=null&&l.unshift(Ll(e,h,d)),h=li(e,i),h!=null&&l.push(Ll(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Vw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ev(e,i,a,l,h){for(var d=i._reactName,y=[];a!==null&&a!==l;){var E=a,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=li(a,d),z!=null&&y.unshift(Ll(a,z,R))):h||(z=li(a,d),z!=null&&y.push(Ll(a,z,R)))),a=a.return}y.length!==0&&e.push({event:i,listeners:y})}var kw=/\r\n?/g,xw=/\u0000|\uFFFD/g;function nv(e){return(typeof e=="string"?e:""+e).replace(kw,`
`).replace(xw,"")}function iv(e,i){return i=nv(i),nv(e)===i}function oe(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||vn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&vn(e,""+l);break;case"className":On(e,"class",l);break;case"tabIndex":On(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":On(e,a,l);break;case"style":el(e,l,d);break;case"data":if(i!=="object"){On(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=za(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&oe(e,i,"name",h.name,h,null),oe(e,i,"formEncType",h.formEncType,h,null),oe(e,i,"formMethod",h.formMethod,h,null),oe(e,i,"formTarget",h.formTarget,h,null)):(oe(e,i,"encType",h.encType,h,null),oe(e,i,"method",h.method,h,null),oe(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=za(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=oi);break;case"onScroll":l!=null&&Lt("scroll",e);break;case"onScrollEnd":l!=null&&Lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=za(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Lt("beforetoggle",e),Lt("toggle",e),La(e,"popover",l);break;case"xlinkActuate":ke(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ke(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ke(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ke(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ke(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ke(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ke(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ke(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ke(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":La(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zu.get(a)||a,La(e,a,l))}}function jd(e,i,a,l,h,d){switch(a){case"style":el(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?vn(e,l):(typeof l=="number"||typeof l=="bigint")&&vn(e,""+l);break;case"onScroll":l!=null&&Lt("scroll",e);break;case"onScrollEnd":l!=null&&Lt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Ge]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):La(e,a,l)}}}function tn(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",e),Lt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:oe(e,i,d,y,a,null)}}h&&oe(e,i,"srcSet",a.srcSet,a,null),l&&oe(e,i,"src",a.src,a,null);return;case"input":Lt("invalid",e);var E=d=y=h=null,R=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":y=K;break;case"checked":R=K;break;case"defaultChecked":z=K;break;case"value":d=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:oe(e,i,l,K,a,null)}}Lu(e,d,E,R,z,y,h,!1);return;case"select":Lt("invalid",e),l=y=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:oe(e,i,h,E,a,null)}i=d,a=y,e.multiple=!!l,i!=null?Bs(e,!!l,i,!1):a!=null&&Bs(e,!!l,a,!0);return;case"textarea":Lt("invalid",e),d=h=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:oe(e,i,y,E,a,null)}qs(e,l,h,d);return;case"option":for(R in a)a.hasOwnProperty(R)&&(l=a[R],l!=null)&&(R==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":oe(e,i,R,l,a,null));return;case"dialog":Lt("beforetoggle",e),Lt("toggle",e),Lt("cancel",e),Lt("close",e);break;case"iframe":case"object":Lt("load",e);break;case"video":case"audio":for(l=0;l<xl.length;l++)Lt(xl[l],e);break;case"image":Lt("error",e),Lt("load",e);break;case"details":Lt("toggle",e);break;case"embed":case"source":case"link":Lt("error",e),Lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:oe(e,i,z,l,a,null)}return;default:if(Pa(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&jd(e,i,K,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&oe(e,i,E,l,a,null))}function Lw(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,E=null,R=null,z=null,K=null;for(H in a){var $=a[H];if(a.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=$;default:l.hasOwnProperty(H)||oe(e,i,H,null,l,$)}}for(var j in l){var H=l[j];if($=a[j],l.hasOwnProperty(j)&&(H!=null||$!=null))switch(j){case"type":d=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":K=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==$&&oe(e,i,j,H,l,$)}}Ua(e,y,E,R,z,K,d,h);return;case"select":H=y=E=j=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":H=R;default:l.hasOwnProperty(d)||oe(e,i,d,null,l,R)}for(h in l)if(d=l[h],R=a[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":j=d;break;case"defaultValue":E=d;break;case"multiple":y=d;default:d!==R&&oe(e,i,h,d,l,R)}i=E,a=y,l=H,j!=null?Bs(e,!!a,j,!1):!!l!=!!a&&(i!=null?Bs(e,!!a,i,!0):Bs(e,!!a,a?[]:"",!1));return;case"textarea":H=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:oe(e,i,E,null,l,h)}for(y in l)if(h=l[y],d=a[y],l.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&oe(e,i,y,h,l,d)}Uu(e,j,H);return;case"option":for(var ut in a)j=a[ut],a.hasOwnProperty(ut)&&j!=null&&!l.hasOwnProperty(ut)&&(ut==="selected"?e.selected=!1:oe(e,i,ut,null,l,j));for(R in l)j=l[R],H=a[R],l.hasOwnProperty(R)&&j!==H&&(j!=null||H!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":oe(e,i,R,j,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)j=a[yt],a.hasOwnProperty(yt)&&j!=null&&!l.hasOwnProperty(yt)&&oe(e,i,yt,null,l,j);for(z in l)if(j=l[z],H=a[z],l.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,i));break;default:oe(e,i,z,j,l,H)}return;default:if(Pa(i)){for(var le in a)j=a[le],a.hasOwnProperty(le)&&j!==void 0&&!l.hasOwnProperty(le)&&jd(e,i,le,void 0,l,j);for(K in l)j=l[K],H=a[K],!l.hasOwnProperty(K)||j===H||j===void 0&&H===void 0||jd(e,i,K,j,l,H);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!l.hasOwnProperty(k)&&oe(e,i,k,null,l,j);for($ in l)j=l[$],H=a[$],!l.hasOwnProperty($)||j===H||j==null&&H==null||oe(e,i,$,j,l,H)}function sv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Uw(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,y=h.initiatorType,E=h.duration;if(d&&E&&sv(y)){for(y=0,E=h.responseEnd,l+=1;l<a.length;l++){var R=a[l],z=R.startTime;if(z>E)break;var K=R.transferSize,$=R.initiatorType;K&&sv($)&&(R=R.responseEnd,y+=K*(R<E?1:(E-z)/(R-z)))}if(--l,i+=8*(d+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Bd=null,qd=null;function jc(e){return e.nodeType===9?e:e.ownerDocument}function rv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function av(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Hd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fd=null;function Pw(){var e=window.event;return e&&e.type==="popstate"?e===Fd?!1:(Fd=e,!0):(Fd=null,!1)}var ov=typeof setTimeout=="function"?setTimeout:void 0,zw=typeof clearTimeout=="function"?clearTimeout:void 0,lv=typeof Promise=="function"?Promise:void 0,jw=typeof queueMicrotask=="function"?queueMicrotask:typeof lv<"u"?function(e){return lv.resolve(null).then(e).catch(Bw)}:ov;function Bw(e){setTimeout(function(){throw e})}function hr(e){return e==="head"}function uv(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Eo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ul(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ul(a);for(var d=a.firstChild;d;){var y=d.nextSibling,E=d.nodeName;d[Ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&Ul(e.ownerDocument.body);a=h}while(a);Eo(i)}function cv(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Gd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gd(a),xa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function qw(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ii])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=$n(e.nextSibling),e===null)break}return null}function Hw(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=$n(e.nextSibling),e===null))return null;return e}function hv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=$n(e.nextSibling),e===null))return null;return e}function Kd(e){return e.data==="$?"||e.data==="$~"}function Qd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Fw(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function $n(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Yd=null;function fv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return $n(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function dv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function mv(e,i,a){switch(i=jc(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ul(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);xa(e)}var Jn=new Map,pv=new Set;function Bc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ss=nt.d;nt.d={f:Gw,r:Kw,D:Qw,C:Yw,L:Xw,m:$w,X:Zw,S:Jw,M:Ww};function Gw(){var e=Ss.f(),i=Mc();return e||i}function Kw(e){var i=jn(e);i!==null&&i.tag===5&&i.type==="form"?My(i):Ss.r(e)}var yo=typeof document>"u"?null:document;function gv(e,i,a){var l=yo;if(l&&typeof i=="string"&&i){var h=_n(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),pv.has(h)||(pv.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),tn(i,"link",e),Ve(i),l.head.appendChild(i)))}}function Qw(e){Ss.D(e),gv("dns-prefetch",e,null)}function Yw(e,i){Ss.C(e,i),gv("preconnect",e,i)}function Xw(e,i,a){Ss.L(e,i,a);var l=yo;if(l&&e&&i){var h='link[rel="preload"][as="'+_n(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+_n(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+_n(a.imageSizes)+'"]')):h+='[href="'+_n(e)+'"]';var d=h;switch(i){case"style":d=_o(e);break;case"script":d=vo(e)}Jn.has(d)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Jn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Pl(d))||i==="script"&&l.querySelector(zl(d))||(i=l.createElement("link"),tn(i,"link",e),Ve(i),l.head.appendChild(i)))}}function $w(e,i){Ss.m(e,i);var a=yo;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+_n(l)+'"][href="'+_n(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=vo(e)}if(!Jn.has(d)&&(e=S({rel:"modulepreload",href:e},i),Jn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(zl(d)))return}l=a.createElement("link"),tn(l,"link",e),Ve(l),a.head.appendChild(l)}}}function Jw(e,i,a){Ss.S(e,i,a);var l=yo;if(l&&e){var h=Ni(l).hoistableStyles,d=_o(e);i=i||"default";var y=h.get(d);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Pl(d)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Jn.get(d))&&Xd(e,a);var R=y=l.createElement("link");Ve(R),tn(R,"link",e),R._p=new Promise(function(z,K){R.onload=z,R.onerror=K}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,qc(y,i,l)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(d,y)}}}function Zw(e,i){Ss.X(e,i);var a=yo;if(a&&e){var l=Ni(a).hoistableScripts,h=vo(e),d=l.get(h);d||(d=a.querySelector(zl(h)),d||(e=S({src:e,async:!0},i),(i=Jn.get(h))&&$d(e,i),d=a.createElement("script"),Ve(d),tn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Ww(e,i){Ss.M(e,i);var a=yo;if(a&&e){var l=Ni(a).hoistableScripts,h=vo(e),d=l.get(h);d||(d=a.querySelector(zl(h)),d||(e=S({src:e,async:!0,type:"module"},i),(i=Jn.get(h))&&$d(e,i),d=a.createElement("script"),Ve(d),tn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function yv(e,i,a,l){var h=(h=Rt.current)?Bc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=_o(a.href),a=Ni(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=_o(a.href);var d=Ni(h).hoistableStyles,y=d.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=h.querySelector(Pl(e)))&&!d._p&&(y.instance=d,y.state.loading=5),Jn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jn.set(e,a),d||tb(h,e,a,y.state))),i&&l===null)throw Error(r(528,""));return y}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=vo(a),a=Ni(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function _o(e){return'href="'+_n(e)+'"'}function Pl(e){return'link[rel="stylesheet"]['+e+"]"}function _v(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function tb(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),tn(i,"link",a),Ve(i),e.head.appendChild(i))}function vo(e){return'[src="'+_n(e)+'"]'}function zl(e){return"script[async]"+e}function vv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+_n(a.href)+'"]');if(l)return i.instance=l,Ve(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ve(l),tn(l,"style",h),qc(l,a.precedence,e),i.instance=l;case"stylesheet":h=_o(a.href);var d=e.querySelector(Pl(h));if(d)return i.state.loading|=4,i.instance=d,Ve(d),d;l=_v(a),(h=Jn.get(h))&&Xd(l,h),d=(e.ownerDocument||e).createElement("link"),Ve(d);var y=d;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),tn(d,"link",l),i.state.loading|=4,qc(d,a.precedence,e),i.instance=d;case"script":return d=vo(a.src),(h=e.querySelector(zl(d)))?(i.instance=h,Ve(h),h):(l=a,(h=Jn.get(d))&&(l=S({},a),$d(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ve(h),tn(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,qc(l,a.precedence,e));return i.instance}function qc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Xd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function $d(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Hc=null;function Ev(e,i,a){if(Hc===null){var l=new Map,h=Hc=new Map;h.set(a,l)}else h=Hc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Ii]||d[Me]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(i)||"";y=e+y;var E=l.get(y);E?E.push(d):l.set(y,[d])}}return l}function Tv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function eb(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Av(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function nb(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=_o(l.href),d=i.querySelector(Pl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Fc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ve(d);return}d=i.ownerDocument||i,l=_v(l),(h=Jn.get(h))&&Xd(l,h),d=d.createElement("link"),Ve(d);var y=d;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),tn(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Fc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Jd=0;function ib(e,i){return e.stylesheets&&e.count===0&&Kc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Kc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Jd===0&&(Jd=62500*Uw());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Kc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Jd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Gc=null;function Kc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Gc=new Map,i.forEach(sb,e),Gc=null,Fc.call(e))}function sb(e,i){if(!(i.state.loading&4)){var a=Gc.get(e);if(a)var l=a.get(null);else{a=new Map,Gc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}h=i.instance,y=h.getAttribute("data-precedence"),d=a.get(y)||l,d===l&&a.set(null,h),a.set(y,h),this.count++,l=Fc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var jl={$$typeof:Tt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function rb(e,i,a,l,h,d,y,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Sv(e,i,a,l,h,d,y,E,R,z,K,$){return e=new rb(e,i,a,y,R,z,K,$,E),i=1,d===!0&&(i|=24),d=Vn(3,null,null,i),e.current=d,d.stateNode=e,i=Df(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},kf(d),e}function wv(e){return e?(e=Xa,e):Xa}function bv(e,i,a,l,h,d){h=wv(h),l.context===null?l.context=h:l.pendingContext=h,l=tr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=er(e,l,i),a!==null&&(wn(a,e,i),_l(a,e,i))}function Rv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Zd(e,i){Rv(e,i),(e=e.alternate)&&Rv(e,i)}function Iv(e){if(e.tag===13||e.tag===31){var i=Jr(e,67108864);i!==null&&wn(i,e,67108864),Zd(e,67108864)}}function Cv(e){if(e.tag===13||e.tag===31){var i=Pn();i=zr(i);var a=Jr(e,i);a!==null&&wn(a,e,i),Zd(e,i)}}var Qc=!0;function ab(e,i,a,l){var h=G.T;G.T=null;var d=nt.p;try{nt.p=2,Wd(e,i,a,l)}finally{nt.p=d,G.T=h}}function ob(e,i,a,l){var h=G.T;G.T=null;var d=nt.p;try{nt.p=8,Wd(e,i,a,l)}finally{nt.p=d,G.T=h}}function Wd(e,i,a,l){if(Qc){var h=tm(l);if(h===null)zd(e,i,l,Yc,a),Dv(e,l);else if(ub(h,e,i,a,l))l.stopPropagation();else if(Dv(e,l),i&4&&-1<lb.indexOf(e)){for(;h!==null;){var d=jn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=Si(d.pendingLanes);if(y!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-vt(y);E.entanglements[1]|=R,y&=~R}qi(d),(Zt&6)===0&&(Dc=ee()+500,kl(0))}}break;case 31:case 13:E=Jr(d,2),E!==null&&wn(E,d,2),Mc(),Zd(d,2)}if(d=tm(l),d===null&&zd(e,i,l,Yc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else zd(e,i,l,null,a)}}function tm(e){return e=Bn(e),em(e)}var Yc=null;function em(e){if(Yc=null,e=Ci(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=p(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Yc=e,null}function Nv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nt()){case xr:return 2;case zs:return 8;case Xe:case Oa:return 32;case Ma:return 268435456;default:return 32}default:return 32}}var nm=!1,fr=null,dr=null,mr=null,Bl=new Map,ql=new Map,pr=[],lb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dv(e,i){switch(e){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":Bl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(i.pointerId)}}function Hl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=jn(i),i!==null&&Iv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function ub(e,i,a,l,h){switch(i){case"focusin":return fr=Hl(fr,e,i,a,l,h),!0;case"dragenter":return dr=Hl(dr,e,i,a,l,h),!0;case"mouseover":return mr=Hl(mr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Bl.set(d,Hl(Bl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ql.set(d,Hl(ql.get(d)||null,e,i,a,l,h)),!0}return!1}function Ov(e){var i=Ci(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,ri(e.priority,function(){Cv(a)});return}}else if(i===31){if(i=p(a),i!==null){e.blockedOn=i,ri(e.priority,function(){Cv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=tm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);nl=l,a.target.dispatchEvent(l),nl=null}else return i=jn(a),i!==null&&Iv(i),e.blockedOn=a,!1;i.shift()}return!0}function Mv(e,i,a){Xc(e)&&a.delete(i)}function cb(){nm=!1,fr!==null&&Xc(fr)&&(fr=null),dr!==null&&Xc(dr)&&(dr=null),mr!==null&&Xc(mr)&&(mr=null),Bl.forEach(Mv),ql.forEach(Mv)}function $c(e,i){e.blockedOn===i&&(e.blockedOn=null,nm||(nm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,cb)))}var Jc=null;function Vv(e){Jc!==e&&(Jc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Jc===e&&(Jc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(em(l||a)===null)continue;break}var d=jn(a);d!==null&&(e.splice(i,3),i-=3,td(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Eo(e){function i(R){return $c(R,e)}fr!==null&&$c(fr,e),dr!==null&&$c(dr,e),mr!==null&&$c(mr,e),Bl.forEach(i),ql.forEach(i);for(var a=0;a<pr.length;a++){var l=pr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<pr.length&&(a=pr[0],a.blockedOn===null);)Ov(a),a.blockedOn===null&&pr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],y=h[Ge]||null;if(typeof d=="function")y||Vv(a);else if(y){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[Ge]||null)E=y.formAction;else if(em(h)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Vv(a)}}}function kv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function im(e){this._internalRoot=e}Zc.prototype.render=im.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Pn();bv(a,l,e,i,null,null)},Zc.prototype.unmount=im.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;bv(e.current,2,null,e,null,null),Mc(),i[Ri]=null}};function Zc(e){this._internalRoot=e}Zc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Mu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<pr.length&&i!==0&&i<pr[a].priority;a++);pr.splice(a,0,e),a===0&&Ov(e)}};var xv=t.version;if(xv!=="19.2.4")throw Error(r(527,xv,"19.2.4"));nt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(i),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var hb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{Nn=Wc.inject(hb),qe=Wc}catch{}}return Gl.createRoot=function(e,i){if(!o(e))throw Error(r(299));var a=!1,l="",h=qy,d=Hy,y=Fy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=Sv(e,1,!1,null,null,a,l,null,h,d,y,kv),e[Ri]=i.current,Pd(e),new im(i)},Gl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(r(299));var l=!1,h="",d=qy,y=Hy,E=Fy,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),i=Sv(e,1,!0,i,a??null,l,h,R,d,y,E,kv),i.context=wv(null),a=i.current,l=Pn(),l=zr(l),h=tr(l),h.callback=null,er(a,h,l),a=l,i.current.lanes=a,Ur(i,a),qi(i),e[Ri]=i.current,Pd(e),new Zc(i)},Gl.version="19.2.4",Gl}var Gv;function Sb(){if(Gv)return am.exports;Gv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),am.exports=Ab(),am.exports}var wb=Sb();const bb="1.0.1",Rb={version:bb},Ib=()=>{};var Kv={};const kT=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Cb=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],p=s[n++],_=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const u=s[n++],f=s[n++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},xT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,p=f?s[o+1]:0,_=o+2<s.length,g=_?s[o+2]:0,T=u>>2,S=(u&3)<<4|p>>4;let C=(p&15)<<2|g>>6,F=g&63;_||(F=64,f||(C=64)),r.push(n[T],n[S],n[C],n[F])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(kT(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):Cb(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],p=o<s.length?n[s.charAt(o)]:0;++o;const g=o<s.length?n[s.charAt(o)]:64;++o;const S=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||p==null||g==null||S==null)throw new Nb;const C=u<<2|p>>4;if(r.push(C),g!==64){const F=p<<4&240|g>>2;if(r.push(F),S!==64){const Z=g<<6&192|S;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Nb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Db=function(s){const t=kT(s);return xT.encodeByteArray(t,!0)},gh=function(s){return Db(s).replace(/\./g,"")},LT=function(s){try{return xT.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ob(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Mb=()=>Ob().__FIREBASE_DEFAULTS__,Vb=()=>{if(typeof process>"u"||typeof Kv>"u")return;const s=Kv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},kb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&LT(s[1]);return t&&JSON.parse(t)},Lh=()=>{try{return Ib()||Mb()||Vb()||kb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},UT=s=>Lh()?.emulatorHosts?.[s],xb=s=>{const t=UT(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},PT=()=>Lh()?.config,zT=s=>Lh()?.[`_${s}`];class Lb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function Lo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jT(s){return(await fetch(s,{credentials:"include"})).ok}function Ub(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[gh(JSON.stringify(n)),gh(JSON.stringify(f)),""].join(".")}const Jl={};function Pb(){const s={prod:[],emulator:[]};for(const t of Object.keys(Jl))Jl[t]?s.emulator.push(t):s.prod.push(t);return s}function zb(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let Qv=!1;function BT(s,t){if(typeof window>"u"||typeof document>"u"||!Lo(window.location.host)||Jl[s]===t||Jl[s]||Qv)return;Jl[s]=t;function n(C){return`__firebase__banner__${C}`}const r="__firebase__banner",u=Pb().prod.length>0;function f(){const C=document.getElementById(r);C&&C.remove()}function p(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function _(C,F){C.setAttribute("width","24"),C.setAttribute("id",F),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function g(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Qv=!0,f()},C}function T(C,F){C.setAttribute("id",F),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function S(){const C=zb(r),F=n("text"),Z=document.getElementById(F)||document.createElement("span"),tt=n("learnmore"),W=document.getElementById(tt)||document.createElement("a"),rt=n("preprendIcon"),dt=document.getElementById(rt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const Tt=C.element;p(Tt),T(W,tt);const Ht=g();_(dt,rt),Tt.append(dt,Z,W,Ht),document.body.appendChild(Tt)}u?(Z.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function Bb(){const s=Lh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Hb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Fb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Gb(){const s=dn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Kb(){return!Bb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qT(){try{return typeof indexedDB=="object"}catch{return!1}}function HT(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}function Qb(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Yb="FirebaseError";class ts extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Yb,Object.setPrototypeOf(this,ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ia.prototype.create)}}class Ia{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?Xb(u,r):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new ts(o,p,r)}}function Xb(s,t){return s.replace($b,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const $b=/\{\$([^}]+)}/g;function Jb(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function ga(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=t[o];if(Yv(u)&&Yv(f)){if(!ga(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Yv(s){return s!==null&&typeof s=="object"}function gu(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Zb(s,t){const n=new Wb(s,t);return n.subscribe.bind(n)}class Wb{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");t1(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=cm),o.error===void 0&&(o.error=cm),o.complete===void 0&&(o.complete=cm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function t1(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function cm(){}function ve(s){return s&&s._delegate?s._delegate:s}class vi{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ca="[DEFAULT]";class e1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Lb;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(i1(t))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=ca){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ca){return this.instances.has(t)}getOptions(t=ca){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&f.resolve(o)}return o}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:n1(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ca){return this.component?this.component.multipleInstances?t:ca:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function n1(s){return s===ca?void 0:s}function i1(s){return s.instantiationMode==="EAGER"}class s1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new e1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var jt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(jt||(jt={}));const r1={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},a1=jt.INFO,o1={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},l1=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=o1[t];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ap{constructor(t){this.name=t,this._logLevel=a1,this._logHandler=l1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?r1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const u1=(s,t)=>t.some(n=>s instanceof n);let Xv,$v;function c1(){return Xv||(Xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h1(){return $v||($v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FT=new WeakMap,Dm=new WeakMap,GT=new WeakMap,hm=new WeakMap,op=new WeakMap;function f1(s){const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(Cs(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&FT.set(n,s)}).catch(()=>{}),op.set(t,s),t}function d1(s){if(Dm.has(s))return;const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});Dm.set(s,t)}let Om={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return Dm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||GT.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cs(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function m1(s){Om=s(Om)}function p1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(fm(this),t,...n);return GT.set(r,t.sort?t.sort():[t]),Cs(r)}:h1().includes(s)?function(...t){return s.apply(fm(this),t),Cs(FT.get(this))}:function(...t){return Cs(s.apply(fm(this),t))}}function g1(s){return typeof s=="function"?p1(s):(s instanceof IDBTransaction&&d1(s),u1(s,c1())?new Proxy(s,Om):s)}function Cs(s){if(s instanceof IDBRequest)return f1(s);if(hm.has(s))return hm.get(s);const t=g1(s);return t!==s&&(hm.set(s,t),op.set(t,s)),t}const fm=s=>op.get(s);function Uh(s,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,t),p=Cs(f);return r&&f.addEventListener("upgradeneeded",_=>{r(Cs(f.result),_.oldVersion,_.newVersion,Cs(f.transaction),_)}),n&&f.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),p.then(_=>{u&&_.addEventListener("close",()=>u()),o&&_.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}function dm(s,{blocked:t}={}){const n=indexedDB.deleteDatabase(s);return t&&n.addEventListener("blocked",r=>t(r.oldVersion,r)),Cs(n).then(()=>{})}const y1=["get","getKey","getAll","getAllKeys","count"],_1=["put","add","delete","clear"],mm=new Map;function Jv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(mm.get(t))return mm.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=_1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||y1.includes(n)))return;const u=async function(f,...p){const _=this.transaction(f,o?"readwrite":"readonly");let g=_.store;return r&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),o&&_.done]))[0]};return mm.set(t,u),u}m1(s=>({...s,get:(t,n,r)=>Jv(t,n)||s.get(t,n,r),has:(t,n)=>!!Jv(t,n)||s.has(t,n)}));class v1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(E1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function E1(s){return s.getComponent()?.type==="VERSION"}const Mm="@firebase/app",Zv="0.14.9";const Os=new ap("@firebase/app"),T1="@firebase/app-compat",A1="@firebase/analytics-compat",S1="@firebase/analytics",w1="@firebase/app-check-compat",b1="@firebase/app-check",R1="@firebase/auth",I1="@firebase/auth-compat",C1="@firebase/database",N1="@firebase/data-connect",D1="@firebase/database-compat",O1="@firebase/functions",M1="@firebase/functions-compat",V1="@firebase/installations",k1="@firebase/installations-compat",x1="@firebase/messaging",L1="@firebase/messaging-compat",U1="@firebase/performance",P1="@firebase/performance-compat",z1="@firebase/remote-config",j1="@firebase/remote-config-compat",B1="@firebase/storage",q1="@firebase/storage-compat",H1="@firebase/firestore",F1="@firebase/ai",G1="@firebase/firestore-compat",K1="firebase",Q1="12.10.0";const Vm="[DEFAULT]",Y1={[Mm]:"fire-core",[T1]:"fire-core-compat",[S1]:"fire-analytics",[A1]:"fire-analytics-compat",[b1]:"fire-app-check",[w1]:"fire-app-check-compat",[R1]:"fire-auth",[I1]:"fire-auth-compat",[C1]:"fire-rtdb",[N1]:"fire-data-connect",[D1]:"fire-rtdb-compat",[O1]:"fire-fn",[M1]:"fire-fn-compat",[V1]:"fire-iid",[k1]:"fire-iid-compat",[x1]:"fire-fcm",[L1]:"fire-fcm-compat",[U1]:"fire-perf",[P1]:"fire-perf-compat",[z1]:"fire-rc",[j1]:"fire-rc-compat",[B1]:"fire-gcs",[q1]:"fire-gcs-compat",[H1]:"fire-fst",[G1]:"fire-fst-compat",[F1]:"fire-vertex","fire-js":"fire-js",[K1]:"fire-js-all"};const yh=new Map,X1=new Map,km=new Map;function Wv(s,t){try{s.container.addComponent(t)}catch(n){Os.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function Xi(s){const t=s.name;if(km.has(t))return Os.debug(`There were multiple attempts to register component ${t}.`),!1;km.set(t,s);for(const n of yh.values())Wv(n,s);for(const n of X1.values())Wv(n,s);return!0}function Uo(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function Zn(s){return s==null?!1:s.settings!==void 0}const $1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ar=new Ia("app","Firebase",$1);class J1{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}const Po=Q1;function KT(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:Vm,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Ar.create("bad-app-name",{appName:String(o)});if(n||(n=PT()),!n)throw Ar.create("no-options");const u=yh.get(o);if(u){if(ga(n,u.options)&&ga(r,u.config))return u;throw Ar.create("duplicate-app",{appName:o})}const f=new s1(o);for(const _ of km.values())f.addComponent(_);const p=new J1(n,r,f);return yh.set(o,p),p}function lp(s=Vm){const t=yh.get(s);if(!t&&s===Vm&&PT())return KT();if(!t)throw Ar.create("no-app",{appName:s});return t}function ti(s,t,n){let r=Y1[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${t}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Os.warn(f.join(" "));return}Xi(new vi(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Z1="firebase-heartbeat-database",W1=1,iu="firebase-heartbeat-store";let pm=null;function QT(){return pm||(pm=Uh(Z1,W1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(iu)}catch(n){console.warn(n)}}}}).catch(s=>{throw Ar.create("idb-open",{originalErrorMessage:s.message})})),pm}async function tR(s){try{const n=(await QT()).transaction(iu),r=await n.objectStore(iu).get(YT(s));return await n.done,r}catch(t){if(t instanceof ts)Os.warn(t.message);else{const n=Ar.create("idb-get",{originalErrorMessage:t?.message});Os.warn(n.message)}}}async function tE(s,t){try{const r=(await QT()).transaction(iu,"readwrite");await r.objectStore(iu).put(t,YT(s)),await r.done}catch(n){if(n instanceof ts)Os.warn(n.message);else{const r=Ar.create("idb-set",{originalErrorMessage:n?.message});Os.warn(r.message)}}}function YT(s){return`${s.name}!${s.options.appId}`}const eR=1024,nR=30;class iR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=eE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>nR){const o=aR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Os.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=eE(),{heartbeatsToSend:n,unsentEntries:r}=sR(this._heartbeatsCache.heartbeats),o=gh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Os.warn(t),""}}}function eE(){return new Date().toISOString().substring(0,10)}function sR(s,t=eR){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),nE(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),nE(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qT()?HT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return tE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return tE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function nE(s){return gh(JSON.stringify({version:2,heartbeats:s})).length}function aR(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}function oR(s){Xi(new vi("platform-logger",t=>new v1(t),"PRIVATE")),Xi(new vi("heartbeat",t=>new iR(t),"PRIVATE")),ti(Mm,Zv,s),ti(Mm,Zv,"esm2020"),ti("fire-js","")}oR("");function XT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lR=XT,$T=new Ia("auth","Firebase",XT());const _h=new ap("@firebase/auth");function uR(s,...t){_h.logLevel<=jt.WARN&&_h.warn(`Auth (${Po}): ${s}`,...t)}function ah(s,...t){_h.logLevel<=jt.ERROR&&_h.error(`Auth (${Po}): ${s}`,...t)}function $i(s,...t){throw cp(s,...t)}function gi(s,...t){return cp(s,...t)}function up(s,t,n){const r={...lR(),[t]:n};return new Ia("auth","Firebase",r).create(t,{appName:s.name})}function Sr(s){return up(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JT(s,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&$i(s,"argument-error"),up(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cp(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return $T.create(s,...t)}function St(s,t,...n){if(!s)throw cp(t,...n)}function Rs(s){const t="INTERNAL ASSERTION FAILED: "+s;throw ah(t),new Error(t)}function Ms(s,t){s||Rs(t)}function xm(){return typeof self<"u"&&self.location?.href||""}function cR(){return iE()==="http:"||iE()==="https:"}function iE(){return typeof self<"u"&&self.location?.protocol||null}function hR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cR()||Hb()||"connection"in navigator)?navigator.onLine:!0}function fR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class yu{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ms(n>t,"Short delay should be less than long delay!"),this.isMobile=jb()||Fb()}get(){return hR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hp(s,t){Ms(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class ZT{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const mR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pR=new yu(3e4,6e4);function fp(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function zo(s,t,n,r,o={}){return WT(s,o,async()=>{let u={},f={};r&&(t==="GET"?f=r:u={body:JSON.stringify(r)});const p=gu({key:s.config.apiKey,...f}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const g={method:t,headers:_,...u};return qb()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&Lo(s.emulatorConfig.host)&&(g.credentials="include"),ZT.fetch()(await tA(s,s.config.apiHost,n,p),g)})}async function WT(s,t,n){s._canInitEmulator=!1;const r={...dR,...t};try{const o=new yR(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw th(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[_,g]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(s,"credential-already-in-use",f);if(_==="EMAIL_EXISTS")throw th(s,"email-already-in-use",f);if(_==="USER_DISABLED")throw th(s,"user-disabled",f);const T=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw up(s,T,g);$i(s,T)}}catch(o){if(o instanceof ts)throw o;$i(s,"network-request-failed",{message:String(o)})}}async function gR(s,t,n,r,o={}){const u=await zo(s,t,n,r,o);return"mfaPendingCredential"in u&&$i(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function tA(s,t,n,r){const o=`${t}${n}?${r}`,u=s,f=u.config.emulator?hp(s.config,o):`${s.config.apiScheme}://${o}`;return mR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class yR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gi(this.auth,"network-request-failed")),pR.get())})}}function th(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=gi(s,t,r);return o.customData._tokenResponse=n,o}async function _R(s,t){return zo(s,"POST","/v1/accounts:delete",t)}async function vh(s,t){return zo(s,"POST","/v1/accounts:lookup",t)}function Zl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function vR(s,t=!1){const n=ve(s),r=await n.getIdToken(t),o=dp(r);St(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:Zl(gm(o.auth_time)),issuedAtTime:Zl(gm(o.iat)),expirationTime:Zl(gm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function gm(s){return Number(s)*1e3}function dp(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=LT(n);return o?JSON.parse(o):(ah("Failed to decode base64 JWT payload"),null)}catch(o){return ah("Caught error parsing JWT payload as JSON",o?.toString()),null}}function sE(s){const t=dp(s);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function su(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof ts&&ER(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function ER({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class TR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Lm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Eh(s){const t=s.auth,n=await s.getIdToken(),r=await su(s,vh(t,{idToken:n}));St(r?.users.length,t,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?eA(o.providerUserInfo):[],f=SR(s.providerData,u),p=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!f?.length,g=p?_:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Lm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(s,T)}async function AR(s){const t=ve(s);await Eh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function SR(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function eA(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function wR(s,t){const n=await WT(s,{},async()=>{const r=gu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await tA(s,o,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return s.emulatorConfig&&Lo(s.emulatorConfig.host)&&(_.credentials="include"),ZT.fetch()(f,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bR(s,t){return zo(s,"POST","/v2/accounts:revokeToken",fp(s,t))}class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):sE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){St(t.length!==0,"internal-error");const n=sE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await wR(t,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new bo;return r&&(St(typeof r=="string","internal-error",{appName:t}),f.refreshToken=r),o&&(St(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(St(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return Rs("not implemented")}}function yr(s,t){St(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class pi{constructor({uid:t,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new TR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Lm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await su(this,this.stsTokenManager.getToken(this.auth,t));return St(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return vR(this,t)}reload(){return AR(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new pi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Eh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Sr(this.auth));const t=await this.getIdToken();return await su(this,_R(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,_=n._redirectEventId??void 0,g=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:C,isAnonymous:F,providerData:Z,stsTokenManager:tt}=n;St(S&&tt,t,"internal-error");const W=bo.fromJSON(this.name,tt);St(typeof S=="string",t,"internal-error"),yr(r,t.name),yr(o,t.name),St(typeof C=="boolean",t,"internal-error"),St(typeof F=="boolean",t,"internal-error"),yr(u,t.name),yr(f,t.name),yr(p,t.name),yr(_,t.name),yr(g,t.name),yr(T,t.name);const rt=new pi({uid:S,auth:t,email:o,emailVerified:C,displayName:r,isAnonymous:F,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:W,createdAt:g,lastLoginAt:T});return Z&&Array.isArray(Z)&&(rt.providerData=Z.map(dt=>({...dt}))),_&&(rt._redirectEventId=_),rt}static async _fromIdTokenResponse(t,n,r=!1){const o=new bo;o.updateFromServerResponse(n);const u=new pi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await Eh(u),u}static async _fromGetAccountInfoResponse(t,n,r){const o=n.users[0];St(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?eA(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,p=new bo;p.updateFromIdToken(r);const _=new pi({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Lm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(_,g),_}}const rE=new Map;function Is(s){Ms(s instanceof Function,"Expected a class definition");let t=rE.get(s);return t?(Ms(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,rE.set(s,t),t)}class nA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}nA.type="NONE";const aE=nA;function oh(s,t,n){return`firebase:${s}:${t}:${n}`}class Ro{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=oh(this.userKey,o.apiKey,u),this.fullPersistenceKey=oh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await vh(this.auth,{idToken:t}).catch(()=>{});return n?pi._fromGetAccountInfoResponse(this.auth,n,t):null}return pi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Ro(Is(aE),t,r);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Is(aE);const f=oh(r,t.config.apiKey,t.name);let p=null;for(const g of n)try{const T=await g._get(f);if(T){let S;if(typeof T=="string"){const C=await vh(t,{idToken:T}).catch(()=>{});if(!C)break;S=await pi._fromGetAccountInfoResponse(t,C,T)}else S=pi._fromJSON(t,T);g!==u&&(p=S),u=g;break}}catch{}const _=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new Ro(u,t,r):(u=_[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Ro(u,t,r))}}function oE(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(aA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(iA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lA(t))return"Blackberry";if(uA(t))return"Webos";if(sA(t))return"Safari";if((t.includes("chrome/")||rA(t))&&!t.includes("edge/"))return"Chrome";if(oA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function iA(s=dn()){return/firefox\//i.test(s)}function sA(s=dn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function rA(s=dn()){return/crios\//i.test(s)}function aA(s=dn()){return/iemobile/i.test(s)}function oA(s=dn()){return/android/i.test(s)}function lA(s=dn()){return/blackberry/i.test(s)}function uA(s=dn()){return/webos/i.test(s)}function mp(s=dn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function RR(s=dn()){return mp(s)&&!!window.navigator?.standalone}function IR(){return Gb()&&document.documentMode===10}function cA(s=dn()){return mp(s)||oA(s)||uA(s)||lA(s)||/windows phone/i.test(s)||aA(s)}function hA(s,t=[]){let n;switch(s){case"Browser":n=oE(dn());break;case"Worker":n=`${oE(dn())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Po}/${r}`}class CR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((f,p)=>{try{const _=t(u);f(_)}catch(_){p(_)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function NR(s,t={}){return zo(s,"GET","/v2/passwordPolicy",fp(s,t))}const DR=6;class OR{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??DR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class MR{constructor(t,n,r,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new CR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$T,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Is(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ro.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await vh(this,{idToken:t}),r=await pi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!u||u===f)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Eh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=fR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zn(this.app))return Promise.reject(Sr(this));const n=t?ve(t):null;return n&&St(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zn(this.app)?Promise.reject(Sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Is(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await NR(this),n=new OR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ia("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await bR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Is(t)||this._popupRedirectResolver;St(n,this,"argument-error"),this.redirectPersistenceManager=await Ro.create(this,[Is(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const _=t.addObserver(n,r,o);return()=>{f=!0,_()}}else{const _=t.addObserver(n);return()=>{f=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=hA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&uR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function jo(s){return ve(s)}class lE{constructor(t){this.auth=t,this.observer=null,this.addObserver=Zb(n=>this.observer=n)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VR(s){pp=s}function kR(s){return pp.loadJS(s)}function xR(){return pp.gapiScript}function LR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function fA(s,t){const n=Uo(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ga(u,t??{}))return o;$i(o,"already-initialized")}return n.initialize({options:t})}function UR(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Is);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function PR(s,t,n){const r=jo(s);St(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=dA(t),{host:f,port:p}=zR(t),_=p===null?"":`:${p}`,g={url:`${u}//${f}${_}/`},T=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){St(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),St(ga(g,r.config.emulator)&&ga(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,Lo(f)?(jT(`${u}//${f}${_}`),BT("Auth",!0)):jR()}function dA(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function zR(s){const t=dA(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:uE(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:uE(f)}}}function uE(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function jR(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class mA{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Rs("not implemented")}_getIdTokenResponse(t){return Rs("not implemented")}_linkToIdToken(t,n){return Rs("not implemented")}_getReauthenticationResolver(t){return Rs("not implemented")}}async function Io(s,t){return gR(s,"POST","/v1/accounts:signInWithIdp",fp(s,t))}const BR="http://localhost";class ya extends mA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ya(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):$i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new ya(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Io(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Io(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Io(t,n)}buildRequest(){const t={requestUri:BR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=gu(n)}return t}}class Ph{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class _u extends Ph{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class _r extends _u{constructor(){super("facebook.com")}static credential(t){return ya._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _r.credentialFromTaggedObject(t)}static credentialFromError(t){return _r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _r.credential(t.oauthAccessToken)}catch{return null}}}_r.FACEBOOK_SIGN_IN_METHOD="facebook.com";_r.PROVIDER_ID="facebook.com";class bs extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ya._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return bs.credentialFromTaggedObject(t)}static credentialFromError(t){return bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return bs.credential(n,r)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";class vr extends _u{constructor(){super("github.com")}static credential(t){return ya._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vr.credentialFromTaggedObject(t)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vr.credential(t.oauthAccessToken)}catch{return null}}}vr.GITHUB_SIGN_IN_METHOD="github.com";vr.PROVIDER_ID="github.com";class Er extends _u{constructor(){super("twitter.com")}static credential(t,n){return ya._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Er.credential(n,r)}catch{return null}}}Er.TWITTER_SIGN_IN_METHOD="twitter.com";Er.PROVIDER_ID="twitter.com";class Do{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,o=!1){const u=await pi._fromIdTokenResponse(t,r,o),f=cE(r);return new Do({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const o=cE(r);return new Do({user:t,providerId:o,_tokenResponse:r,operationType:n})}}function cE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Th extends ts{constructor(t,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Th.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,o){return new Th(t,n,r,o)}}function pA(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Th._fromErrorAndOperation(s,u,t,r):u})}async function qR(s,t,n=!1){const r=await su(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return Do._forOperation(s,"link",r)}async function HR(s,t,n=!1){const{auth:r}=s;if(Zn(r.app))return Promise.reject(Sr(r));const o="reauthenticate";try{const u=await su(s,pA(r,o,t,s),n);St(u.idToken,r,"internal-error");const f=dp(u.idToken);St(f,r,"internal-error");const{sub:p}=f;return St(s.uid===p,r,"user-mismatch"),Do._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&$i(r,"user-mismatch"),u}}async function FR(s,t,n=!1){if(Zn(s.app))return Promise.reject(Sr(s));const r="signIn",o=await pA(s,r,t),u=await Do._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}function GR(s,t,n,r){return ve(s).onIdTokenChanged(t,n,r)}function KR(s,t,n){return ve(s).beforeAuthStateChanged(t,n)}function QR(s,t,n,r){return ve(s).onAuthStateChanged(t,n,r)}function YR(s){return ve(s).signOut()}const Ah="__sak";class gA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const XR=1e3,$R=10;class yA extends gA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&t(n,o,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,p,_)=>{this.notifyListeners(f,_)});return}const r=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);IR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,$R):o()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},XR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}yA.type="LOCAL";const _A=yA;class vA extends gA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}vA.type="SESSION";const gp=vA;function JR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class zh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const r=new zh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(f).map(async g=>g(n.origin,u)),_=await JR(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:_})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zh.receivers=[];function yp(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}class ZR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,_)=>{const g=yp("",20);o.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(S){const C=S;if(C.data.eventId===g)switch(C.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(C.data.response);break;default:clearTimeout(T),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Fi(){return window}function WR(s){Fi().location.href=s}function EA(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function tI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eI(){return navigator?.serviceWorker?.controller||null}function nI(){return EA()?self:null}const TA="firebaseLocalStorageDb",iI=1,Sh="firebaseLocalStorage",AA="fbase_key";class vu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jh(s,t){return s.transaction([Sh],t?"readwrite":"readonly").objectStore(Sh)}function sI(){const s=indexedDB.deleteDatabase(TA);return new vu(s).toPromise()}function Um(){const s=indexedDB.open(TA,iI);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Sh,{keyPath:AA})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Sh)?t(r):(r.close(),await sI(),t(await Um()))})})}async function hE(s,t,n){const r=jh(s,!0).put({[AA]:t,value:n});return new vu(r).toPromise()}async function rI(s,t){const n=jh(s,!1).get(t),r=await new vu(n).toPromise();return r===void 0?null:r.value}function fE(s,t){const n=jh(s,!0).delete(t);return new vu(n).toPromise()}const aI=800,oI=3;class SA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Um(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>oI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return EA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zh._getInstance(nI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await tI(),!this.activeServiceWorker)return;this.sender=new ZR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||eI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Um();return await hE(t,Ah,"1"),await fE(t,Ah),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hE(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>rI(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>fE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=jh(o,!1).getAll();return new vu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SA.type="LOCAL";const wA=SA;new yu(3e4,6e4);function _p(s,t){return t?Is(t):(St(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class vp extends mA{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Io(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Io(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Io(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function lI(s){return FR(s.auth,new vp(s),s.bypassAuthState)}function uI(s){const{auth:t,user:n}=s;return St(n,t,"internal-error"),HR(n,new vp(s),s.bypassAuthState)}async function cI(s){const{auth:t,user:n}=s;return St(n,t,"internal-error"),qR(n,new vp(s),s.bypassAuthState)}class bA{constructor(t,n,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:p}=t;if(f){this.reject(f);return}const _={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return lI;case"linkViaPopup":case"linkViaRedirect":return cI;case"reauthViaPopup":case"reauthViaRedirect":return uI;default:$i(this.auth,"internal-error")}}resolve(t){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hI=new yu(2e3,1e4);async function fI(s,t,n){if(Zn(s.app))return Promise.reject(gi(s,"operation-not-supported-in-this-environment"));const r=jo(s);JT(s,t,Ph);const o=_p(r,n);return new ha(r,"signInViaPopup",t,o).executeNotNull()}class ha extends bA{constructor(t,n,r,o,u){super(t,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,ha.currentPopupAction&&ha.currentPopupAction.cancel(),ha.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){Ms(this.filter.length===1,"Popup operations only handle one event");const t=yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ha.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,hI.get())};t()}}ha.currentPopupAction=null;const dI="pendingRedirect",lh=new Map;class mI extends bA{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=lh.get(this.auth._key());if(!t){try{const r=await pI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}lh.set(this.auth._key(),t)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pI(s,t){const n=IA(t),r=RA(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}async function gI(s,t){return RA(s)._set(IA(t),"true")}function yI(s,t){lh.set(s._key(),t)}function RA(s){return Is(s._redirectPersistence)}function IA(s){return oh(dI,s.config.apiKey,s.name)}function _I(s,t,n){return vI(s,t,n)}async function vI(s,t,n){if(Zn(s.app))return Promise.reject(Sr(s));const r=jo(s);JT(s,t,Ph),await r._initializationPromise;const o=_p(r,n);return await gI(o,r),o._openRedirect(r,t,"signInViaRedirect")}async function EI(s,t){return await jo(s)._initializationPromise,CA(s,t,!1)}async function CA(s,t,n=!1){if(Zn(s.app))return Promise.reject(Sr(s));const r=jo(s),o=_p(r,t),f=await new mI(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,t)),f}const TI=600*1e3;class AI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!SI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!NA(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(gi(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=TI&&this.cachedEventUids.clear(),this.cachedEventUids.has(dE(t))}saveEventToCache(t){this.cachedEventUids.add(dE(t)),this.lastProcessedEventTime=Date.now()}}function dE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function NA({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function SI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NA(s);default:return!1}}async function wI(s,t={}){return zo(s,"GET","/v1/projects",t)}const bI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RI=/^https?/;async function II(s){if(s.config.emulator)return;const{authorizedDomains:t}=await wI(s);for(const n of t)try{if(CI(n))return}catch{}$i(s,"unauthorized-domain")}function CI(s){const t=xm(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!RI.test(n))return!1;if(bI.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const NI=new yu(3e4,6e4);function mE(){const s=Fi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function DI(s){return new Promise((t,n)=>{function r(){mE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{mE(),n(gi(s,"network-request-failed"))},timeout:NI.get()})}if(Fi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Fi().gapi?.load)r();else{const o=LR("iframefcb");return Fi()[o]=()=>{gapi.load?r():n(gi(s,"network-request-failed"))},kR(`${xR()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw uh=null,t})}let uh=null;function OI(s){return uh=uh||DI(s),uh}const MI=new yu(5e3,15e3),VI="__/auth/iframe",kI="emulator/auth/iframe",xI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UI(s){const t=s.config;St(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?hp(t,kI):`https://${s.config.authDomain}/${VI}`,r={apiKey:t.apiKey,appName:s.name,v:Po},o=LI.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${gu(r).slice(1)}`}async function PI(s){const t=await OI(s),n=Fi().gapi;return St(n,s,"internal-error"),t.open({where:document.body,url:UI(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xI,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=gi(s,"network-request-failed"),p=Fi().setTimeout(()=>{u(f)},MI.get());function _(){Fi().clearTimeout(p),o(r)}r.ping(_).then(_,()=>{u(f)})}))}const zI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jI=500,BI=600,qI="_blank",HI="http://localhost";class pE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FI(s,t,n,r=jI,o=BI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...zI,width:r.toString(),height:o.toString(),top:u,left:f},g=dn().toLowerCase();n&&(p=rA(g)?qI:n),iA(g)&&(t=t||HI,_.scrollbars="yes");const T=Object.entries(_).reduce((C,[F,Z])=>`${C}${F}=${Z},`,"");if(RR(g)&&p!=="_self")return GI(t||"",p),new pE(null);const S=window.open(t||"",p,T);St(S,s,"popup-blocked");try{S.focus()}catch{}return new pE(S)}function GI(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const KI="__/auth/handler",QI="emulator/auth/handler",YI=encodeURIComponent("fac");async function gE(s,t,n,r,o,u){St(s.config.authDomain,s,"auth-domain-config-required"),St(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Po,eventId:o};if(t instanceof Ph){t.setDefaultLanguage(s.languageCode),f.providerId=t.providerId||"",Jb(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))f[T]=S}if(t instanceof _u){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(f.scopes=T.join(","))}s.tenantId&&(f.tid=s.tenantId);const p=f;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const _=await s._getAppCheckToken(),g=_?`#${YI}=${encodeURIComponent(_)}`:"";return`${XI(s)}?${gu(p).slice(1)}${g}`}function XI({config:s}){return s.emulator?hp(s,QI):`https://${s.authDomain}/${KI}`}const ym="webStorageSupport";class $I{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gp,this._completeRedirectFn=CA,this._overrideRedirectResult=yI}async _openPopup(t,n,r,o){Ms(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await gE(t,n,r,xm(),o);return FI(t,u,yp())}async _openRedirect(t,n,r,o){await this._originValidation(t);const u=await gE(t,n,r,xm(),o);return WR(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ms(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await PI(t),r=new AI(t);return n.register("authEvent",o=>(St(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(ym,{type:ym},o=>{const u=o?.[0]?.[ym];u!==void 0&&n(!!u),$i(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=II(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return cA()||sA()||mp()}}const DA=$I;var yE="@firebase/auth",_E="1.12.1";class JI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ZI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WI(s){Xi(new vi("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=r.options;St(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:f,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hA(s)},g=new MR(r,o,u,_);return UR(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Xi(new vi("auth-internal",t=>{const n=jo(t.getProvider("auth").getImmediate());return(r=>new JI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ti(yE,_E,ZI(s)),ti(yE,_E,"esm2020")}const tC=300,eC=zT("authIdTokenMaxAge")||tC;let vE=null;const nC=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>eC)return;const o=n?.token;vE!==o&&(vE=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function iC(s=lp()){const t=Uo(s,"auth");if(t.isInitialized())return t.getImmediate();const n=fA(s,{popupRedirectResolver:DA,persistence:[wA,_A,gp]}),r=zT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=nC(u.toString());KR(n,f,()=>f(n.currentUser)),GR(n,p=>f(p))}}const o=UT("auth");return o&&PR(n,`http://${o}`),n}function sC(){return document.getElementsByTagName("head")?.[0]??document}VR({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const u=gi("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",sC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WI("Browser");var rC="firebase",aC="12.10.0";ti(rC,aC,"app");const OA="@firebase/installations",Ep="0.6.20";const MA=1e4,VA=`w:${Ep}`,kA="FIS_v2",oC="https://firebaseinstallations.googleapis.com/v1",lC=3600*1e3,uC="installations",cC="Installations";const hC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},_a=new Ia(uC,cC,hC);function xA(s){return s instanceof ts&&s.code.includes("request-failed")}function LA({projectId:s}){return`${oC}/projects/${s}/installations`}function UA(s){return{token:s.token,requestStatus:2,expiresIn:dC(s.expiresIn),creationTime:Date.now()}}async function PA(s,t){const r=(await t.json()).error;return _a.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function zA({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function fC(s,{refreshToken:t}){const n=zA(s);return n.append("Authorization",mC(t)),n}async function jA(s){const t=await s();return t.status>=500&&t.status<600?s():t}function dC(s){return Number(s.replace("s","000"))}function mC(s){return`${kA} ${s}`}async function pC({appConfig:s,heartbeatServiceProvider:t},{fid:n}){const r=LA(s),o=zA(s),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:n,authVersion:kA,appId:s.appId,sdkVersion:VA},p={method:"POST",headers:o,body:JSON.stringify(f)},_=await jA(()=>fetch(r,p));if(_.ok){const g=await _.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:UA(g.authToken)}}else throw await PA("Create Installation",_)}function BA(s){return new Promise(t=>{setTimeout(t,s)})}function gC(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const yC=/^[cdef][\w-]{21}$/,Pm="";function _C(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const n=vC(s);return yC.test(n)?n:Pm}catch{return Pm}}function vC(s){return gC(s).substr(0,22)}function Bh(s){return`${s.appName}!${s.appId}`}const qA=new Map;function HA(s,t){const n=Bh(s);FA(n,t),EC(n,t)}function FA(s,t){const n=qA.get(s);if(n)for(const r of n)r(t)}function EC(s,t){const n=TC();n&&n.postMessage({key:s,fid:t}),AC()}let fa=null;function TC(){return!fa&&"BroadcastChannel"in self&&(fa=new BroadcastChannel("[Firebase] FID Change"),fa.onmessage=s=>{FA(s.data.key,s.data.fid)}),fa}function AC(){qA.size===0&&fa&&(fa.close(),fa=null)}const SC="firebase-installations-database",wC=1,va="firebase-installations-store";let _m=null;function Tp(){return _m||(_m=Uh(SC,wC,{upgrade:(s,t)=>{t===0&&s.createObjectStore(va)}})),_m}async function wh(s,t){const n=Bh(s),o=(await Tp()).transaction(va,"readwrite"),u=o.objectStore(va),f=await u.get(n);return await u.put(t,n),await o.done,(!f||f.fid!==t.fid)&&HA(s,t.fid),t}async function GA(s){const t=Bh(s),r=(await Tp()).transaction(va,"readwrite");await r.objectStore(va).delete(t),await r.done}async function qh(s,t){const n=Bh(s),o=(await Tp()).transaction(va,"readwrite"),u=o.objectStore(va),f=await u.get(n),p=t(f);return p===void 0?await u.delete(n):await u.put(p,n),await o.done,p&&(!f||f.fid!==p.fid)&&HA(s,p.fid),p}async function Ap(s){let t;const n=await qh(s.appConfig,r=>{const o=bC(r),u=RC(s,o);return t=u.registrationPromise,u.installationEntry});return n.fid===Pm?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function bC(s){const t=s||{fid:_C(),registrationStatus:0};return KA(t)}function RC(s,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(_a.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=IC(s,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:CC(s)}:{installationEntry:t}}async function IC(s,t){try{const n=await pC(s,t);return wh(s.appConfig,n)}catch(n){throw xA(n)&&n.customData.serverCode===409?await GA(s.appConfig):await wh(s.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function CC(s){let t=await EE(s.appConfig);for(;t.registrationStatus===1;)await BA(100),t=await EE(s.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Ap(s);return r||n}return t}function EE(s){return qh(s,t=>{if(!t)throw _a.create("installation-not-found");return KA(t)})}function KA(s){return NC(s)?{fid:s.fid,registrationStatus:0}:s}function NC(s){return s.registrationStatus===1&&s.registrationTime+MA<Date.now()}async function DC({appConfig:s,heartbeatServiceProvider:t},n){const r=OC(s,n),o=fC(s,n),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:VA,appId:s.appId}},p={method:"POST",headers:o,body:JSON.stringify(f)},_=await jA(()=>fetch(r,p));if(_.ok){const g=await _.json();return UA(g)}else throw await PA("Generate Auth Token",_)}function OC(s,{fid:t}){return`${LA(s)}/${t}/authTokens:generate`}async function Sp(s,t=!1){let n;const r=await qh(s.appConfig,u=>{if(!QA(u))throw _a.create("not-registered");const f=u.authToken;if(!t&&kC(f))return u;if(f.requestStatus===1)return n=MC(s,t),u;{if(!navigator.onLine)throw _a.create("app-offline");const p=LC(u);return n=VC(s,p),p}});return n?await n:r.authToken}async function MC(s,t){let n=await TE(s.appConfig);for(;n.authToken.requestStatus===1;)await BA(100),n=await TE(s.appConfig);const r=n.authToken;return r.requestStatus===0?Sp(s,t):r}function TE(s){return qh(s,t=>{if(!QA(t))throw _a.create("not-registered");const n=t.authToken;return UC(n)?{...t,authToken:{requestStatus:0}}:t})}async function VC(s,t){try{const n=await DC(s,t),r={...t,authToken:n};return await wh(s.appConfig,r),n}catch(n){if(xA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await GA(s.appConfig);else{const r={...t,authToken:{requestStatus:0}};await wh(s.appConfig,r)}throw n}}function QA(s){return s!==void 0&&s.registrationStatus===2}function kC(s){return s.requestStatus===2&&!xC(s)}function xC(s){const t=Date.now();return t<s.creationTime||s.creationTime+s.expiresIn<t+lC}function LC(s){const t={requestStatus:1,requestTime:Date.now()};return{...s,authToken:t}}function UC(s){return s.requestStatus===1&&s.requestTime+MA<Date.now()}async function PC(s){const t=s,{installationEntry:n,registrationPromise:r}=await Ap(t);return r?r.catch(console.error):Sp(t).catch(console.error),n.fid}async function zC(s,t=!1){const n=s;return await jC(n),(await Sp(n,t)).token}async function jC(s){const{registrationPromise:t}=await Ap(s);t&&await t}function BC(s){if(!s||!s.options)throw vm("App Configuration");if(!s.name)throw vm("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!s.options[n])throw vm(n);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function vm(s){return _a.create("missing-app-config-values",{valueName:s})}const YA="installations",qC="installations-internal",HC=s=>{const t=s.getProvider("app").getImmediate(),n=BC(t),r=Uo(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},FC=s=>{const t=s.getProvider("app").getImmediate(),n=Uo(t,YA).getImmediate();return{getId:()=>PC(n),getToken:o=>zC(n,o)}};function GC(){Xi(new vi(YA,HC,"PUBLIC")),Xi(new vi(qC,FC,"PRIVATE"))}GC();ti(OA,Ep);ti(OA,Ep,"esm2020");const KC="/firebase-messaging-sw.js",QC="/firebase-cloud-messaging-push-scope",XA="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",YC="https://fcmregistrations.googleapis.com/v1",$A="google.c.a.c_id",XC="google.c.a.c_l",$C="google.c.a.ts",JC="google.c.a.e",AE=1e4;var SE;(function(s){s[s.DATA_MESSAGE=1]="DATA_MESSAGE",s[s.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(SE||(SE={}));var ru;(function(s){s.PUSH_RECEIVED="push-received",s.NOTIFICATION_CLICKED="notification-clicked"})(ru||(ru={}));function ws(s){const t=new Uint8Array(s);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ZC(s){const t="=".repeat((4-s.length%4)%4),n=(s+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),o=new Uint8Array(r.length);for(let u=0;u<r.length;++u)o[u]=r.charCodeAt(u);return o}const Em="fcm_token_details_db",WC=5,wE="fcm_token_object_Store";async function t2(s){if("databases"in indexedDB&&!(await indexedDB.databases()).map(u=>u.name).includes(Em))return null;let t=null;return(await Uh(Em,WC,{upgrade:async(r,o,u,f)=>{if(o<2||!r.objectStoreNames.contains(wE))return;const p=f.objectStore(wE),_=await p.index("fcmSenderId").get(s);if(await p.clear(),!!_){if(o===2){const g=_;if(!g.auth||!g.p256dh||!g.endpoint)return;t={token:g.fcmToken,createTime:g.createTime??Date.now(),subscriptionOptions:{auth:g.auth,p256dh:g.p256dh,endpoint:g.endpoint,swScope:g.swScope,vapidKey:typeof g.vapidKey=="string"?g.vapidKey:ws(g.vapidKey)}}}else if(o===3){const g=_;t={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:ws(g.auth),p256dh:ws(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:ws(g.vapidKey)}}}else if(o===4){const g=_;t={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:ws(g.auth),p256dh:ws(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:ws(g.vapidKey)}}}}}})).close(),await dm(Em),await dm("fcm_vapid_details_db"),await dm("undefined"),e2(t)?t:null}function e2(s){if(!s||!s.subscriptionOptions)return!1;const{subscriptionOptions:t}=s;return typeof s.createTime=="number"&&s.createTime>0&&typeof s.token=="string"&&s.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}const n2="firebase-messaging-database",i2=1,Ea="firebase-messaging-store";let Tm=null;function wp(){return Tm||(Tm=Uh(n2,i2,{upgrade:(s,t)=>{t===0&&s.createObjectStore(Ea)}})),Tm}async function JA(s){const t=Rp(s),r=await(await wp()).transaction(Ea).objectStore(Ea).get(t);if(r)return r;{const o=await t2(s.appConfig.senderId);if(o)return await bp(s,o),o}}async function bp(s,t){const n=Rp(s),o=(await wp()).transaction(Ea,"readwrite");return await o.objectStore(Ea).put(t,n),await o.done,t}async function s2(s){const t=Rp(s),r=(await wp()).transaction(Ea,"readwrite");await r.objectStore(Ea).delete(t),await r.done}function Rp({appConfig:s}){return s.appId}const r2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},hn=new Ia("messaging","Messaging",r2);async function a2(s,t){const n=await Cp(s),r=WA(t),o={method:"POST",headers:n,body:JSON.stringify(r)};let u;try{u=await(await fetch(Ip(s.appConfig),o)).json()}catch(f){throw hn.create("token-subscribe-failed",{errorInfo:f?.toString()})}if(u.error){const f=u.error.message;throw hn.create("token-subscribe-failed",{errorInfo:f})}if(!u.token)throw hn.create("token-subscribe-no-token");return u.token}async function o2(s,t){const n=await Cp(s),r=WA(t.subscriptionOptions),o={method:"PATCH",headers:n,body:JSON.stringify(r)};let u;try{u=await(await fetch(`${Ip(s.appConfig)}/${t.token}`,o)).json()}catch(f){throw hn.create("token-update-failed",{errorInfo:f?.toString()})}if(u.error){const f=u.error.message;throw hn.create("token-update-failed",{errorInfo:f})}if(!u.token)throw hn.create("token-update-no-token");return u.token}async function ZA(s,t){const r={method:"DELETE",headers:await Cp(s)};try{const u=await(await fetch(`${Ip(s.appConfig)}/${t}`,r)).json();if(u.error){const f=u.error.message;throw hn.create("token-unsubscribe-failed",{errorInfo:f})}}catch(o){throw hn.create("token-unsubscribe-failed",{errorInfo:o?.toString()})}}function Ip({projectId:s}){return`${YC}/projects/${s}/registrations`}async function Cp({appConfig:s,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function WA({p256dh:s,auth:t,endpoint:n,vapidKey:r}){const o={web:{endpoint:n,auth:t,p256dh:s}};return r!==XA&&(o.web.applicationPubKey=r),o}const l2=10080*60*1e3;async function u2(s){const t=await f2(s.swRegistration,s.vapidKey),n={vapidKey:s.vapidKey,swScope:s.swRegistration.scope,endpoint:t.endpoint,auth:ws(t.getKey("auth")),p256dh:ws(t.getKey("p256dh"))},r=await JA(s.firebaseDependencies);if(r){if(d2(r.subscriptionOptions,n))return Date.now()>=r.createTime+l2?h2(s,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await ZA(s.firebaseDependencies,r.token)}catch(o){console.warn(o)}return bE(s.firebaseDependencies,n)}else return bE(s.firebaseDependencies,n)}async function c2(s){const t=await JA(s.firebaseDependencies);t&&(await ZA(s.firebaseDependencies,t.token),await s2(s.firebaseDependencies));const n=await s.swRegistration.pushManager.getSubscription();return n?n.unsubscribe():!0}async function h2(s,t){try{const n=await o2(s.firebaseDependencies,t),r={...t,token:n,createTime:Date.now()};return await bp(s.firebaseDependencies,r),n}catch(n){throw n}}async function bE(s,t){const r={token:await a2(s,t),createTime:Date.now(),subscriptionOptions:t};return await bp(s,r),r.token}async function f2(s,t){const n=await s.pushManager.getSubscription();return n||s.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ZC(t)})}function d2(s,t){const n=t.vapidKey===s.vapidKey,r=t.endpoint===s.endpoint,o=t.auth===s.auth,u=t.p256dh===s.p256dh;return n&&r&&o&&u}function RE(s){const t={from:s.from,collapseKey:s.collapse_key,messageId:s.fcmMessageId};return m2(t,s),p2(t,s),g2(t,s),t}function m2(s,t){if(!t.notification)return;s.notification={};const n=t.notification.title;n&&(s.notification.title=n);const r=t.notification.body;r&&(s.notification.body=r);const o=t.notification.image;o&&(s.notification.image=o);const u=t.notification.icon;u&&(s.notification.icon=u)}function p2(s,t){t.data&&(s.data=t.data)}function g2(s,t){if(!t.fcmOptions&&!t.notification?.click_action)return;s.fcmOptions={};const n=t.fcmOptions?.link??t.notification?.click_action;n&&(s.fcmOptions.link=n);const r=t.fcmOptions?.analytics_label;r&&(s.fcmOptions.analyticsLabel=r)}function y2(s){return typeof s=="object"&&!!s&&$A in s}function _2(s){if(!s||!s.options)throw Am("App Configuration Object");if(!s.name)throw Am("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=s;for(const r of t)if(!n[r])throw Am(r);return{appName:s.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Am(s){return hn.create("missing-app-config-values",{valueName:s})}class v2{constructor(t,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=_2(t);this.firebaseDependencies={app:t,appConfig:o,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}async function t0(s){try{s.swRegistration=await navigator.serviceWorker.register(KC,{scope:QC}),s.swRegistration.update().catch(()=>{}),await E2(s.swRegistration)}catch(t){throw hn.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}}async function E2(s){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${AE} ms`)),AE),o=s.installing||s.waiting;s.active?(clearTimeout(r),t()):o?o.onstatechange=u=>{u.target?.state==="activated"&&(o.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}async function T2(s,t){if(!t&&!s.swRegistration&&await t0(s),!(!t&&s.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw hn.create("invalid-sw-registration");s.swRegistration=t}}async function A2(s,t){t?s.vapidKey=t:s.vapidKey||(s.vapidKey=XA)}async function e0(s,t){if(!navigator)throw hn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw hn.create("permission-blocked");return await A2(s,t?.vapidKey),await T2(s,t?.serviceWorkerRegistration),u2(s)}async function S2(s,t,n){const r=w2(t);(await s.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[$A],message_name:n[XC],message_time:n[$C],message_device_time:Math.floor(Date.now()/1e3)})}function w2(s){switch(s){case ru.NOTIFICATION_CLICKED:return"notification_open";case ru.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function b2(s,t){const n=t.data;if(!n.isFirebaseMessaging)return;s.onMessageHandler&&n.messageType===ru.PUSH_RECEIVED&&(typeof s.onMessageHandler=="function"?s.onMessageHandler(RE(n)):s.onMessageHandler.next(RE(n)));const r=n.data;y2(r)&&r[JC]==="1"&&await S2(s,n.messageType,r)}const IE="@firebase/messaging",CE="0.12.24";const R2=s=>{const t=new v2(s.getProvider("app").getImmediate(),s.getProvider("installations-internal").getImmediate(),s.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>b2(t,n)),t},I2=s=>{const t=s.getProvider("messaging").getImmediate();return{getToken:r=>e0(t,r)}};function C2(){Xi(new vi("messaging",R2,"PUBLIC")),Xi(new vi("messaging-internal",I2,"PRIVATE")),ti(IE,CE),ti(IE,CE,"esm2020")}async function Np(){try{await HT()}catch{return!1}return typeof window<"u"&&qT()&&Qb()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}async function N2(s){if(!navigator)throw hn.create("only-available-in-window");return s.swRegistration||await t0(s),c2(s)}function n0(s=lp()){return Np().then(t=>{if(!t)throw hn.create("unsupported-browser")},t=>{throw hn.create("indexed-db-unsupported")}),Uo(ve(s),"messaging").getImmediate()}async function D2(s,t){return s=ve(s),e0(s,t)}function O2(s){return s=ve(s),N2(s)}C2();var NE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var wr,i0;(function(){var s;function t(N,w){function I(){}I.prototype=w.prototype,N.F=w.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(V,O,x){for(var b=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)b[Yt-2]=arguments[Yt];return w.prototype[O].apply(V,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,I){I||(I=0);const V=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)V[O]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(O=0;O<16;++O)V[O]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=N.g[0],I=N.g[1],O=N.g[2];let x=N.g[3],b;b=w+(x^I&(O^x))+V[0]+3614090360&4294967295,w=I+(b<<7&4294967295|b>>>25),b=x+(O^w&(I^O))+V[1]+3905402710&4294967295,x=w+(b<<12&4294967295|b>>>20),b=O+(I^x&(w^I))+V[2]+606105819&4294967295,O=x+(b<<17&4294967295|b>>>15),b=I+(w^O&(x^w))+V[3]+3250441966&4294967295,I=O+(b<<22&4294967295|b>>>10),b=w+(x^I&(O^x))+V[4]+4118548399&4294967295,w=I+(b<<7&4294967295|b>>>25),b=x+(O^w&(I^O))+V[5]+1200080426&4294967295,x=w+(b<<12&4294967295|b>>>20),b=O+(I^x&(w^I))+V[6]+2821735955&4294967295,O=x+(b<<17&4294967295|b>>>15),b=I+(w^O&(x^w))+V[7]+4249261313&4294967295,I=O+(b<<22&4294967295|b>>>10),b=w+(x^I&(O^x))+V[8]+1770035416&4294967295,w=I+(b<<7&4294967295|b>>>25),b=x+(O^w&(I^O))+V[9]+2336552879&4294967295,x=w+(b<<12&4294967295|b>>>20),b=O+(I^x&(w^I))+V[10]+4294925233&4294967295,O=x+(b<<17&4294967295|b>>>15),b=I+(w^O&(x^w))+V[11]+2304563134&4294967295,I=O+(b<<22&4294967295|b>>>10),b=w+(x^I&(O^x))+V[12]+1804603682&4294967295,w=I+(b<<7&4294967295|b>>>25),b=x+(O^w&(I^O))+V[13]+4254626195&4294967295,x=w+(b<<12&4294967295|b>>>20),b=O+(I^x&(w^I))+V[14]+2792965006&4294967295,O=x+(b<<17&4294967295|b>>>15),b=I+(w^O&(x^w))+V[15]+1236535329&4294967295,I=O+(b<<22&4294967295|b>>>10),b=w+(O^x&(I^O))+V[1]+4129170786&4294967295,w=I+(b<<5&4294967295|b>>>27),b=x+(I^O&(w^I))+V[6]+3225465664&4294967295,x=w+(b<<9&4294967295|b>>>23),b=O+(w^I&(x^w))+V[11]+643717713&4294967295,O=x+(b<<14&4294967295|b>>>18),b=I+(x^w&(O^x))+V[0]+3921069994&4294967295,I=O+(b<<20&4294967295|b>>>12),b=w+(O^x&(I^O))+V[5]+3593408605&4294967295,w=I+(b<<5&4294967295|b>>>27),b=x+(I^O&(w^I))+V[10]+38016083&4294967295,x=w+(b<<9&4294967295|b>>>23),b=O+(w^I&(x^w))+V[15]+3634488961&4294967295,O=x+(b<<14&4294967295|b>>>18),b=I+(x^w&(O^x))+V[4]+3889429448&4294967295,I=O+(b<<20&4294967295|b>>>12),b=w+(O^x&(I^O))+V[9]+568446438&4294967295,w=I+(b<<5&4294967295|b>>>27),b=x+(I^O&(w^I))+V[14]+3275163606&4294967295,x=w+(b<<9&4294967295|b>>>23),b=O+(w^I&(x^w))+V[3]+4107603335&4294967295,O=x+(b<<14&4294967295|b>>>18),b=I+(x^w&(O^x))+V[8]+1163531501&4294967295,I=O+(b<<20&4294967295|b>>>12),b=w+(O^x&(I^O))+V[13]+2850285829&4294967295,w=I+(b<<5&4294967295|b>>>27),b=x+(I^O&(w^I))+V[2]+4243563512&4294967295,x=w+(b<<9&4294967295|b>>>23),b=O+(w^I&(x^w))+V[7]+1735328473&4294967295,O=x+(b<<14&4294967295|b>>>18),b=I+(x^w&(O^x))+V[12]+2368359562&4294967295,I=O+(b<<20&4294967295|b>>>12),b=w+(I^O^x)+V[5]+4294588738&4294967295,w=I+(b<<4&4294967295|b>>>28),b=x+(w^I^O)+V[8]+2272392833&4294967295,x=w+(b<<11&4294967295|b>>>21),b=O+(x^w^I)+V[11]+1839030562&4294967295,O=x+(b<<16&4294967295|b>>>16),b=I+(O^x^w)+V[14]+4259657740&4294967295,I=O+(b<<23&4294967295|b>>>9),b=w+(I^O^x)+V[1]+2763975236&4294967295,w=I+(b<<4&4294967295|b>>>28),b=x+(w^I^O)+V[4]+1272893353&4294967295,x=w+(b<<11&4294967295|b>>>21),b=O+(x^w^I)+V[7]+4139469664&4294967295,O=x+(b<<16&4294967295|b>>>16),b=I+(O^x^w)+V[10]+3200236656&4294967295,I=O+(b<<23&4294967295|b>>>9),b=w+(I^O^x)+V[13]+681279174&4294967295,w=I+(b<<4&4294967295|b>>>28),b=x+(w^I^O)+V[0]+3936430074&4294967295,x=w+(b<<11&4294967295|b>>>21),b=O+(x^w^I)+V[3]+3572445317&4294967295,O=x+(b<<16&4294967295|b>>>16),b=I+(O^x^w)+V[6]+76029189&4294967295,I=O+(b<<23&4294967295|b>>>9),b=w+(I^O^x)+V[9]+3654602809&4294967295,w=I+(b<<4&4294967295|b>>>28),b=x+(w^I^O)+V[12]+3873151461&4294967295,x=w+(b<<11&4294967295|b>>>21),b=O+(x^w^I)+V[15]+530742520&4294967295,O=x+(b<<16&4294967295|b>>>16),b=I+(O^x^w)+V[2]+3299628645&4294967295,I=O+(b<<23&4294967295|b>>>9),b=w+(O^(I|~x))+V[0]+4096336452&4294967295,w=I+(b<<6&4294967295|b>>>26),b=x+(I^(w|~O))+V[7]+1126891415&4294967295,x=w+(b<<10&4294967295|b>>>22),b=O+(w^(x|~I))+V[14]+2878612391&4294967295,O=x+(b<<15&4294967295|b>>>17),b=I+(x^(O|~w))+V[5]+4237533241&4294967295,I=O+(b<<21&4294967295|b>>>11),b=w+(O^(I|~x))+V[12]+1700485571&4294967295,w=I+(b<<6&4294967295|b>>>26),b=x+(I^(w|~O))+V[3]+2399980690&4294967295,x=w+(b<<10&4294967295|b>>>22),b=O+(w^(x|~I))+V[10]+4293915773&4294967295,O=x+(b<<15&4294967295|b>>>17),b=I+(x^(O|~w))+V[1]+2240044497&4294967295,I=O+(b<<21&4294967295|b>>>11),b=w+(O^(I|~x))+V[8]+1873313359&4294967295,w=I+(b<<6&4294967295|b>>>26),b=x+(I^(w|~O))+V[15]+4264355552&4294967295,x=w+(b<<10&4294967295|b>>>22),b=O+(w^(x|~I))+V[6]+2734768916&4294967295,O=x+(b<<15&4294967295|b>>>17),b=I+(x^(O|~w))+V[13]+1309151649&4294967295,I=O+(b<<21&4294967295|b>>>11),b=w+(O^(I|~x))+V[4]+4149444226&4294967295,w=I+(b<<6&4294967295|b>>>26),b=x+(I^(w|~O))+V[11]+3174756917&4294967295,x=w+(b<<10&4294967295|b>>>22),b=O+(w^(x|~I))+V[2]+718787259&4294967295,O=x+(b<<15&4294967295|b>>>17),b=I+(x^(O|~w))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(O+(b<<21&4294967295|b>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+x&4294967295}r.prototype.v=function(N,w){w===void 0&&(w=N.length);const I=w-this.blockSize,V=this.C;let O=this.h,x=0;for(;x<w;){if(O==0)for(;x<=I;)o(this,N,x),x+=this.blockSize;if(typeof N=="string"){for(;x<w;)if(V[O++]=N.charCodeAt(x++),O==this.blockSize){o(this,V),O=0;break}}else for(;x<w;)if(V[O++]=N[x++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=w},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)N[w++]=this.g[I]>>>V&255;return N};function u(N,w){var I=p;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=w(N)}function f(N,w){this.h=w;const I=[];let V=!0;for(let O=N.length-1;O>=0;O--){const x=N[O]|0;V&&x==w||(I[O]=x,V=!1)}this.g=I}var p={};function _(N){return-128<=N&&N<128?u(N,function(w){return new f([w|0],w<0?-1:0)}):new f([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return W(g(-N));const w=[];let I=1;for(let V=0;N>=I;V++)w[V]=N/I|0,I*=4294967296;return new f(w,0)}function T(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return W(T(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(w,8));let V=S;for(let x=0;x<N.length;x+=8){var O=Math.min(8,N.length-x);const b=parseInt(N.substring(x,x+O),w);O<8?(O=g(Math.pow(w,O)),V=V.j(O).add(g(b))):(V=V.j(I),V=V.add(g(b)))}return V}var S=_(0),C=_(1),F=_(16777216);s=f.prototype,s.m=function(){if(tt(this))return-W(this).m();let N=0,w=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);N+=(V>=0?V:4294967296+V)*w,w*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(tt(this))return"-"+W(this).toString(N);const w=g(Math.pow(N,6));var I=this;let V="";for(;;){const O=Ht(I,w).g;I=rt(I,O.j(w));let x=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=O,Z(I))return x+V;for(;x.length<6;)x="0"+x;V=x+V}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function tt(N){return N.h==-1}s.l=function(N){return N=rt(this,N),tt(N)?-1:Z(N)?0:1};function W(N){const w=N.g.length,I=[];for(let V=0;V<w;V++)I[V]=~N.g[V];return new f(I,~N.h).add(C)}s.abs=function(){return tt(this)?W(this):this},s.add=function(N){const w=Math.max(this.g.length,N.g.length),I=[];let V=0;for(let O=0;O<=w;O++){let x=V+(this.i(O)&65535)+(N.i(O)&65535),b=(x>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=b>>>16,x&=65535,b&=65535,I[O]=b<<16|x}return new f(I,I[I.length-1]&-2147483648?-1:0)};function rt(N,w){return N.add(W(w))}s.j=function(N){if(Z(this)||Z(N))return S;if(tt(this))return tt(N)?W(this).j(W(N)):W(W(this).j(N));if(tt(N))return W(this.j(W(N)));if(this.l(F)<0&&N.l(F)<0)return g(this.m()*N.m());const w=this.g.length+N.g.length,I=[];for(var V=0;V<2*w;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<N.g.length;O++){const x=this.i(V)>>>16,b=this.i(V)&65535,Yt=N.i(O)>>>16,Re=N.i(O)&65535;I[2*V+2*O]+=b*Re,dt(I,2*V+2*O),I[2*V+2*O+1]+=x*Re,dt(I,2*V+2*O+1),I[2*V+2*O+1]+=b*Yt,dt(I,2*V+2*O+1),I[2*V+2*O+2]+=x*Yt,dt(I,2*V+2*O+2)}for(N=0;N<w;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=w;N<2*w;N++)I[N]=0;return new f(I,0)};function dt(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function Tt(N,w){this.g=N,this.h=w}function Ht(N,w){if(Z(w))throw Error("division by zero");if(Z(N))return new Tt(S,S);if(tt(N))return w=Ht(W(N),w),new Tt(W(w.g),W(w.h));if(tt(w))return w=Ht(N,W(w)),new Tt(W(w.g),w.h);if(N.g.length>30){if(tt(N)||tt(w))throw Error("slowDivide_ only works with positive integers.");for(var I=C,V=w;V.l(N)<=0;)I=Mt(I),V=Mt(V);var O=mt(I,1),x=mt(V,1);for(V=mt(V,2),I=mt(I,2);!Z(V);){var b=x.add(V);b.l(N)<=0&&(O=O.add(I),x=b),V=mt(V,1),I=mt(I,1)}return w=rt(N,O.j(w)),new Tt(O,w)}for(O=S;N.l(w)>=0;){for(I=Math.max(1,Math.floor(N.m()/w.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),x=g(I),b=x.j(w);tt(b)||b.l(N)>0;)I-=V,x=g(I),b=x.j(w);Z(x)&&(x=C),O=O.add(x),N=rt(N,b)}return new Tt(O,N)}s.B=function(N){return Ht(this,N).h},s.and=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)&N.i(V);return new f(I,this.h&N.h)},s.or=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)|N.i(V);return new f(I,this.h|N.h)},s.xor=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)^N.i(V);return new f(I,this.h^N.h)};function Mt(N){const w=N.g.length+1,I=[];for(let V=0;V<w;V++)I[V]=N.i(V)<<1|N.i(V-1)>>>31;return new f(I,N.h)}function mt(N,w){const I=w>>5;w%=32;const V=N.g.length-I,O=[];for(let x=0;x<V;x++)O[x]=w>0?N.i(x+I)>>>w|N.i(x+I+1)<<32-w:N.i(x+I);return new f(O,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,i0=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=T,wr=f}).apply(typeof NE<"u"?NE:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var s0,Ql,r0,ch,zm,a0,o0,l0;(function(){var s,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,m){if(m)t:{var v=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in v))break t;v=v[L]}c=c[c.length-1],A=v[c],m=m(A),m!=A&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var u=u||{},f=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function _(c,m,v){return c.call.apply(c.bind,arguments)}function g(c,m,v){return g=_,g.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,L,B){for(var et=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)et[Dt-2]=arguments[Dt];return m.prototype[L].apply(A,et)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function F(c){const m=c.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=c[A];return v}return[]}function Z(c,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const B=L.length||0;c.length=v+B;for(let et=0;et<B;et++)c[v+et]=L[et]}else c.push(L)}}class tt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(c){f.setTimeout(()=>{throw c},0)}function rt(){var c=N;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class dt{constructor(){this.h=this.g=null}add(m,v){const A=Tt.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Tt=new tt(()=>new Ht,c=>c.reset());class Ht{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Mt,mt=!1,N=new dt,w=()=>{const c=Promise.resolve(void 0);Mt=()=>{c.then(I)}};function I(){for(var c;c=rt();){try{c.h.call(c.g)}catch(v){W(v)}var m=Tt;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}mt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return c})();function b(c){return/^[\s\xa0]*$/.test(c)}function Yt(c,m){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(Yt,O),Yt.prototype.init=function(c,m){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Yt.Z.h.call(this)},Yt.prototype.h=function(){Yt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),G=0;function nt(c,m,v,A,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=L,this.key=++G,this.da=this.fa=!1}function ft(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ut(c,m,v){for(const A in c)m.call(v,c[A],A,c)}function Qt(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(c,m){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)c[v]=A[v];for(let B=0;B<X.length;B++)v=X[B],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function at(c){this.src=c,this.g={},this.h=0}at.prototype.add=function(c,m,v,A,L){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const et=Rt(c,m,A,L);return et>-1?(m=c[et],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!A,L),m.fa=v,c.push(m)),m};function _t(c,m){const v=m.type;if(v in c.g){var A=c.g[v],L=Array.prototype.indexOf.call(A,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(A,L,1),B&&(ft(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Rt(c,m,v,A){for(let L=0;L<c.length;++L){const B=c[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==A)return L}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Te={};function te(c,m,v,A,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)te(c,m[B],v,A,L);return null}return v=ss(v),c&&c[Re]?c.J(m,v,p(A)?!!A.capture:!1,L):ni(c,m,v,!1,A,L)}function ni(c,m,v,A,L,B){if(!m)throw Error("Invalid event type");const et=p(L)?!!L.capture:!!L;let Dt=is(c);if(Dt||(c[kt]=Dt=new at(c)),v=Dt.add(m,v,A,et,B),v.proxy)return v;if(A=es(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)x||(L=et),L===void 0&&(L=!1),c.addEventListener(m.toString(),A,L);else if(c.attachEvent)c.attachEvent(yn(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function es(){function c(v){return m.call(c.src,c.listener,v)}const m=Ls;return c}function ns(c,m,v,A,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)ns(c,m[B],v,A,L);else A=p(A)?!!A.capture:!!A,v=ss(v),c&&c[Re]?(c=c.i,B=String(m).toString(),B in c.g&&(m=c.g[B],v=Rt(m,v,A,L),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[B],c.h--)))):c&&(c=is(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Rt(m,v,A,L)),(v=c>-1?m[c]:null)&&ii(v))}function ii(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Re])_t(m.i,c);else{var v=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(v,A,c.capture):m.detachEvent?m.detachEvent(yn(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=is(m))?(_t(v,c),v.h==0&&(v.src=null,m[kt]=null)):ft(c)}}}function yn(c){return c in Te?Te[c]:Te[c]="on"+c}function Ls(c,m){if(c.da)c=!0;else{m=new Yt(m,this);const v=c.listener,A=c.ha||c.src;c.fa&&ii(c),c=v.call(A,m)}return c}function is(c){return c=c[kt],c instanceof at?c:null}var Ti="__closure_events_fn_"+(Math.random()*1e9>>>0);function ss(c){return typeof c=="function"?c:(c[Ti]||(c[Ti]=function(m){return c.handleEvent(m)}),c[Ti])}function he(){V.call(this),this.i=new at(this),this.M=this,this.G=null}S(he,V),he.prototype[Re]=!0,he.prototype.removeEventListener=function(c,m,v,A){ns(this,c,m,v,A)};function Ae(c,m){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new O(m,c);else if(m instanceof O)m.target=m.target||c;else{var L=m;m=new O(A,c),it(m,L)}L=!0;let B,et;if(v)for(et=v.length-1;et>=0;et--)B=m.g=v[et],L=Cn(B,A,!0,m)&&L;if(B=m.g=c,L=Cn(B,A,!0,m)&&L,L=Cn(B,A,!1,m)&&L,v)for(et=0;et<v.length;et++)B=m.g=v[et],L=Cn(B,A,!1,m)&&L}he.prototype.N=function(){if(he.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let A=0;A<v.length;A++)ft(v[A]);delete c.g[m],c.h--}}this.G=null},he.prototype.J=function(c,m,v,A){return this.i.add(String(c),m,!1,v,A)},he.prototype.K=function(c,m,v,A){return this.i.add(String(c),m,!0,v,A)};function Cn(c,m,v,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const et=m[B];if(et&&!et.da&&et.capture==v){const Dt=et.listener,Ie=et.ha||et.src;et.fa&&_t(c.i,et),L=Dt.call(Ie,A)!==!1&&L}}return L&&!A.defaultPrevented}function Us(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function Ps(c){c.g=Us(()=>{c.g=null,c.i&&(c.i=!1,Ps(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class ee extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ps(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nt(c){V.call(this),this.h=c,this.g={}}S(Nt,V);var xr=[];function zs(c){Ut(c.g,function(m,v){this.g.hasOwnProperty(v)&&ii(m)},c),c.g={}}Nt.prototype.N=function(){Nt.Z.N.call(this),zs(this)},Nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xe=f.JSON.stringify,Oa=f.JSON.parse,Ma=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Va(){}function Ai(){}var Nn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){O.call(this,"d")}S(qe,O);function rn(){O.call(this,"c")}S(rn,O);var vt={},q=null;function ot(){return q=q||new he}vt.Ia="serverreachability";function fe(c){O.call(this,vt.Ia,c)}S(fe,O);function an(c){const m=ot();Ae(m,new fe(m))}vt.STAT_EVENT="statevent";function Lr(c,m){O.call(this,vt.STAT_EVENT,c),this.stat=m}S(Lr,O);function Oe(c){const m=ot();Ae(m,new Lr(m,c))}vt.Ja="timingevent";function Si(c,m){O.call(this,vt.Ja,c),this.size=m}S(Si,O);function wi(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function si(){this.g=!0}si.prototype.ua=function(){this.g=!1};function lf(c,m,v,A,L,B){c.info(function(){if(c.g)if(B){var et="",Dt=B.split("&");for(let Jt=0;Jt<Dt.length;Jt++){var Ie=Dt[Jt].split("=");if(Ie.length>1){const ge=Ie[0];Ie=Ie[1];const Hn=ge.split("_");et=Hn.length>=2&&Hn[1]=="type"?et+(ge+"="+Ie+"&"):et+(ge+"=redacted&")}}}else et=null;else et=B;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+v+`
`+et})}function Ou(c,m,v,A,L,B,et){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+et})}function bi(c,m,v,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+uf(c,v)+(A?" "+A:"")})}function Ur(c,m){c.info(function(){return"TIMEOUT: "+m})}si.prototype.info=function(){};function uf(c,m){if(!c.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var v=B[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<A.length;et++)A[et]=""}}}}return Xe(B)}catch{return m}}var Pr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Go={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ko;function zr(){}S(zr,Va),zr.prototype.g=function(){return new XMLHttpRequest},Ko=new zr;function rs(c){return encodeURIComponent(String(c))}function Mu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function ri(c,m,v,A){this.j=c,this.i=m,this.l=v,this.S=A||1,this.V=new Nt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var Me={},Ge={};function Ri(c,m,v){c.M=1,c.A=jr(ke(m)),c.u=v,c.R=!0,ka(c,null)}function ka(c,m){c.F=Date.now(),Ii(c),c.B=ke(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Pa(v.i,"t",A),c.C=0,v=c.j.L,c.h=new ai,c.g=Qu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new ee(g(c.Y,c,c.g),c.P)),m=c.V,v=c.g,A=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(xr[0]=L.toString()),L=xr);for(let B=0;B<L.length;B++){const et=te(v,L[B],A||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),an(),lf(c.i,c.v,c.B,c.l,c.S,c.u)}ri.prototype.ba=function(c){c=c.target;const m=this.O;m&&ui(c)==3?m.j():this.Y(c)},ri.prototype.Y=function(c){try{if(c==this.g)t:{const Dt=ui(this.g),Ie=this.g.ya(),Jt=this.g.ca();if(!(Dt<3)&&(Dt!=3||this.g&&(this.h.h||this.g.la()||$e(this.g)))){this.K||Dt!=4||Ie==7||(Ie==8||Jt<=0?an(3):an(2)),Ci(this);var m=this.g.ca();this.X=m;var v=cf(this);if(this.o=m==200,Ou(this.i,this.v,this.B,this.l,this.S,Dt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(A)){var B=A;break e}}B=null}if(c=B)bi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ni(this,c);else{this.o=!1,this.m=3,Oe(12),Dn(this),jn(this);break t}}if(this.R){c=!0;let ge;for(;!this.K&&this.C<v.length;)if(ge=ku(this,v),ge==Ge){Dt==4&&(this.m=4,Oe(14),c=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(ge==Me){this.m=4,Oe(15),bi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else bi(this.i,this.l,ge,null),Ni(this,ge);if(Vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||v.length!=0||this.h.h||(this.m=1,Oe(16),c=!1),this.o=this.o&&c,!c)bi(this.i,this.l,v,"[Invalid Chunked Response]"),Dn(this),jn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ol(et),et.P=!0,Oe(11))}}else bi(this.i,this.l,v,null),Ni(this,v);Dt==4&&Dn(this),this.o&&!this.K&&(Dt==4?Hu(this.j,this):(this.o=!1,Ii(this)))}else os(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Oe(12)):(this.m=0,Oe(13)),Dn(this),jn(this)}}}catch{}};function cf(c){if(!Vu(c))return c.g.la();const m=$e(c.g);if(m==="")return"";let v="";const A=m.length,L=ui(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Dn(c),jn(c),"";c.h.i=new f.TextDecoder}for(let B=0;B<A;B++)c.h.h=!0,v+=c.h.i.decode(m[B],{stream:!(L&&B==A-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function Vu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ku(c,m){var v=c.C,A=m.indexOf(`
`,v);return A==-1?Ge:(v=Number(m.substring(v,A)),isNaN(v)?Me:(A+=1,A+v>m.length?Ge:(m=m.slice(A,A+v),c.C=A+v,m)))}ri.prototype.cancel=function(){this.K=!0,Dn(this)};function Ii(c){c.T=Date.now()+c.H,xa(c,c.H)}function xa(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=wi(g(c.aa,c),m)}function Ci(c){c.D&&(f.clearTimeout(c.D),c.D=null)}ri.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ur(this.i,this.B),this.M!=2&&(an(),Oe(17)),Dn(this),this.m=2,jn(this)):xa(this,this.T-c)};function jn(c){c.j.I==0||c.K||Hu(c.j,c)}function Dn(c){Ci(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,zs(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function Ni(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||Oi(v.h,c))){if(!c.L&&Oi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ha(v),Qs(v);else break t;Qr(v),Oe(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=wi(g(v.Va,v),6e3));Di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ui(v,11)}else if((c.L||v.g==c)&&Ha(v),!b(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Jt=L[m];const ge=Jt[0];if(!(ge<=v.K))if(v.K=ge,Jt=Jt[1],v.I==2)if(Jt[0]=="c"){v.M=Jt[1],v.ba=Jt[2];const Hn=Jt[3];Hn!=null&&(v.ka=Hn,v.j.info("VER="+v.ka));const Pi=Jt[4];Pi!=null&&(v.za=Pi,v.j.info("SVER="+v.za));const ci=Jt[5];ci!=null&&typeof ci=="number"&&ci>0&&(A=1.5*ci,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const hi=c.g;if(hi){const Yr=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yr){var B=A.h;B.g||Yr.indexOf("spdy")==-1&&Yr.indexOf("quic")==-1&&Yr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Xo(B,B.h),B.h=null))}if(A.G){const Fa=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;Fa&&(A.wa=Fa,ne(A.J,A.G,Fa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var et=c;if(A.na=Ku(A,A.L?A.ba:null,A.W),et.L){$o(A.h,et);var Dt=et,Ie=A.O;Ie&&(Dt.H=Ie),Dt.D&&(Ci(Dt),Ii(Dt)),A.g=et}else Bu(A);v.i.length>0&&Li(v)}else Jt[0]!="stop"&&Jt[0]!="close"||Ui(v,7);else v.I==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?Ui(v,7):rl(v):Jt[0]!="noop"&&v.l&&v.l.qa(Jt),v.A=0)}}an(4)}catch{}}var Ve=class{constructor(c,m){this.g=c,this.map=m}};function Qo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Di(c){return c.h?1:c.g?c.g.size:0}function Oi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Xo(c,m){c.g?c.g.add(m):c.h=m}function $o(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Qo.prototype.cancel=function(){if(this.i=Jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Jo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return F(c.i)}var xu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function La(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let L,B=null;A>=0?(L=c[v].substring(0,A),B=c[v].substring(A+1)):L=c[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function On(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof On?(this.l=c.l,Ke(this,c.j),this.o=c.o,this.g=c.g,js(this,c.u),this.h=c.h,Zo(this,zu(c.i)),this.m=c.m):c&&(m=String(c).match(xu))?(this.l=!1,Ke(this,m[1]||"",!0),this.o=Mi(m[2]||""),this.g=Mi(m[3]||"",!0),js(this,m[4]),this.h=Mi(m[5]||"",!0),Zo(this,m[6]||"",!0),this.m=Mi(m[7]||"")):(this.l=!1,this.i=new qs(null,this.l))}On.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Br(m,Ua,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Br(m,Ua,!0),"@"),c.push(rs(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Br(v,v.charAt(0)=="/"?Wo:Lu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Br(v,Uu)),c.join("")},On.prototype.resolve=function(c){const m=ke(this);let v=!!c.j;v?Ke(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var A=c.h;if(v)js(m,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let et=0;et<L.length;){const Dt=L[et++];Dt=="."?A&&et==L.length&&B.push(""):Dt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&et==L.length&&B.push("")):(B.push(Dt),A=!0)}A=B.join("/")}else A=L}return v?m.h=A:v=c.i.toString()!=="",v?Zo(m,zu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function ke(c){return new On(c)}function Ke(c,m,v){c.j=v?Mi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function js(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Zo(c,m,v){m instanceof qs?(c.i=m,za(c.i,c.l)):(v||(m=Br(m,Bs)),c.i=new qs(m,c.l))}function ne(c,m,v){c.i.set(m,v)}function jr(c){return ne(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Mi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Br(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,_n),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function _n(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ua=/[#\/\?@]/g,Lu=/[#\?:]/g,Wo=/[#\?]/g,Bs=/[#\?@]/g,Uu=/#/g;function qs(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function vn(c){c.g||(c.g=new Map,c.h=0,c.i&&La(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=qs.prototype,s.add=function(c,m){vn(this),this.i=null,c=Hs(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Pu(c,m){vn(c),m=Hs(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function tl(c,m){return vn(c),m=Hs(c,m),c.g.has(m)}s.forEach=function(c,m){vn(this),this.g.forEach(function(v,A){v.forEach(function(L){c.call(m,L,A,this)},this)},this)};function el(c,m){vn(c);let v=[];if(typeof m=="string")tl(c,m)&&(v=v.concat(c.g.get(Hs(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return vn(this),this.i=null,c=Hs(this,c),tl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=el(this,c),c.length>0?String(c[0]):m):m};function Pa(c,m,v){Pu(c,m),v.length>0&&(c.i=null,c.g.set(Hs(c,m),F(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const L=rs(v);v=el(this,v);for(let B=0;B<v.length;B++){let et=L;v[B]!==""&&(et+="="+rs(v[B])),c.push(et)}}return this.i=c.join("&")};function zu(c){const m=new qs;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Hs(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function za(c,m){m&&!c.j&&(vn(c),c.i=null,c.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(Pu(this,A),Pa(this,L,v))},c)),c.j=m}function oi(c,m){const v=new si;if(f.Image){const A=new Image;A.onload=T(Bn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Bn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(Bn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Bn,v,"TestLoadImage: timeout",!1,m,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function nl(c,m){const v=new si,A=new AbortController,L=setTimeout(()=>{A.abort(),Bn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(B=>{clearTimeout(L),B.ok?Bn(v,"TestPingServer: ok",!0,m):Bn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Bn(v,"TestPingServer: error",!1,m)})}function Bn(c,m,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function Fs(){this.g=new Ma}function Vi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(Vi,Va),Vi.prototype.g=function(){return new qr(this.i,this.h)};function qr(c,m){he.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(qr,he),s=qr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,li(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gs(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ja(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ja(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Gs(this):li(this),this.readyState==3&&ja(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Gs(this))},s.Na=function(c){this.g&&(this.response=c,Gs(this))},s.ga=function(){this.g&&Gs(this)};function Gs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,li(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function li(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qn(c){let m="";return Ut(c,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Hr(c,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=qn(v),typeof c=="string"?v!=null&&rs(v):ne(c,m,v))}function re(c){he.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(re,he);var ki=/^https?$/i,il=["POST","PUT"];s=re.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ko.g(),this.g.onreadystatechange=C(g(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(B){Fr(this,B);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())v.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(il,m,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of v)this.g.setRequestHeader(B,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){Fr(this,B)}};function Fr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,sl(c),as(c)}function sl(c){c.A||(c.A=!0,Ae(c,"complete"),Ae(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ae(this,"complete"),Ae(this,"abort"),as(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),re.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Gr(this):this.Xa())},s.Xa=function(){Gr(this)};function Gr(c){if(c.h&&typeof u<"u"){if(c.v&&ui(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ae(c,"readystatechange"),ui(c)==4){c.h=!1;try{const B=c.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=B===0){let et=String(c.D).match(xu)[1]||null;!et&&f.self&&f.self.location&&(et=f.self.location.protocol.slice(0,-1)),A=!ki.test(et?et.toLowerCase():"")}v=A}if(v)Ae(c,"complete"),Ae(c,"success");else{c.o=6;try{var L=ui(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",sl(c)}}finally{as(c)}}}}function as(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Ae(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ui(c){return c.g?c.g.readyState:0}s.ca=function(){try{return ui(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Oa(m)}};function $e(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function os(c){const m={};c=(c.g&&ui(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(b(c[A]))continue;var v=Mu(c[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Qt(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Ks(c){this.za=0,this.i=[],this.j=new si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,c),this.Za=xi("retryDelaySeedMs",1e4,c),this.Ta=xi("forwardChannelMaxRetries",2,c),this.va=xi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Qo(c&&c.concurrentRequestLimit),this.Ba=new Fs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ks.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,A){Oe(0),this.W=c,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Ku(this,null,this.W),Li(this)};function rl(c){if(Ba(c),c.I==3){var m=c.V++,v=ke(c.J);if(ne(v,"SID",c.M),ne(v,"RID",m),ne(v,"TYPE","terminate"),Kr(c,v),m=new ri(c,c.j,m),m.M=2,m.A=jr(ke(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.A,v=!0),v||(m.g=Qu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ii(m)}Gu(c)}function Qs(c){c.g&&(ol(c),c.g.cancel(),c.g=null)}function Ba(c){Qs(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ha(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Li(c){if(!Yo(c.h)&&!c.m){c.m=!0;var m=c.Ea;Mt||w(),mt||(Mt(),mt=!0),N.add(m,c),c.D=0}}function qa(c,m){return Di(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=wi(g(c.Ea,c,m),Fu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new ri(this,this.j,c);let B=this.o;if(this.U&&(B?(B=M(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=ju(this,L,m),v=ke(this.J),ne(v,"RID",c),ne(v,"CVER",22),this.G&&ne(v,"X-HTTP-Session-Id",this.G),Kr(this,v),B&&(this.R?m="headers="+rs(qn(B))+"&"+m:this.u&&Hr(v,this.u,B)),Xo(this.h,L),this.Ra&&ne(v,"TYPE","init"),this.S?(ne(v,"$req",m),ne(v,"SID","null"),L.U=!0,Ri(L,v,null)):Ri(L,v,m),this.I=2}}else this.I==3&&(c?al(this,c):this.i.length==0||Yo(this.h)||al(this))};function al(c,m){var v;m?v=m.l:v=c.V++;const A=ke(c.J);ne(A,"SID",c.M),ne(A,"RID",v),ne(A,"AID",c.K),Kr(c,A),c.u&&c.o&&Hr(A,c.u,c.o),v=new ri(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=ju(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Xo(c.h,v),Ri(v,A,m)}function Kr(c,m){c.H&&Ut(c.H,function(v,A){ne(m,A,v)}),c.l&&Ut({},function(v,A){ne(m,A,v)})}function ju(c,m,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;t:{var L=c.i;let Dt=-1;for(;;){const Ie=["count="+v];Dt==-1?v>0?(Dt=L[0].g,Ie.push("ofs="+Dt)):Dt=0:Ie.push("ofs="+Dt);let Jt=!0;for(let ge=0;ge<v;ge++){var B=L[ge].g;const Hn=L[ge].map;if(B-=Dt,B<0)Dt=Math.max(0,L[ge].g-100),Jt=!1;else try{B="req"+B+"_"||"";try{var et=Hn instanceof Map?Hn:Object.entries(Hn);for(const[Pi,ci]of et){let hi=ci;p(ci)&&(hi=Xe(ci)),Ie.push(B+Pi+"="+encodeURIComponent(hi))}}catch(Pi){throw Ie.push(B+"type="+encodeURIComponent("_badmap")),Pi}}catch{A&&A(Hn)}}if(Jt){et=Ie.join("&");break t}}et=void 0}return c=c.i.splice(0,v),m.G=c,et}function Bu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Mt||w(),mt||(Mt(),mt=!0),N.add(m,c),c.A=0}}function Qr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=wi(g(c.Da,c),Fu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=wi(g(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Oe(10),Qs(this),qu(this))};function ol(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function qu(c){c.g=new ri(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=ke(c.na);ne(m,"RID","rpc"),ne(m,"SID",c.M),ne(m,"AID",c.K),ne(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&ne(m,"TO",c.ia),ne(m,"TYPE","xmlhttp"),Kr(c,m),c.u&&c.o&&Hr(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=jr(ke(m)),v.u=null,v.R=!0,ka(v,c)}s.Va=function(){this.C!=null&&(this.C=null,Qs(this),Qr(this),Oe(19))};function Ha(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Hu(c,m){var v=null;if(c.g==m){Ha(c),ol(c),c.g=null;var A=2}else if(Oi(c.h,m))v=m.G,$o(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;A=ot(),Ae(A,new Si(A,v)),Li(c)}else Bu(c);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&qa(c,m)||A==2&&Qr(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:Ui(c,5);break;case 4:Ui(c,10);break;case 3:Ui(c,6);break;default:Ui(c,2)}}}function Fu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Ui(c,m){if(c.j.info("Error code "+m),m==2){var v=g(c.bb,c),A=c.Ua;const L=!A;A=new On(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ke(A,"https"),jr(A),L?oi(A.toString(),v):nl(A.toString(),v)}else Oe(2);c.I=0,c.l&&c.l.pa(m),Gu(c),Ba(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))};function Gu(c){if(c.I=0,c.ja=[],c.l){const m=Jo(c.h);(m.length!=0||c.i.length!=0)&&(Z(c.ja,m),Z(c.ja,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.oa()}}function Ku(c,m,v){var A=v instanceof On?ke(v):new On(v);if(A.g!="")m&&(A.g=m+"."+A.g),js(A,A.u);else{var L=f.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new On(null);A&&Ke(B,A),m&&(B.g=m),L&&js(B,L),v&&(B.h=v),A=B}return v=c.G,m=c.wa,v&&m&&ne(A,v,m),ne(A,"VER",c.ka),Kr(c,A),A}function Qu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new re(new Vi({ab:v})):new re(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}s=Yu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ys(){}Ys.prototype.g=function(c,m){return new mn(c,m)};function mn(c,m){he.call(this),this.g=new Ks(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!b(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!b(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new ls(this)}S(mn,he),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){rl(this.g)},mn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Xe(c),c=v);m.i.push(new Ve(m.Ya++,c)),m.I==3&&Li(m)},mn.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,mn.Z.N.call(this)};function Xu(c){qe.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(Xu,qe);function $u(){rn.call(this),this.status=1}S($u,rn);function ls(c){this.g=c}S(ls,Yu),ls.prototype.ra=function(){Ae(this.g,"a")},ls.prototype.qa=function(c){Ae(this.g,new Xu(c))},ls.prototype.pa=function(c){Ae(this.g,new $u)},ls.prototype.oa=function(){Ae(this.g,"b")},Ys.prototype.createWebChannel=Ys.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,l0=function(){return new Ys},o0=function(){return ot()},a0=vt,zm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pr.NO_ERROR=0,Pr.TIMEOUT=8,Pr.HTTP_ERROR=6,ch=Pr,Go.COMPLETE="complete",r0=Go,Ai.EventType=Nn,Nn.OPEN="a",Nn.CLOSE="b",Nn.ERROR="c",Nn.MESSAGE="d",he.prototype.listen=he.prototype.J,Ql=Ai,re.prototype.listenOnce=re.prototype.K,re.prototype.getLastError=re.prototype.Ha,re.prototype.getLastErrorCode=re.prototype.ya,re.prototype.getStatus=re.prototype.ca,re.prototype.getResponseJson=re.prototype.La,re.prototype.getResponseText=re.prototype.la,re.prototype.send=re.prototype.ea,re.prototype.setWithCredentials=re.prototype.Fa,s0=re}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});class un{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let Bo="12.10.0";function M2(s){Bo=s}const Ta=new ap("@firebase/firestore");function To(){return Ta.logLevel}function lt(s,...t){if(Ta.logLevel<=jt.DEBUG){const n=t.map(Dp);Ta.debug(`Firestore (${Bo}): ${s}`,...n)}}function Vs(s,...t){if(Ta.logLevel<=jt.ERROR){const n=t.map(Dp);Ta.error(`Firestore (${Bo}): ${s}`,...n)}}function Aa(s,...t){if(Ta.logLevel<=jt.WARN){const n=t.map(Dp);Ta.warn(`Firestore (${Bo}): ${s}`,...n)}}function Dp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Et(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,u0(s,r,n)}function u0(s,t,n){let r=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Vs(r),new Error(r)}function Wt(s,t,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||u0(t,o,r)}function Ct(s,t){return s}const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends ts{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ns{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class c0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class V2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(un.UNAUTHENTICATED)))}shutdown(){}}class k2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class x2{constructor(t){this.t=t,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Wt(this.o===void 0,42304);let r=this.i;const o=_=>this.i!==r?(r=this.i,n(_)):Promise.resolve();let u=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ns,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const _=u;t.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ns)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Wt(typeof r.accessToken=="string",31837,{l:r}),new c0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Wt(t===null||typeof t=="string",2055,{h:t}),new un(t)}}class L2{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class U2{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new L2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class DE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Wt(this.o===void 0,3512);const r=u=>{u.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,lt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new DE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new DE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function z2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class Op{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=z2(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=t.charAt(o[u]%62))}return r}}function Bt(s,t){return s<t?-1:s>t?1:0}function jm(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=t.charAt(r);if(o!==u)return Sm(o)===Sm(u)?Bt(o,u):Sm(o)?1:-1}return Bt(s.length,t.length)}const j2=55296,B2=57343;function Sm(s){const t=s.charCodeAt(0);return t>=j2&&t<=B2}function Oo(s,t,n){return s.length===t.length&&s.every(((r,o)=>n(r,t[o])))}const OE="__name__";class Hi{constructor(t,n,r){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Et(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Hi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Hi?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const u=Hi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Bt(t.length,n.length)}static compareSegments(t,n){const r=Hi.isNumericId(t),o=Hi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Hi.extractNumericId(t).compare(Hi.extractNumericId(n)):jm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return wr.fromString(t.substring(4,t.length-2))}}class ce extends Hi{construct(t,n,r){return new ce(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new st(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ce(n)}static emptyPath(){return new ce([])}}const q2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Hi{construct(t,n,r){return new nn(t,n,r)}static isValidIdentifier(t){return q2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OE}static keyField(){return new nn([OE])}static fromServerFormat(t){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new st(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new st(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new st(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(r+=p,o++):(u(),o++)}if(u(),f)throw new st(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nn(n)}static emptyPath(){return new nn([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ce.fromString(t))}static fromName(t){return new gt(ce.fromString(t).popFirst(5))}static empty(){return new gt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ce.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ce(t.slice()))}}function Mp(s,t,n){if(!n)throw new st(Q.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function H2(s,t,n,r){if(t===!0&&r===!0)throw new st(Q.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function ME(s){if(!gt.isDocumentKey(s))throw new st(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function VE(s){if(gt.isDocumentKey(s))throw new st(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function h0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Hh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Et(12329,{type:typeof s})}function fn(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new st(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hh(s);throw new st(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}function Be(s,t){const n={typeString:s};return t&&(n.value=t),n}function Eu(s,t){if(!h0(s))throw new st(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new st(Q.INVALID_ARGUMENT,n);return!0}const kE=-62135596800,xE=1e6;class pe{static now(){return pe.fromMillis(Date.now())}static fromDate(t){return pe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*xE);return new pe(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new st(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new st(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<kE)throw new st(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xE}_compareTo(t){return this.seconds===t.seconds?Bt(this.nanoseconds,t.nanoseconds):Bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Eu(t,pe._jsonSchema))return new pe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-kE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pe._jsonSchemaVersion="firestore/timestamp/1.0",pe._jsonSchema={type:Be("string",pe._jsonSchemaVersion),seconds:Be("number"),nanoseconds:Be("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new pe(0,0))}static max(){return new bt(new pe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const au=-1;function F2(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(r===1e9?new pe(n+1,0):new pe(n,r));return new Ir(o,gt.empty(),t)}function G2(s){return new Ir(s.readTime,s.key,au)}class Ir{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Ir(bt.min(),gt.empty(),au)}static max(){return new Ir(bt.max(),gt.empty(),au)}}function K2(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(s.documentKey,t.documentKey),n!==0?n:Bt(s.largestBatchId,t.largestBatchId))}const Q2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function qo(s){if(s.code!==Q.FAILED_PRECONDITION||s.message!==Q2)throw s;lt("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new J(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):J.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):J.reject(n)}static resolve(t){return new J(((n,r)=>{n(t)}))}static reject(t){return new J(((n,r)=>{r(t)}))}static waitFor(t){return new J(((n,r)=>{let o=0,u=0,f=!1;t.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&n()}),(_=>r(_)))})),f=!0,u===o&&n()}))}static or(t){let n=J.resolve(!1);for(const r of t)n=n.next((o=>o?J.resolve(o):r()));return n}static forEach(t,n){const r=[];return t.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(t,n){return new J(((r,o)=>{const u=t.length,f=new Array(u);let p=0;for(let _=0;_<u;_++){const g=_;n(t[g]).next((T=>{f[g]=T,++p,p===u&&r(f)}),(T=>o(T)))}}))}static doWhile(t,n){return new J(((r,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):r()};u()}))}}function X2(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ho(s){return s.name==="IndexedDbTransactionError"}class Fh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Fh.ce=-1;const Vp=-1;function Gh(s){return s==null}function bh(s){return s===0&&1/s==-1/0}function $2(s){return typeof s=="number"&&Number.isInteger(s)&&!bh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const f0="";function J2(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=LE(t)),t=Z2(s.get(n),t);return LE(t)}function Z2(s,t){let n=t;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case f0:n+="";break;default:n+=u}}return n}function LE(s){return s+f0+""}function UE(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function Vr(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function d0(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class Ee{constructor(t,n){this.comparator=t,this.root=n||en.EMPTY}insert(t,n){return new Ee(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(t){return new Ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,en.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new nh(this.root,t,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new nh(this.root,t,this.comparator,!0)}}class nh{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class en{constructor(t,n,r,o,u){this.key=t,this.value=n,this.color=r??en.RED,this.left=o??en.EMPTY,this.right=u??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,u){return new en(t??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return en.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,r,o,u){return this}insert(t,n,r){return new en(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fe{constructor(t){this.comparator=t,this.data=new Ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new PE(this.data.getIterator())}getIteratorFrom(t){return new PE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Fe(this.comparator);return n.data=t,n}}class PE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zn{constructor(t){this.fields=t,t.sort(nn.comparator)}static empty(){return new zn([])}unionWith(t){let n=new Fe(nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new zn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Oo(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class m0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new m0("Invalid base64 string: "+u):u}})(t);return new sn(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new sn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const W2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(s){if(Wt(!!s,39018),typeof s=="string"){let t=0;const n=W2.exec(s);if(Wt(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:De(s.seconds),nanos:De(s.nanos)}}function De(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Nr(s){return typeof s=="string"?sn.fromBase64String(s):sn.fromUint8Array(s)}const p0="server_timestamp",g0="__type__",y0="__previous_value__",_0="__local_write_time__";function kp(s){return(s?.mapValue?.fields||{})[g0]?.stringValue===p0}function Kh(s){const t=s.mapValue.fields[y0];return kp(t)?Kh(t):t}function ou(s){const t=Cr(s.mapValue.fields[_0].timestampValue);return new pe(t.seconds,t.nanos)}class tN{constructor(t,n,r,o,u,f,p,_,g,T,S){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=g,this.isUsingEmulator=T,this.apiKey=S}}const Rh="(default)";class lu{constructor(t,n){this.projectId=t,this.database=n||Rh}static empty(){return new lu("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(t){return t instanceof lu&&t.projectId===this.projectId&&t.database===this.database}}function eN(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new st(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(s.options.projectId,t)}const v0="__type__",nN="__max__",ih={mapValue:{}},E0="__vector__",Ih="value";function Dr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?kp(s)?4:sN(s)?9007199254740991:iN(s)?10:11:Et(28295,{value:s})}function Ji(s,t){if(s===t)return!0;const n=Dr(s);if(n!==Dr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return ou(s).isEqual(ou(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Cr(o.timestampValue),p=Cr(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,u){return Nr(o.bytesValue).isEqual(Nr(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,u){return De(o.geoPointValue.latitude)===De(u.geoPointValue.latitude)&&De(o.geoPointValue.longitude)===De(u.geoPointValue.longitude)})(s,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return De(o.integerValue)===De(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=De(o.doubleValue),p=De(u.doubleValue);return f===p?bh(f)===bh(p):isNaN(f)&&isNaN(p)}return!1})(s,t);case 9:return Oo(s.arrayValue.values||[],t.arrayValue.values||[],Ji);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(UE(f)!==UE(p))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(p[_]===void 0||!Ji(f[_],p[_])))return!1;return!0})(s,t);default:return Et(52216,{left:s})}}function uu(s,t){return(s.values||[]).find((n=>Ji(n,t)))!==void 0}function Mo(s,t){if(s===t)return 0;const n=Dr(s),r=Dr(t);if(n!==r)return Bt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Bt(s.booleanValue,t.booleanValue);case 2:return(function(u,f){const p=De(u.integerValue||u.doubleValue),_=De(f.integerValue||f.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,t);case 3:return zE(s.timestampValue,t.timestampValue);case 4:return zE(ou(s),ou(t));case 5:return jm(s.stringValue,t.stringValue);case 6:return(function(u,f){const p=Nr(u),_=Nr(f);return p.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(u,f){const p=u.split("/"),_=f.split("/");for(let g=0;g<p.length&&g<_.length;g++){const T=Bt(p[g],_[g]);if(T!==0)return T}return Bt(p.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,f){const p=Bt(De(u.latitude),De(f.latitude));return p!==0?p:Bt(De(u.longitude),De(f.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return jE(s.arrayValue,t.arrayValue);case 10:return(function(u,f){const p=u.fields||{},_=f.fields||{},g=p[Ih]?.arrayValue,T=_[Ih]?.arrayValue,S=Bt(g?.values?.length||0,T?.values?.length||0);return S!==0?S:jE(g,T)})(s.mapValue,t.mapValue);case 11:return(function(u,f){if(u===ih.mapValue&&f===ih.mapValue)return 0;if(u===ih.mapValue)return 1;if(f===ih.mapValue)return-1;const p=u.fields||{},_=Object.keys(p),g=f.fields||{},T=Object.keys(g);_.sort(),T.sort();for(let S=0;S<_.length&&S<T.length;++S){const C=jm(_[S],T[S]);if(C!==0)return C;const F=Mo(p[_[S]],g[T[S]]);if(F!==0)return F}return Bt(_.length,T.length)})(s.mapValue,t.mapValue);default:throw Et(23264,{he:n})}}function zE(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Bt(s,t);const n=Cr(s),r=Cr(t),o=Bt(n.seconds,r.seconds);return o!==0?o:Bt(n.nanos,r.nanos)}function jE(s,t){const n=s.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=Mo(n[o],r[o]);if(u)return u}return Bt(n.length,r.length)}function Vo(s){return Bm(s)}function Bm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=Cr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Nr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return gt.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Bm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${Bm(n.fields[f])}`;return o+"}"})(s.mapValue):Et(61005,{value:s})}function hh(s){switch(Dr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Kh(s);return t?16+hh(t):16;case 5:return 2*s.stringValue.length;case 6:return Nr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+hh(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Vr(r.fields,((u,f)=>{o+=u.length+hh(f)})),o})(s.mapValue);default:throw Et(13486,{value:s})}}function BE(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function qm(s){return!!s&&"integerValue"in s}function xp(s){return!!s&&"arrayValue"in s}function qE(s){return!!s&&"nullValue"in s}function HE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function fh(s){return!!s&&"mapValue"in s}function iN(s){return(s?.mapValue?.fields||{})[v0]?.stringValue===E0}function Wl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Vr(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=Wl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Wl(s.arrayValue.values[n]);return t}return{...s}}function sN(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===nN}class Rn{constructor(t){this.value=t}static empty(){return new Rn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!fh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Wl(n)}setAll(t){let n=nn.emptyPath(),r={},o=[];t.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const _=this.getFieldsMap(n);this.applyChanges(_,r,o),r={},o=[],n=p.popLast()}f?r[p.lastSegment()]=Wl(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(t){const n=this.field(t.popLast());fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ji(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){Vr(n,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new Rn(Wl(this.value))}}function T0(s){const t=[];return Vr(s.fields,((n,r)=>{const o=new nn([n]);if(fh(r)){const u=T0(r.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new zn(t)}class cn{constructor(t,n,r,o,u,f,p){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(t){return new cn(t,0,bt.min(),bt.min(),bt.min(),Rn.empty(),0)}static newFoundDocument(t,n,r,o){return new cn(t,1,n,bt.min(),r,o,0)}static newNoDocument(t,n){return new cn(t,2,n,bt.min(),bt.min(),Rn.empty(),0)}static newUnknownDocument(t,n){return new cn(t,3,n,bt.min(),bt.min(),Rn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof cn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ch{constructor(t,n){this.position=t,this.inclusive=n}}function FE(s,t,n){let r=0;for(let o=0;o<s.position.length;o++){const u=t[o],f=s.position[o];if(u.field.isKeyField()?r=gt.comparator(gt.fromName(f.referenceValue),n.key):r=Mo(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function GE(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ji(s.position[n],t.position[n]))return!1;return!0}class cu{constructor(t,n="asc"){this.field=t,this.dir=n}}function rN(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class A0{}class je extends A0{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new oN(t,n,r):n==="array-contains"?new cN(t,r):n==="in"?new hN(t,r):n==="not-in"?new fN(t,r):n==="array-contains-any"?new dN(t,r):new je(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new lN(t,r):new uN(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Mo(n,this.value)):n!==null&&Dr(this.value)===Dr(n)&&this.matchesComparison(Mo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ei extends A0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ei(t,n)}matches(t){return S0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function S0(s){return s.op==="and"}function w0(s){return aN(s)&&S0(s)}function aN(s){for(const t of s.filters)if(t instanceof Ei)return!1;return!0}function Hm(s){if(s instanceof je)return s.field.canonicalString()+s.op.toString()+Vo(s.value);if(w0(s))return s.filters.map((t=>Hm(t))).join(",");{const t=s.filters.map((n=>Hm(n))).join(",");return`${s.op}(${t})`}}function b0(s,t){return s instanceof je?(function(r,o){return o instanceof je&&r.op===o.op&&r.field.isEqual(o.field)&&Ji(r.value,o.value)})(s,t):s instanceof Ei?(function(r,o){return o instanceof Ei&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,p)=>u&&b0(f,o.filters[p])),!0):!1})(s,t):void Et(19439)}function R0(s){return s instanceof je?(function(n){return`${n.field.canonicalString()} ${n.op} ${Vo(n.value)}`})(s):s instanceof Ei?(function(n){return n.op.toString()+" {"+n.getFilters().map(R0).join(" ,")+"}"})(s):"Filter"}class oN extends je{constructor(t,n,r){super(t,n,r),this.key=gt.fromName(r.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class lN extends je{constructor(t,n){super(t,"in",n),this.keys=I0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class uN extends je{constructor(t,n){super(t,"not-in",n),this.keys=I0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function I0(s,t){return(t.arrayValue?.values||[]).map((n=>gt.fromName(n.referenceValue)))}class cN extends je{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return xp(n)&&uu(n.arrayValue,this.value)}}class hN extends je{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&uu(this.value.arrayValue,n)}}class fN extends je{constructor(t,n){super(t,"not-in",n)}matches(t){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uu(this.value.arrayValue,n)}}class dN extends je{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!xp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>uu(this.value.arrayValue,r)))}}class mN{constructor(t,n=null,r=[],o=[],u=null,f=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function KE(s,t=null,n=[],r=[],o=null,u=null,f=null){return new mN(s,t,n,r,o,u,f)}function Lp(s){const t=Ct(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>Hm(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Gh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>Vo(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>Vo(r))).join(",")),t.Te=n}return t.Te}function Up(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!rN(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!b0(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!GE(s.startAt,t.startAt)&&GE(s.endAt,t.endAt)}function Fm(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ca{constructor(t,n=null,r=[],o=[],u=null,f="F",p=null,_=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function pN(s,t,n,r,o,u,f,p){return new Ca(s,t,n,r,o,u,f,p)}function Qh(s){return new Ca(s)}function QE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function gN(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function C0(s){return s.collectionGroup!==null}function tu(s){const t=Ct(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Fe(nn.comparator);return f.filters.forEach((_=>{_.getFlattenedFilters().forEach((g=>{g.isInequality()&&(p=p.add(g.field))}))})),p})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new cu(u,r))})),n.has(nn.keyField().canonicalString())||t.Ie.push(new cu(nn.keyField(),r))}return t.Ie}function Gi(s){const t=Ct(s);return t.Ee||(t.Ee=yN(t,tu(s))),t.Ee}function yN(s,t){if(s.limitType==="F")return KE(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new cu(o.field,u)}));const n=s.endAt?new Ch(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Ch(s.startAt.position,s.startAt.inclusive):null;return KE(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function Gm(s,t){const n=s.filters.concat([t]);return new Ca(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function _N(s,t){const n=s.explicitOrderBy.concat([t]);return new Ca(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function Km(s,t,n){return new Ca(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function Yh(s,t){return Up(Gi(s),Gi(t))&&s.limitType===t.limitType}function N0(s){return`${Lp(Gi(s))}|lt:${s.limitType}`}function Ao(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>R0(o))).join(", ")}]`),Gh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Vo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Vo(o))).join(",")),`Target(${r})`})(Gi(s))}; limitType=${s.limitType})`}function Xh(s,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):gt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,o){for(const u of tu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,t)&&(function(r,o){return!(r.startAt&&!(function(f,p,_){const g=FE(f,p,_);return f.inclusive?g<=0:g<0})(r.startAt,tu(r),o)||r.endAt&&!(function(f,p,_){const g=FE(f,p,_);return f.inclusive?g>=0:g>0})(r.endAt,tu(r),o))})(s,t)}function vN(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function D0(s){return(t,n)=>{let r=!1;for(const o of tu(s)){const u=EN(o,t,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function EN(s,t,n){const r=s.field.isKeyField()?gt.comparator(t.key,n.key):(function(u,f,p){const _=f.data.field(u),g=p.data.field(u);return _!==null&&g!==null?Mo(_,g):Et(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Et(19790,{direction:s.dir})}}class Na{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Vr(this.inner,((n,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return d0(this.inner)}size(){return this.innerSize}}const TN=new Ee(gt.comparator);function ks(){return TN}const O0=new Ee(gt.comparator);function Yl(...s){let t=O0;for(const n of s)t=t.insert(n.key,n);return t}function M0(s){let t=O0;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function da(){return eu()}function V0(){return eu()}function eu(){return new Na((s=>s.toString()),((s,t)=>s.isEqual(t)))}const AN=new Ee(gt.comparator),SN=new Fe(gt.comparator);function qt(...s){let t=SN;for(const n of s)t=t.add(n);return t}const wN=new Fe(Bt);function bN(){return wN}function Pp(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(t)?"-0":t}}function k0(s){return{integerValue:""+s}}function RN(s,t){return $2(t)?k0(t):Pp(s,t)}class $h{constructor(){this._=void 0}}function IN(s,t,n){return s instanceof hu?(function(o,u){const f={fields:{[g0]:{stringValue:p0},[_0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&kp(u)&&(u=Kh(u)),u&&(f.fields[y0]=u),{mapValue:f}})(n,t):s instanceof fu?L0(s,t):s instanceof du?U0(s,t):(function(o,u){const f=x0(o,u),p=YE(f)+YE(o.Ae);return qm(f)&&qm(o.Ae)?k0(p):Pp(o.serializer,p)})(s,t)}function CN(s,t,n){return s instanceof fu?L0(s,t):s instanceof du?U0(s,t):n}function x0(s,t){return s instanceof Nh?(function(r){return qm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class hu extends $h{}class fu extends $h{constructor(t){super(),this.elements=t}}function L0(s,t){const n=P0(t);for(const r of s.elements)n.some((o=>Ji(o,r)))||n.push(r);return{arrayValue:{values:n}}}class du extends $h{constructor(t){super(),this.elements=t}}function U0(s,t){let n=P0(t);for(const r of s.elements)n=n.filter((o=>!Ji(o,r)));return{arrayValue:{values:n}}}class Nh extends $h{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function YE(s){return De(s.integerValue||s.doubleValue)}function P0(s){return xp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class NN{constructor(t,n){this.field=t,this.transform=n}}function DN(s,t){return s.field.isEqual(t.field)&&(function(r,o){return r instanceof fu&&o instanceof fu||r instanceof du&&o instanceof du?Oo(r.elements,o.elements,Ji):r instanceof Nh&&o instanceof Nh?Ji(r.Ae,o.Ae):r instanceof hu&&o instanceof hu})(s.transform,t.transform)}class ON{constructor(t,n){this.version=t,this.transformResults=n}}class gn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new gn}static exists(t){return new gn(void 0,t)}static updateTime(t){return new gn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function dh(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Jh{}function z0(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Zh(s.key,gn.none()):new Tu(s.key,s.data,gn.none());{const n=s.data,r=Rn.empty();let o=new Fe(nn.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new kr(s.key,r,new zn(o.toArray()),gn.none())}}function MN(s,t,n){s instanceof Tu?(function(o,u,f){const p=o.value.clone(),_=$E(o.fieldTransforms,u,f.transformResults);p.setAll(_),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(s,t,n):s instanceof kr?(function(o,u,f){if(!dh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=$E(o.fieldTransforms,u,f.transformResults),_=u.data;_.setAll(j0(o)),_.setAll(p),u.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(s,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function nu(s,t,n,r){return s instanceof Tu?(function(u,f,p,_){if(!dh(u.precondition,f))return p;const g=u.value.clone(),T=JE(u.fieldTransforms,_,f);return g.setAll(T),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(s,t,n,r):s instanceof kr?(function(u,f,p,_){if(!dh(u.precondition,f))return p;const g=JE(u.fieldTransforms,_,f),T=f.data;return T.setAll(j0(u)),T.setAll(g),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,t,n,r):(function(u,f,p){return dh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(s,t,n)}function VN(s,t){let n=null;for(const r of s.fieldTransforms){const o=t.data.field(r.field),u=x0(r.transform,o||null);u!=null&&(n===null&&(n=Rn.empty()),n.set(r.field,u))}return n||null}function XE(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Oo(r,o,((u,f)=>DN(u,f)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Tu extends Jh{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class kr extends Jh{constructor(t,n,r,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function j0(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function $E(s,t,n){const r=new Map;Wt(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,p=t.data.field(u.field);r.set(u.field,CN(f,p,n[o]))}return r}function JE(s,t,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,IN(u,f,t))}return r}class Zh extends Jh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kN extends Jh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xN{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&MN(u,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=nu(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=nu(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=V0();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const _=z0(f,p);_!==null&&r.set(o.key,_),f.isValidDocument()||f.convertToNoDocument(bt.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),qt())}isEqual(t){return this.batchId===t.batchId&&Oo(this.mutations,t.mutations,((n,r)=>XE(n,r)))&&Oo(this.baseMutations,t.baseMutations,((n,r)=>XE(n,r)))}}class zp{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){Wt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return AN})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new zp(t,n,r,o)}}class LN{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class UN{constructor(t,n){this.count=t,this.unchangedNames=n}}var ze,Kt;function PN(s){switch(s){case Q.OK:return Et(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return Et(15467,{code:s})}}function B0(s){if(s===void 0)return Vs("GRPC error has no .code"),Q.UNKNOWN;switch(s){case ze.OK:return Q.OK;case ze.CANCELLED:return Q.CANCELLED;case ze.UNKNOWN:return Q.UNKNOWN;case ze.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case ze.INTERNAL:return Q.INTERNAL;case ze.UNAVAILABLE:return Q.UNAVAILABLE;case ze.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case ze.NOT_FOUND:return Q.NOT_FOUND;case ze.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case ze.ABORTED:return Q.ABORTED;case ze.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case ze.DATA_LOSS:return Q.DATA_LOSS;default:return Et(39323,{code:s})}}(Kt=ze||(ze={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";function zN(){return new TextEncoder}const jN=new wr([4294967295,4294967295],0);function ZE(s){const t=zN().encode(s),n=new i0;return n.update(t),new Uint8Array(n.digest())}function WE(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new wr([n,r],0),new wr([o,u],0)]}class jp{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xl(`Invalid padding: ${n}`);if(r<0)throw new Xl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=wr.fromNumber(this.ge)}ye(t,n,r){let o=t.add(n.multiply(wr.fromNumber(r)));return o.compare(jN)===1&&(o=new wr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=ZE(t),[r,o]=WE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new jp(u,o,n);return r.forEach((p=>f.insert(p))),f}insert(t){if(this.ge===0)return;const n=ZE(t),[r,o]=WE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.be(f)}}be(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wh{constructor(t,n,r,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,Au.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Wh(bt.min(),o,new Ee(Bt),ks(),qt())}}class Au{constructor(t,n,r,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Au(r,n,qt(),qt(),qt())}}class mh{constructor(t,n,r,o){this.Se=t,this.removedTargetIds=n,this.key=r,this.De=o}}class q0{constructor(t,n){this.targetId=t,this.Ce=n}}class H0{constructor(t,n,r=sn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class tT{constructor(){this.ve=0,this.Fe=eT(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=qt(),n=qt(),r=qt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Et(38017,{changeType:u})}})),new Au(this.Me,this.xe,t,n,r)}Ke(){this.Oe=!1,this.Fe=eT()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class BN{constructor(t){this.Ge=t,this.ze=new Map,this.je=ks(),this.He=sh(),this.Je=sh(),this.Ze=new Ee(Bt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,r=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Fm(u))if(r===0){const f=new gt(u.path);this.et(n,f,cn.newNoDocument(f,bt.min()))}else Wt(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const p=this.ut(t),_=p?this.ct(p,t,f):1;if(_!==0){this.it(n);const g=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=Nr(r).toUint8Array()}catch(_){if(_ instanceof m0)return Aa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new jp(f,o,u)}catch(_){return Aa(_ instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&Fm(p.target)){const _=new gt(p.target.path);this.It(_).has(f)||this.Et(f,_)||this.et(f,_,cn.newNoDocument(_,t))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let r=qt();this.Je.forEach(((u,f)=>{let p=!0;f.forEachWhile((_=>{const g=this.ot(_);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Wh(t,n,this.Ze,this.je,r);return this.je=ks(),this.He=sh(),this.Je=sh(),this.Ze=new Ee(Bt),o}Ye(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new tT,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Fe(Bt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Fe(Bt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||lt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new tT),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function sh(){return new Ee(gt.comparator)}function eT(){return new Ee(gt.comparator)}const qN={asc:"ASCENDING",desc:"DESCENDING"},HN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FN={and:"AND",or:"OR"};class GN{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Qm(s,t){return s.useProto3Json||Gh(t)?t:{value:t}}function Dh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function F0(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function KN(s,t){return Dh(s,t.toTimestamp())}function Ki(s){return Wt(!!s,49232),bt.fromTimestamp((function(n){const r=Cr(n);return new pe(r.seconds,r.nanos)})(s))}function Bp(s,t){return Ym(s,t).canonicalString()}function Ym(s,t){const n=(function(o){return new ce(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?n:n.child(t)}function G0(s){const t=ce.fromString(s);return Wt($0(t),10190,{key:t.toString()}),t}function Xm(s,t){return Bp(s.databaseId,t.path)}function wm(s,t){const n=G0(t);if(n.get(1)!==s.databaseId.projectId)throw new st(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new st(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new gt(Q0(n))}function K0(s,t){return Bp(s.databaseId,t)}function QN(s){const t=G0(s);return t.length===4?ce.emptyPath():Q0(t)}function $m(s){return new ce(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Q0(s){return Wt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function nT(s,t,n){return{name:Xm(s,t),fields:n.value.mapValue.fields}}function YN(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Et(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,T){return g.useProto3Json?(Wt(T===void 0||typeof T=="string",58123),sn.fromBase64String(T||"")):(Wt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),sn.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&(function(g){const T=g.code===void 0?Q.UNKNOWN:B0(g.code);return new st(T,g.message||"")})(f);n=new H0(r,o,u,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=wm(s,r.document.name),u=Ki(r.document.updateTime),f=r.document.createTime?Ki(r.document.createTime):bt.min(),p=new Rn({mapValue:{fields:r.document.fields}}),_=cn.newFoundDocument(o,u,f,p),g=r.targetIds||[],T=r.removedTargetIds||[];n=new mh(g,T,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=wm(s,r.document),u=r.readTime?Ki(r.readTime):bt.min(),f=cn.newNoDocument(o,u),p=r.removedTargetIds||[];n=new mh([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=wm(s,r.document),u=r.removedTargetIds||[];n=new mh([],u,o,null)}else{if(!("filter"in t))return Et(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new UN(o,u),p=r.targetId;n=new q0(p,f)}}return n}function XN(s,t){let n;if(t instanceof Tu)n={update:nT(s,t.key,t.value)};else if(t instanceof Zh)n={delete:Xm(s,t.key)};else if(t instanceof kr)n={update:nT(s,t.key,t.data),updateMask:sD(t.fieldMask)};else{if(!(t instanceof kN))return Et(16599,{dt:t.type});n={verify:Xm(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,f){const p=f.transform;if(p instanceof hu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof fu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof du)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Nh)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Et(20930,{transform:f.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:KN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et(27497)})(s,t.precondition)),n}function $N(s,t){return s&&s.length>0?(Wt(t!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?Ki(o.updateTime):Ki(u);return f.isEqual(bt.min())&&(f=Ki(u)),new ON(f,o.transformResults||[])})(n,t)))):[]}function JN(s,t){return{documents:[K0(s,t.path)]}}function ZN(s,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=K0(s,o);const u=(function(g){if(g.length!==0)return X0(Ei.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((T=>(function(C){return{field:So(C.field),direction:eD(C.dir)}})(T)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const p=Qm(s,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function WN(s){let t=QN(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Wt(r===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=(function(S){const C=Y0(S);return C instanceof Ei&&w0(C)?C.getFilters():[C]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((C=>(function(Z){return new cu(wo(Z.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(C)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let C;return C=typeof S=="object"?S.value:S,Gh(C)?null:C})(n.limit));let _=null;n.startAt&&(_=(function(S){const C=!!S.before,F=S.values||[];return new Ch(F,C)})(n.startAt));let g=null;return n.endAt&&(g=(function(S){const C=!S.before,F=S.values||[];return new Ch(F,C)})(n.endAt)),pN(t,o,f,u,p,"F",_,g)}function tD(s,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Y0(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=wo(n.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=wo(n.unaryFilter.field);return je.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=wo(n.unaryFilter.field);return je.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=wo(n.unaryFilter.field);return je.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(s):s.fieldFilter!==void 0?(function(n){return je.create(wo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Ei.create(n.compositeFilter.filters.map((r=>Y0(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(n.compositeFilter.op))})(s):Et(30097,{filter:s})}function eD(s){return qN[s]}function nD(s){return HN[s]}function iD(s){return FN[s]}function So(s){return{fieldPath:s.canonicalString()}}function wo(s){return nn.fromServerFormat(s.fieldPath)}function X0(s){return s instanceof je?(function(n){if(n.op==="=="){if(HE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NAN"}};if(qE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(HE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NAN"}};if(qE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(n.field),op:nD(n.op),value:n.value}}})(s):s instanceof Ei?(function(n){const r=n.getFilters().map((o=>X0(o)));return r.length===1?r[0]:{compositeFilter:{op:iD(n.op),filters:r}}})(s):Et(54877,{filter:s})}function sD(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function $0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function J0(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Tr{constructor(t,n,r,o,u=bt.min(),f=bt.min(),p=sn.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Tr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class rD{constructor(t){this.yt=t}}function aD(s){const t=WN({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Km(t,t.limit,"L"):t}class oD{constructor(){this.Sn=new lD}addToCollectionParentIndex(t,n){return this.Sn.add(n),J.resolve()}getCollectionParents(t,n){return J.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return J.resolve()}deleteFieldIndex(t,n){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,n){return J.resolve()}getDocumentsMatchingTarget(t,n){return J.resolve(null)}getIndexType(t,n){return J.resolve(0)}getFieldIndexes(t,n){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,n){return J.resolve(Ir.min())}getMinOffsetFromCollectionGroup(t,n){return J.resolve(Ir.min())}updateCollectionGroup(t,n,r){return J.resolve()}updateIndexEntries(t,n){return J.resolve()}}class lD{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Fe(ce.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Fe(ce.comparator)).toArray()}}const iT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Z0=41943040;class bn{static withCacheSize(t){return new bn(t,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(Z0,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class ko{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ko(0)}static ar(){return new ko(-1)}}const sT="LruGarbageCollector",uD=1048576;function rT([s,t],[n,r]){const o=Bt(s,n);return o===0?Bt(t,r):o}class cD{constructor(t){this.Pr=t,this.buffer=new Fe(rT),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();rT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class hD{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){lt(sT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ho(n)?lt(sT,"Ignoring IndexedDB error during garbage collection: ",n):await qo(n)}await this.Ar(3e5)}))}}class fD{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return J.resolve(Fh.ce);const r=new cD(n);return this.Vr.forEachTarget(t,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(iT)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iT):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let r,o,u,f,p,_,g;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(r=S,p=Date.now(),this.removeTargets(t,r,n)))).next((S=>(u=S,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(g=Date.now(),To()<=jt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(g-_)+`ms
Total Duration: ${g-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function dD(s,t){return new fD(s,t)}class mD{constructor(){this.changes=new Na((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,cn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class pD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class gD{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(r!==null&&nu(r.mutation,o,zn.empty(),pe.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,qt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=qt()){const o=da();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,r).next((u=>{let f=Yl();return u.forEach(((p,_)=>{f=f.insert(p,_.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const r=da();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,qt())))}populateOverlays(t,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(t,n,r,o){let u=ks();const f=eu(),p=(function(){return eu()})();return n.forEach(((_,g)=>{const T=r.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof kr)?u=u.insert(g.key,g):T!==void 0?(f.set(g.key,T.mutation.getFieldMask()),nu(T.mutation,g,T.mutation.getFieldMask(),pe.now())):f.set(g.key,zn.empty())})),this.recalculateAndSaveOverlays(t,u).next((_=>(_.forEach(((g,T)=>f.set(g,T))),n.forEach(((g,T)=>p.set(g,new pD(T,f.get(g)??null)))),p)))}recalculateAndSaveOverlays(t,n){const r=eu();let o=new Ee(((f,p)=>f-p)),u=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const p of f)p.keys().forEach((_=>{const g=n.get(_);if(g===null)return;let T=r.get(_)||zn.empty();T=p.applyToLocalView(g,T),r.set(_,T);const S=(o.get(p.batchId)||qt()).add(_);o=o.insert(p.batchId,S)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),g=_.key,T=_.value,S=V0();T.forEach((C=>{if(!u.has(C)){const F=z0(n.get(C),r.get(C));F!==null&&S.set(C,F),u=u.add(C)}})),f.push(this.documentOverlayCache.saveOverlays(t,g,S))}return J.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,o){return gN(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):C0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-u.size):J.resolve(da());let p=au,_=u;return f.next((g=>J.forEach(g,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(T)?J.resolve():this.remoteDocumentCache.getEntry(t,T).next((C=>{_=_.insert(T,C)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,_,g,qt()))).next((T=>({batchId:p,changes:M0(T)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next((r=>{let o=Yl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const u=n.collectionGroup;let f=Yl();return this.indexManager.getCollectionParents(t,u).next((p=>J.forEach(p,(_=>{const g=(function(S,C){return new Ca(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,_.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((T=>{T.forEach(((S,C)=>{f=f.insert(S,C)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,o)))).next((f=>{u.forEach(((_,g)=>{const T=g.getKey();f.get(T)===null&&(f=f.insert(T,cn.newInvalidDocument(T)))}));let p=Yl();return f.forEach(((_,g)=>{const T=u.get(_);T!==void 0&&nu(T.mutation,g,zn.empty(),pe.now()),Xh(n,g)&&(p=p.insert(_,g))})),p}))}}class yD{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return J.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ki(o.createTime)}})(n)),J.resolve()}getNamedQuery(t,n){return J.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:aD(o.bundledQuery),readTime:Ki(o.readTime)}})(n)),J.resolve()}}class _D{constructor(){this.overlays=new Ee(gt.comparator),this.Lr=new Map}getOverlay(t,n){return J.resolve(this.overlays.get(n))}getOverlays(t,n){const r=da();return J.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((o,u)=>{this.bt(t,n,u)})),J.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),J.resolve()}getOverlaysForCollection(t,n,r){const o=da(),u=n.length+1,f=new gt(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const _=p.getNext().value,g=_.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&_.largestBatchId>r&&o.set(_.getKey(),_)}return J.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let u=new Ee(((g,T)=>g-T));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let T=u.get(g.largestBatchId);T===null&&(T=da(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const p=da(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((g,T)=>p.set(g,T))),!(p.size()>=o)););return J.resolve(p)}bt(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new LN(n,r));let u=this.Lr.get(n);u===void 0&&(u=qt(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class vD{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,J.resolve()}}class qp{constructor(){this.kr=new Fe(Ye.Kr),this.qr=new Fe(Ye.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const r=new Ye(t,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Wr(new Ye(t,n))}Qr(t,n){t.forEach((r=>this.removeReference(r,n)))}Gr(t){const n=new gt(new ce([])),r=new Ye(n,t),o=new Ye(n,t+1),u=[];return this.qr.forEachInRange([r,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new gt(new ce([])),r=new Ye(n,t),o=new Ye(n,t+1);let u=qt();return this.qr.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Ye(t,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Ye{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return gt.comparator(t.key,n.key)||Bt(t.Hr,n.Hr)}static Ur(t,n){return Bt(t.Hr,n.Hr)||gt.comparator(t.key,n.key)}}class ED{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Fe(Ye.Kr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new xN(u,n,r,o);this.mutationQueue.push(f);for(const p of o)this.Jr=this.Jr.add(new Ye(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return J.resolve(f)}lookupMutationBatch(t,n){return J.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.Xr(r),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Vp:this.Yn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Ye(n,0),o=new Ye(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(f=>{const p=this.Zr(f.Hr);u.push(p)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Fe(Bt);return n.forEach((o=>{const u=new Ye(o,0),f=new Ye(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(p=>{r=r.add(p.Hr)}))})),J.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let u=r;gt.isDocumentKey(u)||(u=u.child(""));const f=new Ye(new gt(u),0);let p=new Fe(Bt);return this.Jr.forEachWhile((_=>{const g=_.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(p=p.add(_.Hr)),!0)}),f),J.resolve(this.Yr(p))}Yr(t){const n=[];return t.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Wt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return J.forEach(n.mutations,(o=>{const u=new Ye(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,n){const r=new Ye(n,0),o=this.Jr.firstAfterOrEqual(r);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class TD{constructor(t){this.ti=t,this.docs=(function(){return new Ee(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(t,n){let r=ks();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():cn.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let u=ks();const f=n.path,p=new gt(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:g,value:{document:T}}=_.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||K2(G2(T),r)<=0||(o.has(T.key)||Xh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,n,r,o){Et(9500)}ni(t,n){return J.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new AD(this)}getSize(t){return J.resolve(this.size)}}class AD extends mD{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(r)})),J.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class SD{constructor(t){this.persistence=t,this.ri=new Na((n=>Lp(n)),Up),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.ii=0,this.si=new qp,this.targetCount=0,this.oi=ko._r()}forEachTarget(t,n){return this.ri.forEach(((r,o)=>n(o))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),J.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new ko(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,J.resolve()}updateTargetData(t,n){return this.lr(n),J.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,n,r){let o=0;const u=[];return this.ri.forEach(((f,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),J.waitFor(u).next((()=>o))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,n){const r=this.ri.get(n)||null;return J.resolve(r)}addMatchingKeys(t,n,r){return this.si.$r(n,r),J.resolve()}removeMatchingKeys(t,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),J.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),J.resolve()}getMatchingKeysForTargetId(t,n){const r=this.si.jr(n);return J.resolve(r)}containsKey(t,n){return J.resolve(this.si.containsKey(n))}}class W0{constructor(t,n){this._i={},this.overlays={},this.ai=new Fh(0),this.ui=!1,this.ui=!0,this.ci=new vD,this.referenceDelegate=t(this),this.li=new SD(this),this.indexManager=new oD,this.remoteDocumentCache=(function(o){return new TD(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new rD(n),this.Pi=new yD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new _D,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this._i[t.toKey()];return r||(r=new ED(n,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,r){lt("MemoryPersistence","Starting transaction:",t);const o=new wD(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return J.or(Object.values(this._i).map((r=>()=>r.containsKey(t,n))))}}class wD extends Y2{constructor(t){super(),this.currentSequenceNumber=t}}class Hp{constructor(t){this.persistence=t,this.Ri=new qp,this.Ai=null}static Vi(t){return new Hp(t)}get di(){if(this.Ai)return this.Ai;throw Et(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),J.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),J.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),J.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(r=>{const o=gt.fromPath(r);return this.mi(t,o).next((u=>{u||n.removeEntry(o,bt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Oh{constructor(t,n){this.persistence=t,this.fi=new Na((r=>J2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=dD(this,n)}static Vi(t,n){return new Oh(t,n)}Ti(){}Ii(t){return J.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}pr(t){let n=0;return this.mr(t,(r=>{n++})).next((()=>n))}mr(t,n){return J.forEach(this.fi,((r,o)=>this.wr(t,r,o).next((u=>u?J.resolve():n(o)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(f=>this.wr(t,f,n).next((p=>{p||(r++,u.removeEntry(f,bt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),J.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),J.resolve()}removeReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),J.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=hh(t.data.value)),n}wr(t,n,r){return J.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.fi.get(n);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Fp{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Ts=r,this.Is=o}static Es(t,n){let r=qt(),o=qt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Fp(t,n.fromCache,r,o)}}class bD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class RD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Kb()?8:X2(dn())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,o){const u={result:null};return this.gs(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(t,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new bD;return this.ys(t,n,f).next((p=>{if(u.result=p,this.As)return this.ws(t,n,f,p.size)}))})).next((()=>u.result))}ws(t,n,r,o){return r.documentReadCount<this.Vs?(To()<=jt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(To()<=jt.DEBUG&&lt("QueryEngine","Query:",Ao(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(To()<=jt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Gi(n))):J.resolve())}gs(t,n){if(QE(n))return J.resolve(null);let r=Gi(n);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Km(n,null,"F"),r=Gi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const f=qt(...u);return this.fs.getDocuments(t,f).next((p=>this.indexManager.getMinOffset(t,r).next((_=>{const g=this.bs(n,p);return this.Ss(n,g,f,_.readTime)?this.gs(t,Km(n,null,"F")):this.Ds(t,g,n,_)}))))})))))}ps(t,n,r,o){return QE(n)||o.isEqual(bt.min())?J.resolve(null):this.fs.getDocuments(t,r).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,r,o)?J.resolve(null):(To()<=jt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ao(n)),this.Ds(t,f,n,F2(o,au)).next((p=>p)))}))}bs(t,n){let r=new Fe(D0(t));return n.forEach(((o,u)=>{Xh(t,u)&&(r=r.add(u))})),r}Ss(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,n,r){return To()<=jt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Ao(n)),this.fs.getDocumentsMatchingQuery(t,n,Ir.min(),r)}Ds(t,n,r,o){return this.fs.getDocumentsMatchingQuery(t,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Gp="LocalStore",ID=3e8;class CD{constructor(t,n,r,o){this.persistence=t,this.Cs=n,this.serializer=o,this.vs=new Ee(Bt),this.Fs=new Na((u=>Lp(u)),Up),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new gD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function ND(s,t,n,r){return new CD(s,t,n,r)}async function tS(s,t){const n=Ct(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Os(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],p=[];let _=qt();for(const g of o){f.push(g.batchId);for(const T of g.mutations)_=_.add(T.key)}for(const g of u){p.push(g.batchId);for(const T of g.mutations)_=_.add(T.key)}return n.localDocuments.getDocuments(r,_).next((g=>({Ns:g,removedBatchIds:f,addedBatchIds:p})))}))}))}function DD(s,t){const n=Ct(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,g,T){const S=g.batch,C=S.keys();let F=J.resolve();return C.forEach((Z=>{F=F.next((()=>T.getEntry(_,Z))).next((tt=>{const W=g.docVersions.get(Z);Wt(W!==null,48541),tt.version.compareTo(W)<0&&(S.applyToRemoteDocument(tt,g),tt.isValidDocument()&&(tt.setReadTime(g.commitVersion),T.addEntry(tt)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=qt();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(_=_.add(p.batch.mutations[g].key));return _})(t)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function eS(s){const t=Ct(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function OD(s,t){const n=Ct(s),r=t.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];t.targetChanges.forEach(((T,S)=>{const C=o.get(S);if(!C)return;p.push(n.li.removeMatchingKeys(u,T.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,T.addedDocuments,S))));let F=C.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?F=F.withResumeToken(sn.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):T.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(T.resumeToken,r)),o=o.insert(S,F),(function(tt,W,rt){return tt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=ID?!0:rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0})(C,F,T)&&p.push(n.li.updateTargetData(u,F))}));let _=ks(),g=qt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(MD(u,f,t.documentUpdates).next((T=>{_=T.Bs,g=T.Ls}))),!r.isEqual(bt.min())){const T=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(T)}return J.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,_,g))).next((()=>_))})).then((u=>(n.vs=o,u)))}function MD(s,t,n){let r=qt(),o=qt();return n.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let f=ks();return n.forEach(((p,_)=>{const g=u.get(p);_.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(bt.min())?(t.removeEntry(p,_.readTime),f=f.insert(p,_)):!g.isValidDocument()||_.version.compareTo(g.version)>0||_.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(_),f=f.insert(p,_)):lt(Gp,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",_.version)})),{Bs:f,Ls:o}}))}function VD(s,t){const n=Ct(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Vp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function kD(s,t){const n=Ct(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,t).next((u=>u?(o=u,J.resolve(o)):n.li.allocateTargetId(r).next((f=>(o=new Tr(t,f,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(t,r.targetId)),r}))}async function Jm(s,t,n){const r=Ct(s),o=r.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Ho(f))throw f;lt(Gp,`Failed to update sequence numbers for target ${t}: ${f}`)}r.vs=r.vs.remove(t),r.Fs.delete(o.target)}function aT(s,t,n){const r=Ct(s);let o=bt.min(),u=qt();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(_,g,T){const S=Ct(_),C=S.Fs.get(T);return C!==void 0?J.resolve(S.vs.get(C)):S.li.getTargetData(g,T)})(r,f,Gi(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,p.targetId).next((_=>{u=_}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,t,n?o:bt.min(),n?u:qt()))).next((p=>(xD(r,vN(t),p),{documents:p,ks:u})))))}function xD(s,t,n){let r=s.Ms.get(t)||bt.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(t,r)}class oT{constructor(){this.activeTargetIds=bN()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class LD{constructor(){this.vo=new oT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,r){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new oT,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class UD{Mo(t){}shutdown(){}}const lT="ConnectivityMonitor";class uT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){lt(lT,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){lt(lT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rh=null;function Zm(){return rh===null?rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():rh++,"0x"+rh.toString(16)}const bm="RestConnection",PD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class zD{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===Rh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(t,n,r,o,u){const f=Zm(),p=this.Qo(t,n.toUriEncodedString());lt(bm,`Sending RPC '${t}' ${f}:`,p,r);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,o,u);const{host:g}=new URL(p),T=Lo(g);return this.zo(t,p,_,r,T).then((S=>(lt(bm,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw Aa(bm,`RPC '${t}' ${f} failed with error: `,S,"url: ",p,"request:",r),S}))}jo(t,n,r,o,u,f){return this.Wo(t,n,r,o,u)}Go(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}Qo(t,n){const r=PD[t];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class jD{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const ln="WebChannelConnection",Kl=(s,t,n)=>{s.listen(t,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Co extends zD{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Co.c_){const t=o0();Kl(t,a0.STAT_EVENT,(n=>{n.stat===zm.PROXY?lt(ln,"STAT_EVENT: detected buffering proxy"):n.stat===zm.NOPROXY&&lt(ln,"STAT_EVENT: detected no buffering proxy")})),Co.c_=!0}}zo(t,n,r,o,u){const f=Zm();return new Promise(((p,_)=>{const g=new s0;g.setWithCredentials(!0),g.listenOnce(r0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case ch.NO_ERROR:const S=g.getResponseJson();lt(ln,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),p(S);break;case ch.TIMEOUT:lt(ln,`RPC '${t}' ${f} timed out`),_(new st(Q.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const C=g.getStatus();if(lt(ln,`RPC '${t}' ${f} failed with status:`,C,"response text:",g.getResponseText()),C>0){let F=g.getResponseJson();Array.isArray(F)&&(F=F[0]);const Z=F?.error;if(Z&&Z.status&&Z.message){const tt=(function(rt){const dt=rt.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(dt)>=0?dt:Q.UNKNOWN})(Z.status);_(new st(tt,Z.message))}else _(new st(Q.UNKNOWN,"Server responded with status "+g.getStatus()))}else _(new st(Q.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{lt(ln,`RPC '${t}' ${f} completed.`)}}));const T=JSON.stringify(o);lt(ln,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",T,r,15)}))}T_(t,n,r){const o=Zm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const g=u.join("");lt(ln,`Creating RPC '${t}' stream ${o}: ${g}`,p);const T=f.createWebChannel(g,p);this.I_(T);let S=!1,C=!1;const F=new jD({Ho:Z=>{C?lt(ln,`Not sending because RPC '${t}' stream ${o} is closed:`,Z):(S||(lt(ln,`Opening RPC '${t}' stream ${o} transport.`),T.open(),S=!0),lt(ln,`RPC '${t}' stream ${o} sending:`,Z),T.send(Z))},Jo:()=>T.close()});return Kl(T,Ql.EventType.OPEN,(()=>{C||(lt(ln,`RPC '${t}' stream ${o} transport opened.`),F.i_())})),Kl(T,Ql.EventType.CLOSE,(()=>{C||(C=!0,lt(ln,`RPC '${t}' stream ${o} transport closed`),F.o_(),this.E_(T))})),Kl(T,Ql.EventType.ERROR,(Z=>{C||(C=!0,Aa(ln,`RPC '${t}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),F.o_(new st(Q.UNAVAILABLE,"The operation could not be completed")))})),Kl(T,Ql.EventType.MESSAGE,(Z=>{if(!C){const tt=Z.data[0];Wt(!!tt,16349);const W=tt,rt=W?.error||W[0]?.error;if(rt){lt(ln,`RPC '${t}' stream ${o} received error:`,rt);const dt=rt.status;let Tt=(function(mt){const N=ze[mt];if(N!==void 0)return B0(N)})(dt),Ht=rt.message;dt==="NOT_FOUND"&&Ht.includes("database")&&Ht.includes("does not exist")&&Ht.includes(this.databaseId.database)&&Aa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Tt===void 0&&(Tt=Q.INTERNAL,Ht="Unknown error status: "+dt+" with message "+rt.message),C=!0,F.o_(new st(Tt,Ht)),T.close()}else lt(ln,`RPC '${t}' stream ${o} received:`,tt),F.__(tt)}})),Co.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,r){super.Go(t,n,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return l0()}}function BD(s){return new Co(s)}function Rm(){return typeof document<"u"?document:null}function tf(s){return new GN(s,!0)}Co.c_=!1;class nS{constructor(t,n,r=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const cT="PersistentStream";class iS{constructor(t,n,r,o,u,f,p,_){this.Ci=t,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nS(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Vs(n.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{t((()=>{const o=new st(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,n){const r=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(cT,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(lt(cT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qD extends iS{constructor(t,n,r,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=YN(this.serializer,t),r=(function(u){if(!("targetChange"in u))return bt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?bt.min():f.readTime?Ki(f.readTime):bt.min()})(t);return this.listener.J_(n,r)}Z_(t){const n={};n.database=$m(this.serializer),n.addTarget=(function(u,f){let p;const _=f.target;if(p=Fm(_)?{documents:JN(u,_)}:{query:ZN(u,_).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=F0(u,f.resumeToken);const g=Qm(u,f.expectedCount);g!==null&&(p.expectedCount=g)}else if(f.snapshotVersion.compareTo(bt.min())>0){p.readTime=Dh(u,f.snapshotVersion.toTimestamp());const g=Qm(u,f.expectedCount);g!==null&&(p.expectedCount=g)}return p})(this.serializer,t);const r=tD(this.serializer,t);r&&(n.labels=r),this.K_(n)}X_(t){const n={};n.database=$m(this.serializer),n.removeTarget=t,this.K_(n)}}class HD extends iS{constructor(t,n,r,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Wt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Wt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Wt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=$N(t.writeResults,t.commitTime),r=Ki(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=$m(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>XN(this.serializer,r)))};this.K_(n)}}class FD{}class GD extends FD{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new st(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(t,Ym(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new st(Q.UNKNOWN,u.toString())}))}jo(t,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.jo(t,Ym(n,r),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new st(Q.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function KD(s,t,n,r){return new GD(s,t,n,r)}class QD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vs(n),this.aa=!1):lt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Sa="RemoteStore";class YD{constructor(t,n,r,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{Da(this)&&(lt(Sa,"Restarting streams for network reachability change."),await(async function(_){const g=Ct(_);g.Ea.add(4),await Su(g),g.Va.set("Unknown"),g.Ea.delete(4),await ef(g)})(this))}))})),this.Va=new QD(r,o)}}async function ef(s){if(Da(s))for(const t of s.Ra)await t(!0)}async function Su(s){for(const t of s.Ra)await t(!1)}function sS(s,t){const n=Ct(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Xp(n)?Yp(n):Fo(n).O_()&&Qp(n,t))}function Kp(s,t){const n=Ct(s),r=Fo(n);n.Ia.delete(t),r.O_()&&rS(n,t),n.Ia.size===0&&(r.O_()?r.L_():Da(n)&&n.Va.set("Unknown"))}function Qp(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Fo(s).Z_(t)}function rS(s,t){s.da.$e(t),Fo(s).X_(t)}function Yp(s){s.da=new BN({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Fo(s).start(),s.Va.ua()}function Xp(s){return Da(s)&&!Fo(s).x_()&&s.Ia.size>0}function Da(s){return Ct(s).Ea.size===0}function aS(s){s.da=void 0}async function XD(s){s.Va.set("Online")}async function $D(s){s.Ia.forEach(((t,n)=>{Qp(s,t)}))}async function JD(s,t){aS(s),Xp(s)?(s.Va.ha(t),Yp(s)):s.Va.set("Unknown")}async function ZD(s,t,n){if(s.Va.set("Online"),t instanceof H0&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.da.removeTarget(p))})(s,t)}catch(r){lt(Sa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Mh(s,r)}else if(t instanceof mh?s.da.Xe(t):t instanceof q0?s.da.st(t):s.da.tt(t),!n.isEqual(bt.min()))try{const r=await eS(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const p=u.da.Tt(f);return p.targetChanges.forEach(((_,g)=>{if(_.resumeToken.approximateByteSize()>0){const T=u.Ia.get(g);T&&u.Ia.set(g,T.withResumeToken(_.resumeToken,f))}})),p.targetMismatches.forEach(((_,g)=>{const T=u.Ia.get(_);if(!T)return;u.Ia.set(_,T.withResumeToken(sn.EMPTY_BYTE_STRING,T.snapshotVersion)),rS(u,_);const S=new Tr(T.target,_,g,T.sequenceNumber);Qp(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){lt(Sa,"Failed to raise snapshot:",r),await Mh(s,r)}}async function Mh(s,t,n){if(!Ho(t))throw t;s.Ea.add(1),await Su(s),s.Va.set("Offline"),n||(n=()=>eS(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{lt(Sa,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await ef(s)}))}function oS(s,t){return t().catch((n=>Mh(s,n,t)))}async function nf(s){const t=Ct(s),n=Or(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Vp;for(;WD(t);)try{const o=await VD(t.localStore,r);if(o===null){t.Ta.length===0&&n.L_();break}r=o.batchId,tO(t,o)}catch(o){await Mh(t,o)}lS(t)&&uS(t)}function WD(s){return Da(s)&&s.Ta.length<10}function tO(s,t){s.Ta.push(t);const n=Or(s);n.O_()&&n.Y_&&n.ea(t.mutations)}function lS(s){return Da(s)&&!Or(s).x_()&&s.Ta.length>0}function uS(s){Or(s).start()}async function eO(s){Or(s).ra()}async function nO(s){const t=Or(s);for(const n of s.Ta)t.ea(n.mutations)}async function iO(s,t,n){const r=s.Ta.shift(),o=zp.from(r,t,n);await oS(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await nf(s)}async function sO(s,t){t&&Or(s).Y_&&await(async function(r,o){if((function(f){return PN(f)&&f!==Q.ABORTED})(o.code)){const u=r.Ta.shift();Or(r).B_(),await oS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await nf(r)}})(s,t),lS(s)&&uS(s)}async function hT(s,t){const n=Ct(s);n.asyncQueue.verifyOperationInProgress(),lt(Sa,"RemoteStore received new credentials");const r=Da(n);n.Ea.add(3),await Su(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await ef(n)}async function rO(s,t){const n=Ct(s);t?(n.Ea.delete(2),await ef(n)):t||(n.Ea.add(2),await Su(n),n.Va.set("Unknown"))}function Fo(s){return s.ma||(s.ma=(function(n,r,o){const u=Ct(n);return u.sa(),new qD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:XD.bind(null,s),Yo:$D.bind(null,s),t_:JD.bind(null,s),J_:ZD.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Xp(s)?Yp(s):s.Va.set("Unknown")):(await s.ma.stop(),aS(s))}))),s.ma}function Or(s){return s.fa||(s.fa=(function(n,r,o){const u=Ct(n);return u.sa(),new HD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:eO.bind(null,s),t_:sO.bind(null,s),ta:nO.bind(null,s),na:iO.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await nf(s)):(await s.fa.stop(),s.Ta.length>0&&(lt(Sa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class $p{constructor(t,n,r,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,u){const f=Date.now()+r,p=new $p(t,n,f,o,u);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jp(s,t){if(Vs("AsyncQueue",`${t}: ${s}`),Ho(s))return new st(Q.UNAVAILABLE,`${t}: ${s}`);throw s}class No{static emptySet(t){return new No(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||gt.comparator(n.key,r.key):(n,r)=>gt.comparator(n.key,r.key),this.keyedMap=Yl(),this.sortedSet=new Ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof No)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new No;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class fT{constructor(){this.ga=new Ee(gt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Et(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class xo{constructor(t,n,r,o,u,f,p,_,g){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=g}static fromInitialDocuments(t,n,r,o,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new xo(t,n,No.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Yh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class aO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class oO{constructor(){this.queries=dT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ct(n),u=o.queries;o.queries=dT(),u.forEach(((f,p)=>{for(const _ of p.ba)_.onError(r)}))})(this,new st(Q.ABORTED,"Firestore shutting down"))}}function dT(){return new Na((s=>N0(s)),Yh)}async function Zp(s,t){const n=Ct(s);let r=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.Da()&&(r=2):(u=new aO,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=Jp(f,`Initialization of query '${Ao(t.query)}' failed`);return void t.onError(p)}n.queries.set(o,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&tg(n)}async function Wp(s,t){const n=Ct(s),r=t.query;let o=3;const u=n.queries.get(r);if(u){const f=u.ba.indexOf(t);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lO(s,t){const n=Ct(s);let r=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.ba)p.Fa(o)&&(r=!0);f.wa=o}}r&&tg(n)}function uO(s,t,n){const r=Ct(s),o=r.queries.get(t);if(o)for(const u of o.ba)u.onError(n);r.queries.delete(t)}function tg(s){s.Ca.forEach((t=>{t.next()}))}var Wm,mT;(mT=Wm||(Wm={})).Ma="default",mT.Cache="cache";class eg{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new xo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=xo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Wm.Cache}}class cS{constructor(t){this.key=t}}class hS{constructor(t){this.key=t}}class cO{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qt(),this.mutatedKeys=qt(),this.eu=D0(t),this.tu=new No(this.eu)}get nu(){return this.Za}ru(t,n){const r=n?n.iu:new fT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((T,S)=>{const C=o.get(T),F=Xh(this.query,S)?S:null,Z=!!C&&this.mutatedKeys.has(C.key),tt=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let W=!1;C&&F?C.data.isEqual(F.data)?Z!==tt&&(r.track({type:3,doc:F}),W=!0):this.su(C,F)||(r.track({type:2,doc:F}),W=!0,(_&&this.eu(F,_)>0||g&&this.eu(F,g)<0)&&(p=!0)):!C&&F?(r.track({type:0,doc:F}),W=!0):C&&!F&&(r.track({type:1,doc:C}),W=!0,(_||g)&&(p=!0)),W&&(F?(f=f.add(F),u=tt?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:f,iu:r,Ss:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((T,S)=>(function(F,Z){const tt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:W})}};return tt(F)-tt(Z)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),o=o??!1;const p=n&&!o?this._u():[],_=this.Ya.size===0&&this.current&&!o?1:0,g=_!==this.Xa;return this.Xa=_,f.length!==0||g?{snapshot:new xo(this.query,t.tu,u,f,t.mutatedKeys,_===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=qt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return t.forEach((r=>{this.Ya.has(r)||n.push(new hS(r))})),this.Ya.forEach((r=>{t.has(r)||n.push(new cS(r))})),n}cu(t){this.Za=t.ks,this.Ya=qt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ng="SyncEngine";class hO{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class fO{constructor(t){this.key=t,this.hu=!1}}class dO{constructor(t,n,r,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Na((p=>N0(p)),Yh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ee(gt.comparator),this.Au=new Map,this.Vu=new qp,this.du={},this.mu=new Map,this.fu=ko.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mO(s,t,n=!0){const r=yS(s);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await fS(r,t,n,!0),o}async function pO(s,t){const n=yS(s);await fS(n,t,!0,!1)}async function fS(s,t,n,r){const o=await kD(s.localStore,Gi(t)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await gO(s,t,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&sS(s.remoteStore,o),p}async function gO(s,t,n,r,o){s.pu=(S,C,F)=>(async function(tt,W,rt,dt){let Tt=W.view.ru(rt);Tt.Ss&&(Tt=await aT(tt.localStore,W.query,!1).then((({documents:N})=>W.view.ru(N,Tt))));const Ht=dt&&dt.targetChanges.get(W.targetId),Mt=dt&&dt.targetMismatches.get(W.targetId)!=null,mt=W.view.applyChanges(Tt,tt.isPrimaryClient,Ht,Mt);return gT(tt,W.targetId,mt.au),mt.snapshot})(s,S,C,F);const u=await aT(s.localStore,t,!0),f=new cO(t,u.ks),p=f.ru(u.documents),_=Au.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),g=f.applyChanges(p,s.isPrimaryClient,_);gT(s,n,g.au);const T=new hO(t,n,f);return s.Tu.set(t,T),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),g.snapshot}async function yO(s,t,n){const r=Ct(s),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!Yh(f,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Jm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Kp(r.remoteStore,o.targetId),tp(r,o.targetId)})).catch(qo)):(tp(r,o.targetId),await Jm(r.localStore,o.targetId,!0))}async function _O(s,t){const n=Ct(s),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kp(n.remoteStore,r.targetId))}async function vO(s,t,n){const r=RO(s);try{const o=await(function(f,p){const _=Ct(f),g=pe.now(),T=p.reduce(((F,Z)=>F.add(Z.key)),qt());let S,C;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let Z=ks(),tt=qt();return _.xs.getEntries(F,T).next((W=>{Z=W,Z.forEach(((rt,dt)=>{dt.isValidDocument()||(tt=tt.add(rt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,Z))).next((W=>{S=W;const rt=[];for(const dt of p){const Tt=VN(dt,S.get(dt.key).overlayedDocument);Tt!=null&&rt.push(new kr(dt.key,Tt,T0(Tt.value.mapValue),gn.exists(!0)))}return _.mutationQueue.addMutationBatch(F,g,rt,p)})).next((W=>{C=W;const rt=W.applyToLocalDocumentSet(S,tt);return _.documentOverlayCache.saveOverlays(F,W.batchId,rt)}))})).then((()=>({batchId:C.batchId,changes:M0(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(f,p,_){let g=f.du[f.currentUser.toKey()];g||(g=new Ee(Bt)),g=g.insert(p,_),f.du[f.currentUser.toKey()]=g})(r,o.batchId,n),await wu(r,o.changes),await nf(r.remoteStore)}catch(o){const u=Jp(o,"Failed to persist write");n.reject(u)}}async function dS(s,t){const n=Ct(s);try{const r=await OD(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Wt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Wt(f.hu,14607):o.removedDocuments.size>0&&(Wt(f.hu,42227),f.hu=!1))})),await wu(n,r,t)}catch(r){await qo(r)}}function pT(s,t,n){const r=Ct(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const p=f.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const _=Ct(f);_.onlineState=p;let g=!1;_.queries.forEach(((T,S)=>{for(const C of S.ba)C.va(p)&&(g=!0)})),g&&tg(_)})(r.eventManager,t),o.length&&r.Pu.J_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function EO(s,t,n){const r=Ct(s);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),u=o&&o.key;if(u){let f=new Ee(gt.comparator);f=f.insert(u,cn.newNoDocument(u,bt.min()));const p=qt().add(u),_=new Wh(bt.min(),new Map,new Ee(Bt),f,p);await dS(r,_),r.Ru=r.Ru.remove(u),r.Au.delete(t),ig(r)}else await Jm(r.localStore,t,!1).then((()=>tp(r,t,n))).catch(qo)}async function TO(s,t){const n=Ct(s),r=t.batch.batchId;try{const o=await DD(n.localStore,t);pS(n,r,null),mS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wu(n,o)}catch(o){await qo(o)}}async function AO(s,t,n){const r=Ct(s);try{const o=await(function(f,p){const _=Ct(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let T;return _.mutationQueue.lookupMutationBatch(g,p).next((S=>(Wt(S!==null,37113),T=S.keys(),_.mutationQueue.removeMutationBatch(g,S)))).next((()=>_.mutationQueue.performConsistencyCheck(g))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(g,T,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T))).next((()=>_.localDocuments.getDocuments(g,T)))}))})(r.localStore,t);pS(r,t,n),mS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await wu(r,o)}catch(o){await qo(o)}}function mS(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function pS(s,t,n){const r=Ct(s);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),r.du[r.currentUser.toKey()]=o}}function tp(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((r=>{s.Vu.containsKey(r)||gS(s,r)}))}function gS(s,t){s.Eu.delete(t.path.canonicalString());const n=s.Ru.get(t);n!==null&&(Kp(s.remoteStore,n),s.Ru=s.Ru.remove(t),s.Au.delete(n),ig(s))}function gT(s,t,n){for(const r of n)r instanceof cS?(s.Vu.addReference(r.key,t),SO(s,r)):r instanceof hS?(lt(ng,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,t),s.Vu.containsKey(r.key)||gS(s,r.key)):Et(19791,{wu:r})}function SO(s,t){const n=t.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(lt(ng,"New document in limbo: "+n),s.Eu.add(r),ig(s))}function ig(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new gt(ce.fromString(t)),r=s.fu.next();s.Au.set(r,new fO(n)),s.Ru=s.Ru.insert(n,r),sS(s.remoteStore,new Tr(Gi(Qh(n.path)),r,"TargetPurposeLimboResolution",Fh.ce))}}async function wu(s,t,n){const r=Ct(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{f.push(r.pu(_,t,n).then((g=>{if((g||n)&&r.isPrimaryClient){const T=g?!g.fromCache:n?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Fp.Es(_.targetId,g);u.push(T)}})))})),await Promise.all(f),r.Pu.J_(o),await(async function(_,g){const T=Ct(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(g,(C=>J.forEach(C.Ts,(F=>T.persistence.referenceDelegate.addReference(S,C.targetId,F))).next((()=>J.forEach(C.Is,(F=>T.persistence.referenceDelegate.removeReference(S,C.targetId,F)))))))))}catch(S){if(!Ho(S))throw S;lt(Gp,"Failed to update sequence numbers: "+S)}for(const S of g){const C=S.targetId;if(!S.fromCache){const F=T.vs.get(C),Z=F.snapshotVersion,tt=F.withLastLimboFreeSnapshotVersion(Z);T.vs=T.vs.insert(C,tt)}}})(r.localStore,u))}async function wO(s,t){const n=Ct(s);if(!n.currentUser.isEqual(t)){lt(ng,"User change. New user:",t.toKey());const r=await tS(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((p=>{p.forEach((_=>{_.reject(new st(Q.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await wu(n,r.Ns)}}function bO(s,t){const n=Ct(s),r=n.Au.get(t);if(r&&r.hu)return qt().add(r.key);{let o=qt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function yS(s){const t=Ct(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=dS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=EO.bind(null,t),t.Pu.J_=lO.bind(null,t.eventManager),t.Pu.yu=uO.bind(null,t.eventManager),t}function RO(s){const t=Ct(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=TO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=AO.bind(null,t),t}class Vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=tf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return ND(this.persistence,new RD,t.initialUser,this.serializer)}Cu(t){return new W0(Hp.Vi,this.serializer)}Du(t){return new LD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vh.provider={build:()=>new Vh};class IO extends Vh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Wt(this.persistence.referenceDelegate instanceof Oh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new hD(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new W0((r=>Oh.Vi(r,n)),this.serializer)}}class ep{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wO.bind(null,this.syncEngine),await rO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new oO})()}createDatastore(t){const n=tf(t.databaseInfo.databaseId),r=BD(t.databaseInfo);return KD(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,o,u,f,p){return new YD(r,o,u,f,p)})(this.localStore,this.datastore,t.asyncQueue,(n=>pT(this.syncEngine,n,0)),(function(){return uT.v()?new uT:new UD})())}createSyncEngine(t,n){return(function(o,u,f,p,_,g,T){const S=new dO(o,u,f,p,_,g);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ct(n);lt(Sa,"RemoteStore shutting down."),r.Ea.add(5),await Su(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ep.provider={build:()=>new ep};class sg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Vs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Mr="FirestoreClient";class CO{constructor(t,n,r,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=un.UNAUTHENTICATED,this.clientId=Op.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{lt(Mr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(lt(Mr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Jp(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Im(s,t){s.asyncQueue.verifyOperationInProgress(),lt(Mr,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await tS(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function yT(s,t){s.asyncQueue.verifyOperationInProgress();const n=await NO(s);lt(Mr,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>hT(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>hT(t.remoteStore,o))),s._onlineComponents=t}async function NO(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){lt(Mr,"Using user provided OfflineComponentProvider");try{await Im(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Aa("Error using user provided cache. Falling back to memory cache: "+n),await Im(s,new Vh)}}else lt(Mr,"Using default OfflineComponentProvider"),await Im(s,new IO(void 0));return s._offlineComponents}async function _S(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(lt(Mr,"Using user provided OnlineComponentProvider"),await yT(s,s._uninitializedComponentsProvider._online)):(lt(Mr,"Using default OnlineComponentProvider"),await yT(s,new ep))),s._onlineComponents}function DO(s){return _S(s).then((t=>t.syncEngine))}async function kh(s){const t=await _S(s),n=t.eventManager;return n.onListen=mO.bind(null,t.syncEngine),n.onUnlisten=yO.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=pO.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=_O.bind(null,t.syncEngine),n}function OO(s,t,n,r){const o=new sg(r),u=new eg(t,o,n);return s.asyncQueue.enqueueAndForget((async()=>Zp(await kh(s),u))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>Wp(await kh(s),u)))}}function MO(s,t,n={}){const r=new Ns;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,_,g){const T=new sg({next:C=>{T.Nu(),f.enqueueAndForget((()=>Wp(u,S)));const F=C.docs.has(p);!F&&C.fromCache?g.reject(new st(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&C.fromCache&&_&&_.source==="server"?g.reject(new st(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(C)},error:C=>g.reject(C)}),S=new eg(Qh(p.path),T,{includeMetadataChanges:!0,Ka:!0});return Zp(u,S)})(await kh(s),s.asyncQueue,t,n,r))),r.promise}function VO(s,t,n={}){const r=new Ns;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,_,g){const T=new sg({next:C=>{T.Nu(),f.enqueueAndForget((()=>Wp(u,S))),C.fromCache&&_.source==="server"?g.reject(new st(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(C)},error:C=>g.reject(C)}),S=new eg(p,T,{includeMetadataChanges:!0,Ka:!0});return Zp(u,S)})(await kh(s),s.asyncQueue,t,n,r))),r.promise}function kO(s,t){const n=new Ns;return s.asyncQueue.enqueueAndForget((async()=>vO(await DO(s),t,n))),n.promise}function vS(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const xO="ComponentProvider",_T=new Map;function LO(s,t,n,r,o){return new tN(s,t,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,vS(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const ES="firestore.googleapis.com",vT=!0;class ET{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new st(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ES,this.ssl=vT}else this.host=t.host,this.ssl=t.ssl??vT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Z0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<uD)throw new st(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}H2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vS(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new st(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new st(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new st(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bu{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ET({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ET(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new V2;switch(r.type){case"firstParty":return new U2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=_T.get(n);r&&(lt(xO,"Removing Datastore"),_T.delete(n),r.terminate())})(this),Promise.resolve()}}function UO(s,t,n,r={}){s=fn(s,bu);const o=Lo(t),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${n}`;o&&(jT(`https://${p}`),BT("Firestore",!0)),u.host!==ES&&u.host!==p&&Aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:p,ssl:o,emulatorOptions:r};if(!ga(_,f)&&(s._setSettings(_),r.mockUserToken)){let g,T;if(typeof r.mockUserToken=="string")g=r.mockUserToken,T=un.MOCK_USER;else{g=Ub(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new st(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new un(S)}s._authCredentials=new k2(new c0(g,T))}}class xs{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new xs(this.firestore,t,this._query)}}class be{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new br(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new be(this.firestore,t,this._key)}toJSON(){return{type:be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Eu(n,be._jsonSchema))return new be(t,r||null,new gt(ce.fromString(n.referencePath)))}}be._jsonSchemaVersion="firestore/documentReference/1.0",be._jsonSchema={type:Be("string",be._jsonSchemaVersion),referencePath:Be("string")};class br extends xs{constructor(t,n,r){super(t,n,Qh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new be(this.firestore,null,new gt(t))}withConverter(t){return new br(this.firestore,t,this._path)}}function _e(s,t,...n){if(s=ve(s),Mp("collection","path",t),s instanceof bu){const r=ce.fromString(t,...n);return VE(r),new br(s,null,r)}{if(!(s instanceof be||s instanceof br))throw new st(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ce.fromString(t,...n));return VE(r),new br(s.firestore,null,r)}}function PO(s,t){if(s=fn(s,bu),Mp("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new st(Q.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xs(s,null,(function(r){return new Ca(ce.emptyPath(),r)})(t))}function Gt(s,t,...n){if(s=ve(s),arguments.length===1&&(t=Op.newId()),Mp("doc","path",t),s instanceof bu){const r=ce.fromString(t,...n);return ME(r),new be(s,null,new gt(r))}{if(!(s instanceof be||s instanceof br))throw new st(Q.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ce.fromString(t,...n));return ME(r),new be(s.firestore,s instanceof br?s.converter:null,new gt(r))}}const TT="AsyncQueue";class AT{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nS(this,"async_queue_retry"),this._c=()=>{const r=Rm();r&&lt(TT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=Rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ns;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Ho(t))throw t;lt(TT,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",ST(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=$p.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Et(47125,{Pc:ST(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function ST(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Zi extends bu{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new AT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new AT(t),this._firestoreClient=void 0,await t}}}function zO(s,t){const n=typeof s=="object"?s:lp(),r=typeof s=="string"?s:Rh,o=Uo(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=xb("firestore");u&&UO(o,...u)}return o}function Ru(s){if(s._terminated)throw new st(Q.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||jO(s),s._firestoreClient}function jO(s){const t=s._freezeSettings(),n=LO(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new CO(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}class Wn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Wn(sn.fromBase64String(t))}catch(n){throw new st(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Wn(sn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Eu(t,Wn._jsonSchema))return Wn.fromBase64String(t.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:Be("string",Wn._jsonSchemaVersion),bytes:Be("string")};class sf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new st(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class rf{constructor(t){this._methodName=t}}class Qi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new st(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new st(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Bt(this._lat,t._lat)||Bt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(t){if(Eu(t,Qi._jsonSchema))return new Qi(t.latitude,t.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:Be("string",Qi._jsonSchemaVersion),latitude:Be("number"),longitude:Be("number")};class yi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Eu(t,yi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new yi(t.vectorValues);throw new st(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yi._jsonSchemaVersion="firestore/vectorValue/1.0",yi._jsonSchema={type:Be("string",yi._jsonSchemaVersion),vectorValues:Be("object")};const BO=/^__.*__$/;class qO{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new kr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Tu(t,this.data,n,this.fieldTransforms)}}class TS{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new kr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function AS(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{dataSource:s})}}class rg{constructor(t,n,r,o,u,f){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new rg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return xh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(AS(this.dataSource)&&BO.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class HO{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||tf(t)}createContext(t,n,r,o=!1){return new rg({dataSource:t,methodName:n,targetDoc:r,path:nn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Iu(s){const t=s._freezeSettings(),n=tf(s._databaseId);return new HO(s._databaseId,!!t.ignoreUndefinedProperties,n)}function ag(s,t,n,r,o,u={}){const f=s.createContext(u.merge||u.mergeFields?2:0,t,n,o);lg("Data must be an object, but it was:",f,r);const p=bS(r,f);let _,g;if(u.merge)_=new zn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const C=wa(t,S,n);if(!f.contains(C))throw new st(Q.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);CS(T,C)||T.push(C)}_=new zn(T),g=f.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,g=f.fieldTransforms;return new qO(new Rn(p),_,g)}class af extends rf{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof af}}class og extends rf{_toFieldTransform(t){return new NN(t.path,new hu)}isEqual(t){return t instanceof og}}function SS(s,t,n,r){const o=s.createContext(1,t,n);lg("Data must be an object, but it was:",o,r);const u=[],f=Rn.empty();Vr(r,((_,g)=>{const T=IS(t,_,n);g=ve(g);const S=o.childContextForFieldPath(T);if(g instanceof af)u.push(T);else{const C=Cu(g,S);C!=null&&(u.push(T),f.set(T,C))}}));const p=new zn(u);return new TS(f,p,o.fieldTransforms)}function wS(s,t,n,r,o,u){const f=s.createContext(1,t,n),p=[wa(t,r,n)],_=[o];if(u.length%2!=0)throw new st(Q.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<u.length;C+=2)p.push(wa(t,u[C])),_.push(u[C+1]);const g=[],T=Rn.empty();for(let C=p.length-1;C>=0;--C)if(!CS(g,p[C])){const F=p[C];let Z=_[C];Z=ve(Z);const tt=f.childContextForFieldPath(F);if(Z instanceof af)g.push(F);else{const W=Cu(Z,tt);W!=null&&(g.push(F),T.set(F,W))}}const S=new zn(g);return new TS(T,S,f.fieldTransforms)}function FO(s,t,n,r=!1){return Cu(n,s.createContext(r?4:3,t))}function Cu(s,t){if(RS(s=ve(s)))return lg("Unsupported field value:",t,s),bS(s,t);if(s instanceof rf)return(function(r,o){if(!AS(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const p of r){let _=Cu(p,o.childContextForArray(f));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),f++}return{arrayValue:{values:u}}})(s,t)}return(function(r,o){if((r=ve(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=pe.fromDate(r);return{timestampValue:Dh(o.serializer,u)}}if(r instanceof pe){const u=new pe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dh(o.serializer,u)}}if(r instanceof Qi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wn)return{bytesValue:F0(o.serializer,r._byteString)};if(r instanceof be){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Bp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof yi)return(function(f,p){const _=f instanceof yi?f.toArray():f;return{mapValue:{fields:{[v0]:{stringValue:E0},[Ih]:{arrayValue:{values:_.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return Pp(p.serializer,T)}))}}}}}})(r,o);if(J0(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Hh(r)}`)})(s,t)}function bS(s,t){const n={};return d0(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vr(s,((r,o)=>{const u=Cu(o,t.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function RS(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof pe||s instanceof Qi||s instanceof Wn||s instanceof be||s instanceof rf||s instanceof yi||J0(s))}function lg(s,t,n){if(!RS(n)||!h0(n)){const r=Hh(n);throw r==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+r)}}function wa(s,t,n){if((t=ve(t))instanceof sf)return t._internalPath;if(typeof t=="string")return IS(s,t);throw xh("Field path arguments must be of type string or ",s,!1,void 0,n)}const GO=new RegExp("[~\\*/\\[\\]]");function IS(s,t,n){if(t.search(GO)>=0)throw xh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new sf(...t.split("."))._internalPath}catch{throw xh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function xh(s,t,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(u||f)&&(_+=" (found",u&&(_+=` in field ${r}`),f&&(_+=` in document ${o}`),_+=")"),new st(Q.INVALID_ARGUMENT,p+s+_)}function CS(s,t){return s.some((n=>n.isEqual(t)))}class KO{convertValue(t,n="none"){switch(Dr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return De(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Nr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Vr(t,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[Ih].arrayValue?.values?.map((r=>De(r.doubleValue)));return new yi(n)}convertGeoPoint(t){return new Qi(De(t.latitude),De(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Kh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ou(t));default:return null}}convertTimestamp(t){const n=Cr(t);return new pe(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ce.fromString(t);Wt($0(r),9688,{name:t});const o=new lu(r.get(1),r.get(3)),u=new gt(r.popFirst(5));return o.isEqual(n)||Vs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class ug extends KO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new be(this.firestore,null,n)}}function wt(){return new og("serverTimestamp")}const wT="@firebase/firestore",bT="4.12.0";function RT(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}class NS{constructor(t,n,r,o,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new QO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(wa("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QO extends NS{data(){return super.data()}}function DS(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new st(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cg{}class OS extends cg{}function Yi(s,t,...n){let r=[];t instanceof cg&&r.push(t),r=r.concat(n),(function(u){const f=u.filter((_=>_ instanceof hg)).length,p=u.filter((_=>_ instanceof of)).length;if(f>1||f>0&&p>0)throw new st(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class of extends OS{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new of(t,n,r)}_apply(t){const n=this._parse(t);return VS(t._query,n),new xs(t.firestore,t.converter,Gm(t._query,n))}_parse(t){const n=Iu(t.firestore);return(function(u,f,p,_,g,T,S){let C;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new st(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){CT(S,T);const Z=[];for(const tt of S)Z.push(IT(_,u,tt));C={arrayValue:{values:Z}}}else C=IT(_,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||CT(S,T),C=FO(p,f,S,T==="in"||T==="not-in");return je.create(g,T,C)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Ds(s,t,n){const r=t,o=wa("where",s);return of._create(o,r,n)}class hg extends cg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new hg(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ei.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const p=u.getFlattenedFilters();for(const _ of p)VS(f,_),f=Gm(f,_)})(t._query,n),new xs(t.firestore,t.converter,Gm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fg extends OS{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new fg(t,n)}_apply(t){const n=(function(o,u,f){if(o.startAt!==null)throw new st(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new st(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cu(u,f)})(t._query,this._field,this._direction);return new xs(t.firestore,t.converter,_N(t._query,n))}}function MS(s,t="asc"){const n=t,r=wa("orderBy",s);return fg._create(r,n)}function IT(s,t,n){if(typeof(n=ve(n))=="string"){if(n==="")throw new st(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!C0(t)&&n.indexOf("/")!==-1)throw new st(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ce.fromString(n));if(!gt.isDocumentKey(r))throw new st(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return BE(s,new gt(r))}if(n instanceof be)return BE(s,n._key);throw new st(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hh(n)}.`)}function CT(s,t){if(!Array.isArray(s)||s.length===0)throw new st(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function VS(s,t){const n=(function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new st(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function dg(s,t,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(t,n):s.toFirestore(t):t,r}class $l{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ma extends NS{constructor(t,n,r,o,u,f){super(t,n,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(wa("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ma._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",ma._jsonSchema={type:Be("string",ma._jsonSchemaVersion),bundleSource:Be("string","DocumentSnapshot"),bundleName:Be("string"),bundle:Be("string")};class ph extends ma{data(t={}){return super.data(t)}}class pa{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new $l(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new ph(this._firestore,this._userDataWriter,r.key,r,new $l(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new st(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const _=new ph(o._firestore,o._userDataWriter,p.doc.key,p.doc,new $l(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const _=new ph(o._firestore,o._userDataWriter,p.doc.key,p.doc,new $l(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return p.type!==0&&(g=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),T=f.indexOf(p.doc.key)),{type:YO(p.type),doc:_,oldIndex:g,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=pa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Op.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function YO(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:s})}}pa._jsonSchemaVersion="firestore/querySnapshot/1.0",pa._jsonSchema={type:Be("string",pa._jsonSchemaVersion),bundleSource:Be("string","QuerySnapshot"),bundleName:Be("string"),bundle:Be("string")};class XO{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Iu(t)}set(t,n,r){this._verifyNotCommitted();const o=Cm(t,this._firestore),u=dg(o.converter,n,r),f=ag(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,r);return this._mutations.push(f.toMutation(o._key,gn.none())),this}update(t,n,r,...o){this._verifyNotCommitted();const u=Cm(t,this._firestore);let f;return f=typeof(n=ve(n))=="string"||n instanceof sf?wS(this._dataReader,"WriteBatch.update",u._key,n,r,o):SS(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,gn.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=Cm(t,this._firestore);return this._mutations=this._mutations.concat(new Zh(n._key,gn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new st(Q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Cm(s,t){if((s=ve(s)).firestore!==t)throw new st(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function Wi(s){s=fn(s,be);const t=fn(s.firestore,Zi),n=Ru(t);return MO(n,s._key).then((r=>kS(t,s,r)))}function _i(s){s=fn(s,xs);const t=fn(s.firestore,Zi),n=Ru(t),r=new ug(t);return DS(s._query),VO(n,s._query).then((o=>new pa(t,r,s,o)))}function ba(s,t,n){s=fn(s,be);const r=fn(s.firestore,Zi),o=dg(s.converter,t,n),u=Iu(r);return Du(r,[ag(u,"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,gn.none())])}function In(s,t,n,...r){s=fn(s,be);const o=fn(s.firestore,Zi),u=Iu(o);let f;return f=typeof(t=ve(t))=="string"||t instanceof sf?wS(u,"updateDoc",s._key,t,n,r):SS(u,"updateDoc",s._key,t),Du(o,[f.toMutation(s._key,gn.exists(!0))])}function mu(s){return Du(fn(s.firestore,Zi),[new Zh(s._key,gn.none())])}function Nu(s,t){const n=fn(s.firestore,Zi),r=Gt(s),o=dg(s.converter,t),u=Iu(s.firestore);return Du(n,[ag(u,"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,gn.exists(!1))]).then((()=>r))}function Rr(s,...t){s=ve(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||RT(t[r])||(n=t[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(RT(t[r])){const g=t[r];t[r]=g.next?.bind(g),t[r+1]=g.error?.bind(g),t[r+2]=g.complete?.bind(g)}let u,f,p;if(s instanceof be)f=fn(s.firestore,Zi),p=Qh(s._key.path),u={next:g=>{t[r]&&t[r](kS(f,s,g))},error:t[r+1],complete:t[r+2]};else{const g=fn(s,xs);f=fn(g.firestore,Zi),p=g._query;const T=new ug(f);u={next:S=>{t[r]&&t[r](new pa(f,T,g,S))},error:t[r+1],complete:t[r+2]},DS(s._query)}const _=Ru(f);return OO(_,p,o,u)}function Du(s,t){const n=Ru(s);return kO(n,t)}function kS(s,t,n){const r=n.docs.get(t._key),o=new ug(s);return new ma(s,o,t._key,r,new $l(n.hasPendingWrites,n.fromCache),t.converter)}function Ra(s){return s=fn(s,Zi),Ru(s),new XO(s,(t=>Du(s,t)))}(function(t,n=!0){M2(Po),Xi(new vi("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),p=new Zi(new x2(r.getProvider("auth-internal")),new P2(f,r.getProvider("app-check-internal")),eN(f,o),f);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),ti(wT,bT,t),ti(wT,bT,"esm2020")})();const np="listapp_push_token_v1",$O=Object.freeze({itemAdded:!0,itemCompleted:!0,memberAdded:!0}),xS={apiKey:"AIzaSyCCCZM-yAJhKmZ0fvnZAi86PNMFfXTD5v8",authDomain:"listapp-52494.firebaseapp.com",projectId:"listapp-52494",storageBucket:"listapp-52494.firebasestorage.app",messagingSenderId:"151979640665",appId:"1:151979640665:web:d3898a479a200e615cee48"},pu=KT(xS),ct=zO(pu);let ei;try{ei=fA(pu,{persistence:[wA,_A,gp],popupRedirectResolver:DA})}catch{ei=iC(pu)}const ip=new bs;ip.setCustomParameters({prompt:"select_account"});function JO(){if(typeof navigator>"u")return!1;const s=navigator.userAgent||"";return/iPhone|iPad|iPod/i.test(s)}function ZO(){if(typeof window>"u")return!1;const s=window.matchMedia?.("(display-mode: standalone)")?.matches,t=window.navigator?.standalone===!0;return JO()&&(s||t)}function mg(s,t){const n=Number.isFinite(s?.order)?s.order:Number.MAX_SAFE_INTEGER,r=Number.isFinite(t?.order)?t.order:Number.MAX_SAFE_INTEGER;if(n!==r)return n-r;const o=s?.createdAt?.seconds??0,u=t?.createdAt?.seconds??0;if(o!==u)return o-u;const f=s?.createdAt?.nanoseconds??0,p=t?.createdAt?.nanoseconds??0;return f!==p?f-p:s.id.localeCompare(t.id)}function sp(){return{...$O}}async function LS(s){const n=(await Wi(Gt(ct,"users",s))).data()||{},r=n.notificationPrefs||{};return{pushEnabled:n.pushEnabled===!0,notificationPrefs:{...sp(),...r}}}async function WO(s,t){const r={...(await LS(s)).notificationPrefs,...t};await ba(Gt(ct,"users",s),{notificationPrefs:r,updatedAt:wt()},{merge:!0})}function tM(){return typeof window<"u"&&typeof navigator<"u"&&"serviceWorker"in navigator&&"Notification"in window}function eM(s){const t={type:"LISTAPP_FIREBASE_CONFIG",config:xS};s.active&&s.active.postMessage(t),s.waiting&&s.waiting.postMessage(t),s.installing&&s.installing.postMessage(t)}async function nM(){if(!tM())throw new Error("Push non supportate su questo dispositivo/browser.");const s=await navigator.serviceWorker.register("./sw.js?v=5");return await navigator.serviceWorker.ready,eM(s),s}async function iM(s){if(!s?.uid)throw new Error("Utente non valido.");if(!await Np().catch(()=>!1))throw new Error("Firebase Messaging non supportato su questo dispositivo/browser.");const n=await nM();if(await Notification.requestPermission()!=="granted")throw new Error("Permesso notifiche non concesso.");const o=n0(pu),u=await D2(o,{vapidKey:"BCcatVDsGF-8ZcxfiL4fSKWeS_5hxefLarQugQqkgIJEhvggyvvTSm7n5-xaVxx4CHZKWFJkecmLVE7g_qRJz_Y",serviceWorkerRegistration:n});if(!u)throw new Error("Token push non disponibile.");const f=Gt(ct,"users",s.uid,"pushTokens",u);return await ba(f,{token:u,enabled:!0,platform:navigator.platform||"",userAgent:navigator.userAgent||"",createdAt:wt(),updatedAt:wt()},{merge:!0}),await ba(Gt(ct,"users",s.uid),{pushEnabled:!0,updatedAt:wt()},{merge:!0}),localStorage.setItem(np,u),u}async function sM(s){if(!s?.uid)throw new Error("Utente non valido.");const t=await Np().catch(()=>!1),n=localStorage.getItem(np);if(t)try{const r=n0(pu);await O2(r)}catch{}n&&(await mu(Gt(ct,"users",s.uid,"pushTokens",n)).catch(()=>{}),localStorage.removeItem(np)),await ba(Gt(ct,"users",s.uid),{pushEnabled:!1,updatedAt:wt()},{merge:!0})}async function pg(s){const t=Gt(ct,"users",s.uid),n=await Wi(t),r={uid:s.uid,email:s.email??"",emailLower:(s.email??"").toLowerCase(),displayName:s.displayName??"Utente",photoURL:s.photoURL??"",lastSeenAt:wt()};if(!n.exists()){await ba(t,{...r,createdAt:wt(),pushEnabled:!1,notificationPrefs:sp()});return}const o=n.data()||{},u={};typeof o.pushEnabled!="boolean"&&(u.pushEnabled=!1),(!o.notificationPrefs||typeof o.notificationPrefs!="object")&&(u.notificationPrefs=sp()),await In(t,{...r,...u})}async function rM(){try{const s=await fI(ei,ip);await pg(s.user);return}catch(s){const t=s?.code||"",n=s?.message||"",r=t.includes("popup-blocked")||t.includes("cancelled-popup-request"),o=t.includes("popup-closed-by-user"),u=t.includes("operation-not-supported-in-this-environment");if(o)throw s;if(ZO()&&(r||u))throw new Error("Popup Google bloccato su iPhone web app. Apri in Safari e fai login da browser.");try{await _I(ei,ip);return}catch{throw new Error(n||"Login Google non riuscito.")}}}async function aM(){const s=await EI(ei);s?.user&&await pg(s.user)}function oM(){return YR(ei)}async function lM(s){s&&await pg(s)}async function uM(s,t){const n=t.trim();if(!n)throw new Error("Inserisci un nome spazio.");const r=await Nu(_e(ct,"spaces"),{name:n,ownerId:s.uid,createdAt:wt(),updatedAt:wt()});await ba(Gt(ct,"spaces",r.id,"members",s.uid),{uid:s.uid,role:"owner",email:s.email??"",emailLower:(s.email??"").toLowerCase(),displayName:s.displayName??"Owner",addedAt:wt()})}async function cM(s,t){const n=t.trim();if(!n)throw new Error("Inserisci un nome spazio valido.");await In(Gt(ct,"spaces",s),{name:n,updatedAt:wt()})}async function hM(s,t,n="Spazio",r=null){const o=t.trim().toLowerCase();if(!o)throw new Error("Inserisci una email valida.");let u;try{const g=Yi(_e(ct,"users"),Ds("emailLower","==",o)),T=await _i(g);if(T.empty)throw new Error("Utente non trovato. Deve fare almeno un login prima.");u=T.docs[0]}catch(g){const T=g?.code?` [${g.code}]`:"";throw g?.message?.includes("Utente non trovato")?g:new Error(`Invita fallito (lookup utente)${T}`)}const f=u.id,p=r?.uid??ei.currentUser?.uid??"",_=r?.displayName??r?.email??ei.currentUser?.displayName??ei.currentUser?.email??"Proprietario";if(!p)throw new Error("Sessione non pronta. Riprova tra un secondo.");if(f===p)throw new Error("Non puoi invitare te stesso.");try{await Nu(_e(ct,"invitations"),{spaceId:s,spaceName:n,invitedUid:f,invitedEmailLower:o,invitedByUid:p,invitedByName:_,status:"pending",createdAt:wt(),respondedAt:null})}catch(g){const T=g?.code?` [${g.code}]`:"";throw new Error(`Invita fallito (create invito)${T}`)}}async function fM(s,t){try{const n=Gt(ct,"invitations",s),r=await Wi(n);if(!r.exists())throw new Error("Invito non trovato.");const o=r.data();if(o.invitedUid!==t.uid)throw new Error("Invito non valido per questo utente.");if(o.status!=="pending")throw new Error("Invito gia gestito.");const u=Gt(ct,"spaces",o.spaceId,"members",t.uid);try{await ba(u,{uid:t.uid,role:"editor",email:t.email??"",emailLower:(t.email??"").toLowerCase(),displayName:t.displayName??"Editor",addedBy:t.uid,invitationId:s,addedAt:wt()})}catch(f){const p=f?.code?` [${f.code}]`:"";throw new Error(`Accetta invito fallito (creazione membro)${p}`)}try{await In(n,{status:"accepted",respondedAt:wt()})}catch(f){const p=f?.code?` [${f.code}]`:"";throw new Error(`Accetta invito fallito (update invito)${p}`)}}catch(n){throw n}}async function dM(s,t){const n=Gt(ct,"invitations",s),r=await Wi(n);if(!r.exists())throw new Error("Invito non trovato.");const o=r.data();if(o.invitedUid!==t)throw new Error("Invito non valido per questo utente.");o.status==="pending"&&await In(n,{status:"declined",respondedAt:wt()})}async function mM(s){const t=Gt(ct,"invitations",s),n=await Wi(t);if(n.exists()){if(n.data()?.status!=="pending")throw new Error("Invito non piu revocabile.");await mu(t)}}async function pM(s,t,n){if(!["viewer","editor"].includes(n))throw new Error("Ruolo non valido.");const r=Gt(ct,"spaces",s,"members",t),o=await Wi(r);if(!o.exists())throw new Error("Membro non trovato.");if(o.data().role==="owner")throw new Error("Non puoi modificare il ruolo owner.");await In(r,{role:n,updatedAt:wt()})}async function gM(s,t,n="editor"){if(n==="owner")throw new Error("Non puoi rimuovere il proprietario.");const r=Gt(ct,"spaces",s,"members",t);await mu(r);const o=Yi(_e(ct,"invitations"),Ds("spaceId","==",s)),f=(await _i(o)).docs.filter(p=>p.data()?.invitedUid===t).map(p=>mu(p.ref));await Promise.all(f)}async function yM(s,t,n){const r=n.trim();if(!r)throw new Error("Inserisci un nome lista.");await Nu(_e(ct,"lists"),{name:r,spaceId:t,createdBy:s.uid,recurrenceEvery:null,recurrenceUnit:null,lastResetAt:wt(),createdAt:wt(),updatedAt:wt()})}async function _M(s,t){const n=t.trim();if(!n)throw new Error("Inserisci un nome lista valido.");await In(Gt(ct,"lists",s),{name:n,updatedAt:wt()})}async function vM(s,t,n){const r=n.trim();if(!r)throw new Error("Inserisci un elemento.");const o=await _i(_e(ct,"lists",t,"items"));let u=0;o.docs.forEach(f=>{const p=f.data().order;Number.isFinite(p)&&p>u&&(u=p)}),await Nu(_e(ct,"lists",t,"items"),{text:r,completed:!1,completedAt:null,createdBy:s.uid,updatedBy:s.uid,createdAt:wt(),updatedAt:wt(),order:u+1}),await In(Gt(ct,"lists",t),{updatedAt:wt()})}async function EM(s,t,n){const r=n.trim();if(!r)throw new Error("Inserisci un testo valido.");await In(Gt(ct,"lists",s,"items",t),{text:r,updatedAt:wt()})}async function NT(s,t,n){if(!["up","down"].includes(n))return;const o=(await _i(_e(ct,"lists",s,"items"))).docs.map(C=>({id:C.id,...C.data()}));o.sort(mg);const u=o.findIndex(C=>C.id===t);if(u===-1)return;const f=n==="up"?u-1:u+1;if(f<0||f>=o.length)return;const p=o[u],_=o[f],g=Number.isFinite(p.order)?p.order:u+1,T=Number.isFinite(_.order)?_.order:f+1,S=Ra(ct);S.update(Gt(ct,"lists",s,"items",p.id),{order:T,updatedAt:wt()}),S.update(Gt(ct,"lists",s,"items",_.id),{order:g,updatedAt:wt()}),await S.commit(),await In(Gt(ct,"lists",s),{updatedAt:wt()})}async function TM(s,t,n){await In(Gt(ct,"lists",s,"items",t),{completed:n,completedAt:n?wt():null,updatedBy:ei.currentUser?.uid??null,updatedAt:wt()}),await In(Gt(ct,"lists",s),{updatedAt:wt()})}function AM(s,t){return!Number.isFinite(s)||s<=0?null:t==="hours"?s*60*60*1e3:t==="days"?s*24*60*60*1e3:t==="weeks"?s*7*24*60*60*1e3:t==="months"?s*30*24*60*60*1e3:null}async function DT(s,t,n){const r=Number(t);if(!Number.isFinite(r)||r<1){await In(Gt(ct,"lists",s),{recurrenceEvery:null,recurrenceUnit:null,updatedAt:wt()});return}if(!["hours","days","weeks","months"].includes(n))throw new Error("Unita ricorrenza non valida.");await In(Gt(ct,"lists",s),{recurrenceEvery:Math.floor(r),recurrenceUnit:n,lastResetAt:wt(),updatedAt:wt()})}async function OT(s,t){const n=ei.currentUser?.uid??null,r=await _i(_e(ct,"lists",s,"items")),o=Ra(ct);r.docs.forEach(u=>{o.update(u.ref,{completed:t,completedAt:t?wt():null,updatedBy:n,updatedAt:wt()})}),o.update(Gt(ct,"lists",s),{updatedAt:wt()}),await o.commit()}async function SM(s){const t=Gt(ct,"lists",s),n=await Wi(t);if(!n.exists())return!1;const r=n.data(),o=Number(r?.recurrenceEvery),u=r?.recurrenceUnit,f=AM(o,u);if(!f)return!1;const p=r?.lastResetAt??r?.createdAt,_=p?.seconds!=null?p.seconds*1e3+Math.floor((p.nanoseconds??0)/1e6):null;if(!_||Date.now()<_+f)return!1;const g=await _i(_e(ct,"lists",s,"items")),T=Ra(ct);return g.docs.forEach(S=>{T.update(S.ref,{completed:!1,completedAt:null,updatedAt:wt()})}),T.update(t,{lastResetAt:wt(),updatedAt:wt()}),await T.commit(),!0}async function wM(s,t){await mu(Gt(ct,"lists",s,"items",t)),await In(Gt(ct,"lists",s),{updatedAt:wt()})}async function bM(s){const t=_e(ct,"lists",s,"items"),n=await _i(t),r=Ra(ct);n.docs.forEach(o=>r.delete(o.ref)),r.delete(Gt(ct,"lists",s)),await r.commit()}async function RM(s,t){const n=Gt(ct,"lists",t),r=await Wi(n);if(!r.exists())throw new Error("Lista non trovata.");const o=r.data(),u=await Nu(_e(ct,"lists"),{name:`${o.name||"Lista"} (copia)`,spaceId:o.spaceId,createdBy:s.uid,recurrenceEvery:Number.isFinite(o?.recurrenceEvery)?o.recurrenceEvery:null,recurrenceUnit:o?.recurrenceUnit??null,lastResetAt:wt(),createdAt:wt(),updatedAt:wt()}),p=(await _i(_e(ct,"lists",t,"items"))).docs.map(g=>({id:g.id,...g.data()}));p.sort(mg);const _=Ra(ct);p.forEach((g,T)=>{_.set(Gt(_e(ct,"lists",u.id,"items")),{text:g.text??"",completed:!!g.completed,completedAt:g.completed?wt():null,createdBy:s.uid,updatedBy:s.uid,createdAt:wt(),updatedAt:wt(),order:Number.isFinite(g.order)?g.order:T+1})}),await _.commit()}async function IM(s){const t=await _i(_e(ct,"spaces",s,"members")),n=await _i(Yi(_e(ct,"lists"),Ds("spaceId","==",s)));for(const o of n.docs){const u=await _i(_e(ct,"lists",o.id,"items")),f=Ra(ct);u.docs.forEach(p=>f.delete(p.ref)),f.delete(o.ref),await f.commit()}const r=Ra(ct);t.docs.forEach(o=>r.delete(o.ref)),r.delete(Gt(ct,"spaces",s)),await r.commit()}function CM(s,t,n){const r=new Map,o=new Map,u=new Map,f=()=>{const Z=[...new Map([...r,...o,...u]).values()].sort((tt,W)=>{const rt=tt?.updatedAt?.seconds??0,dt=W?.updatedAt?.seconds??0;if(rt!==dt)return dt-rt;const Tt=tt?.updatedAt?.nanoseconds??0;return(W?.updatedAt?.nanoseconds??0)-Tt});t(Z)},p=Yi(PO(ct,"members"),Ds("uid","==",s)),_=Yi(_e(ct,"invitations"),Ds("invitedUid","==",s)),g=Yi(_e(ct,"spaces"),Ds("ownerId","==",s)),T=Rr(p,async F=>{const Z=F.docs.map(rt=>rt.ref.parent.parent).filter(Boolean),tt=[...new Map(Z.map(rt=>[rt.path,rt])).values()],W=await Promise.all(tt.map(async rt=>{const dt=await Wi(rt);return dt.exists()?{id:dt.id,...dt.data()}:null}));r.clear(),W.filter(Boolean).forEach(rt=>r.set(rt.id,rt)),f()},F=>n?.(F)),S=Rr(_,async F=>{const Z=[...new Set(F.docs.map(W=>W.data()).filter(W=>W?.status==="accepted"&&!!W?.spaceId).map(W=>W.spaceId))],tt=await Promise.all(Z.map(async W=>{const rt=await Wi(Gt(ct,"spaces",W));return rt.exists()?{id:rt.id,...rt.data()}:null}));o.clear(),tt.filter(Boolean).forEach(W=>o.set(W.id,W)),f()},F=>n?.(F)),C=Rr(g,F=>{u.clear(),F.docs.forEach(Z=>u.set(Z.id,{id:Z.id,...Z.data()})),f()},F=>n?.(F));return()=>{T(),S(),C()}}function NM(s,t,n){const r=Yi(_e(ct,"spaces",s,"members"),MS("addedAt","asc"));return Rr(r,o=>t(o.docs.map(u=>({id:u.id,...u.data()}))),n)}function DM(s,t,n){const r=Yi(_e(ct,"invitations"),Ds("invitedUid","==",s));return Rr(r,o=>{const u=o.docs.map(f=>({id:f.id,...f.data()})).filter(f=>f.status==="pending").sort((f,p)=>{const _=f?.createdAt?.seconds??0,g=p?.createdAt?.seconds??0;if(_!==g)return g-_;const T=f?.createdAt?.nanoseconds??0;return(p?.createdAt?.nanoseconds??0)-T});t(u)},n)}function OM(s,t,n){const r=Yi(_e(ct,"invitations"),Ds("spaceId","==",s));return Rr(r,o=>{const u=o.docs.map(f=>({id:f.id,...f.data()})).filter(f=>f.status==="pending").sort((f,p)=>{const _=f?.createdAt?.seconds??0,g=p?.createdAt?.seconds??0;if(_!==g)return g-_;const T=f?.createdAt?.nanoseconds??0;return(p?.createdAt?.nanoseconds??0)-T});t(u)},n)}function MM(s,t,n){const r=Yi(_e(ct,"lists"),Ds("spaceId","==",s),MS("updatedAt","desc"));return Rr(r,o=>t(o.docs.map(u=>({id:u.id,...u.data()}))),n)}function VM(s,t,n){const r=_e(ct,"lists",s,"items");return Rr(r,o=>{const u=o.docs.map(f=>({id:f.id,...f.data()}));u.sort(mg),t(u)},n)}const MT=Rb.version,VT="listapp_collapsed_sections_v1",Nm={invites:!1,spaces:!1,spaceDetails:!1,spaceLists:!1,activeList:!1};function kM(){const[s,t]=At.useState(null),[n,r]=At.useState(!0),[o,u]=At.useState([]),[f,p]=At.useState([]),[_,g]=At.useState([]),[T,S]=At.useState([]),[C,F]=At.useState(""),[Z,tt]=At.useState([]),[W,rt]=At.useState(""),[dt,Tt]=At.useState([]),[Ht,Mt]=At.useState(""),[mt,N]=At.useState(!1),[w,I]=At.useState(()=>localStorage.getItem("theme")==="dark"),[V,O]=At.useState(!1),[x,b]=At.useState([]),[Yt,Re]=At.useState(()=>{try{const q=localStorage.getItem(VT);if(!q)return Nm;const ot=JSON.parse(q);return{...Nm,...ot}}catch{return Nm}}),[G,nt]=At.useState(""),[ft,Ut]=At.useState(""),[Qt,M]=At.useState(""),[X,it]=At.useState(""),[at,_t]=At.useState(""),[Rt,kt]=At.useState("days"),[Te,te]=At.useState(!1),[ni,es]=At.useState(""),[ns,ii]=At.useState(!1),[yn,Ls]=At.useState(""),[is,Ti]=At.useState(""),[ss,he]=At.useState(""),[Ae,Cn]=At.useState(!1),[Us,Ps]=At.useState({itemAdded:!0,itemCompleted:!0,memberAdded:!0});At.useEffect(()=>(aM().catch(q=>Mt(q.message||"Errore login redirect")),QR(ei,q=>{t(q),q&&lM(q).catch(ot=>Mt(ot.message)),r(!1)})),[]),At.useEffect(()=>{const q=document.documentElement;w?(q.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark")):(q.removeAttribute("data-theme"),localStorage.setItem("theme","light"))},[w]),At.useEffect(()=>{localStorage.setItem(VT,JSON.stringify(Yt))},[Yt]),At.useEffect(()=>{if(!s){u([]),F("");return}const q=CM(s.uid,ot=>{Mt(""),u(ot),F(fe=>fe&&ot.some(an=>an.id===fe)?fe:ot[0]?.id??"")},ot=>Mt(ot.message));return()=>q()},[s]),At.useEffect(()=>{if(!s){g([]);return}const q=DM(s.uid,ot=>{Mt(""),g(ot)},ot=>Mt(ot.message));return()=>q()},[s]),At.useEffect(()=>{if(!s){Cn(!1),Ps({itemAdded:!0,itemCompleted:!0,memberAdded:!0});return}let q=!1;return(async()=>{try{const ot=await LS(s.uid);if(q)return;Cn(ot.pushEnabled===!0),Ps(ot.notificationPrefs)}catch(ot){q||Mt(ot.message||"Errore caricamento impostazioni notifiche")}})(),()=>{q=!0}},[s]),At.useEffect(()=>{if(!C){tt([]),rt("");return}const q=MM(C,ot=>{Mt(""),tt(ot),rt(fe=>fe&&ot.some(an=>an.id===fe)?fe:ot[0]?.id??"")},ot=>Mt(ot.message));return()=>{q()}},[C]),At.useEffect(()=>{if(!W){Tt([]);return}const q=VM(W,ot=>{Mt(""),Tt(ot)},ot=>Mt(ot.message));return()=>q()},[W]);const ee=At.useMemo(()=>o.find(q=>q.id===C)??null,[o,C]),Nt=At.useMemo(()=>Z.find(q=>q.id===W)??null,[Z,W]),xr=dt.filter(q=>q.completed).length,zs=At.useMemo(()=>V?dt.filter(q=>!q.completed):dt,[dt,V]),Xe=ee?.ownerId===s?.uid,Oa=Nt?x.includes(Nt.id):!1,Ma=At.useMemo(()=>{const q=Number(Nt?.recurrenceEvery),ot=Nt?.recurrenceUnit;if(!Number.isFinite(q)||q<1||!ot)return"disattivata";const an={hours:"ora",days:"giorno",weeks:"settimana",months:"mese"}[ot]||ot;return`ogni ${q} ${an}${q>1?"e":""}`},[Nt?.recurrenceEvery,Nt?.recurrenceUnit]);At.useEffect(()=>{if(!C||!Xe){p([]);return}const q=NM(C,ot=>{Mt(""),p(ot)},ot=>Mt(ot.message));return()=>q()},[C,Xe]),At.useEffect(()=>{if(!C||!Xe){S([]);return}const q=OM(C,ot=>{Mt(""),S(ot)},ot=>Mt(ot.message));return()=>q()},[C,Xe]),At.useEffect(()=>{te(!1),es(ee?.name??"")},[ee?.id]),At.useEffect(()=>{ii(!1),Ls(Nt?.name??""),Ti(""),he(""),_t(Nt?.recurrenceEvery?String(Nt.recurrenceEvery):""),kt(Nt?.recurrenceUnit||"days")},[Nt?.id]),At.useEffect(()=>{if(!Nt?.id)return;let q=!1;return(async()=>{try{await SM(Nt.id)}catch(ot){q||Mt(ot.message||"Errore ricorrenza lista")}})(),()=>{q=!0}},[Nt?.id,Nt?.recurrenceEvery,Nt?.recurrenceUnit,Nt?.lastResetAt?.seconds,Nt?.lastResetAt?.nanoseconds]);function Va(q){b(ot=>ot.includes(q)?ot.filter(fe=>fe!==q):[...ot,q])}function Ai(q){Re(ot=>({...ot,[q]:!ot[q]}))}async function Nn(){await iM(s),Cn(!0)}async function qe(){await sM(s),Cn(!1)}async function rn(q,ot){const fe={...Us,[q]:ot};Ps(fe),await WO(s.uid,{[q]:ot})}async function vt(q){Mt(""),N(!0);try{await q()}catch(ot){Mt(ot.message||"Errore inatteso")}finally{N(!1)}}return n?U.jsx("div",{className:"center",children:"Caricamento..."}):s?U.jsxs("main",{className:"layout",children:[U.jsxs("header",{className:"topbar",children:[U.jsxs("div",{children:[U.jsxs("h1",{className:"appTitle",children:["Liste ",U.jsxs("span",{className:"versionTag",children:["v",MT]})]}),U.jsxs("p",{children:[s.displayName," | ",s.email]})]}),U.jsxs("details",{className:"menuDropdown",children:[U.jsx("summary",{className:"ghost menuSummary","aria-label":"Menu",children:U.jsx("span",{className:"menuHamburger","aria-hidden":"true"})}),U.jsxs("div",{className:"menuPanel",children:[U.jsx("button",{className:"ghost",onClick:()=>window.location.reload(),children:"Aggiorna"}),U.jsx("button",{className:"ghost",onClick:()=>I(q=>!q),children:w?"Light mode":"Dark mode"}),U.jsx("button",{className:"ghost",disabled:mt,onClick:()=>vt(()=>Ae?qe():Nn()),children:Ae?"Disattiva push":"Attiva push"}),U.jsxs("div",{className:"notifPrefs",children:[U.jsxs("label",{className:"toggle",children:[U.jsx("input",{type:"checkbox",checked:!!Us.itemAdded,onChange:q=>vt(()=>rn("itemAdded",q.target.checked))}),"Aggiunta item"]}),U.jsxs("label",{className:"toggle",children:[U.jsx("input",{type:"checkbox",checked:!!Us.itemCompleted,onChange:q=>vt(()=>rn("itemCompleted",q.target.checked))}),"Completamento item"]}),U.jsxs("label",{className:"toggle",children:[U.jsx("input",{type:"checkbox",checked:!!Us.memberAdded,onChange:q=>vt(()=>rn("memberAdded",q.target.checked))}),"Nuovo membro"]})]}),U.jsx("button",{className:"ghost",onClick:()=>oM(),children:"Logout"})]})]})]}),_.length?U.jsxs("section",{className:"panel",children:[U.jsx("div",{className:"titleRow",children:U.jsx("h2",{children:U.jsxs("button",{className:"titleToggle",onClick:()=>Ai("invites"),children:["Inviti ricevuti (",_.length,")"]})})}),Yt.invites?null:U.jsx("div",{className:"membersList",children:_.map(q=>U.jsxs("div",{className:"memberRow",children:[U.jsxs("div",{children:[U.jsx("strong",{children:q.spaceName||"Spazio"}),U.jsxs("p",{className:"hint",children:["Da: ",q.invitedByName||q.invitedByUid||"proprietario"]})]}),U.jsxs("div",{className:"memberActions",children:[U.jsx("button",{disabled:mt,onClick:()=>vt(async()=>{await fM(q.id,s),F(q.spaceId||"")}),children:"Accetta"}),U.jsx("button",{className:"ghost",disabled:mt,onClick:()=>vt(()=>dM(q.id,s.uid)),children:"Rifiuta"})]})]},q.id))})]}):null,U.jsxs("section",{className:"panel",children:[U.jsx("div",{className:"titleRow",children:U.jsx("h2",{children:U.jsxs("button",{className:"titleToggle",onClick:()=>Ai("spaces"),children:["Spazi condivisi (cartelle) (",o.length,")"]})})}),Yt.spaces?null:U.jsxs(U.Fragment,{children:[U.jsxs("div",{className:"row",children:[U.jsx("input",{value:G,onChange:q=>nt(q.target.value),placeholder:"Es. Casa con Luca"}),U.jsx("button",{disabled:mt||!G.trim(),onClick:()=>vt(async()=>{await uM(s,G),nt("")}),children:"Crea spazio"})]}),U.jsx("div",{className:"chips",children:o.map(q=>U.jsx("button",{className:q.id===C?"chip active":"chip",onClick:()=>F(q.id),children:q.name},q.id))})]})]}),ee?U.jsxs("section",{className:"panel",children:[U.jsxs("div",{className:"titleRow",children:[Te?U.jsxs("div",{className:"inlineEditor",children:[U.jsx("input",{value:ni,onChange:q=>es(q.target.value)}),U.jsx("button",{disabled:mt||!ni.trim(),onClick:()=>vt(async()=>{await cM(ee.id,ni),te(!1)}),children:"Salva"}),U.jsx("button",{className:"ghost",onClick:()=>te(!1),children:"Annulla"})]}):U.jsx("h2",{children:U.jsxs("button",{className:"titleToggle",onClick:()=>Ai("spaceDetails"),children:["Condividi spazio: ",ee.name,Xe?` (${f.length})`:""]})}),U.jsxs("div",{className:"topActions",children:[Xe&&!Te?U.jsx("button",{className:"ghost",onClick:()=>te(!0),children:"Rinomina"}):null,Xe?U.jsx("button",{className:"danger iconBtn",title:"Elimina spazio","aria-label":"Elimina spazio",disabled:mt,onClick:()=>vt(async()=>{window.confirm("Eliminare questo spazio e tutte le sue liste?")&&(await IM(ee.id),F(""),rt(""))}),children:U.jsx("span",{className:"minusGlyph","aria-hidden":"true",children:"-"})}):null]})]}),Yt.spaceDetails?null:Xe?U.jsxs(U.Fragment,{children:[U.jsxs("div",{className:"row",children:[U.jsx("input",{value:ft,onChange:q=>Ut(q.target.value),placeholder:"email utente da invitare",type:"email"}),U.jsx("button",{disabled:mt||!ft.trim(),onClick:()=>vt(async()=>{const q=ft.trim().toLowerCase();if(f.some(fe=>(fe.emailLower||"")===q||(fe.email||"").toLowerCase()===q))throw new Error("Questo utente e gia membro dello spazio.");await hM(ee.id,ft,ee.name||"Spazio",s),Ut("")}),children:"Invita"})]}),U.jsx("div",{className:"membersList",children:f.map(q=>U.jsxs("div",{className:"memberRow",children:[U.jsxs("div",{children:[U.jsx("strong",{children:q.displayName||q.email||q.id}),U.jsx("p",{className:"hint",children:q.email||q.id})]}),q.role==="owner"?U.jsx("span",{className:"roleBadge",children:"owner"}):U.jsxs("div",{className:"memberActions",children:[U.jsxs("select",{value:q.role||"editor",onChange:ot=>vt(()=>pM(ee.id,q.id,ot.target.value)),children:[U.jsx("option",{value:"editor",children:"editor"}),U.jsx("option",{value:"viewer",children:"viewer"})]}),U.jsx("button",{className:"danger iconBtn",title:"Rimuovi membro","aria-label":"Rimuovi membro",onClick:()=>vt(async()=>{await gM(ee.id,q.id,q.role||"editor"),p(ot=>ot.filter(fe=>fe.id!==q.id))}),children:U.jsx("span",{className:"minusGlyph","aria-hidden":"true",children:"-"})})]})]},q.id))}),T.length?U.jsx("div",{className:"membersList",children:T.map(q=>U.jsxs("div",{className:"memberRow",children:[U.jsxs("div",{children:[U.jsx("strong",{children:q.invitedEmailLower||q.invitedUid}),U.jsxs("p",{className:"hint",children:["Inviato da: ",q.invitedByName||"proprietario"]})]}),U.jsx("button",{className:"danger iconBtn",title:"Revoca invito","aria-label":"Revoca invito",disabled:mt,onClick:()=>vt(()=>mM(q.id)),children:U.jsx("span",{className:"minusGlyph","aria-hidden":"true",children:"-"})})]},q.id))}):null]}):U.jsx("p",{className:"hint",children:"Solo il proprietario puo invitare persone, gestire ruoli o eliminare lo spazio."})]}):null,ee?U.jsxs("section",{className:"panel",children:[U.jsx("div",{className:"titleRow",children:U.jsx("h2",{children:U.jsxs("button",{className:"titleToggle",onClick:()=>Ai("spaceLists"),children:["Liste nello spazio (",Z.length,")"]})})}),Yt.spaceLists?null:U.jsxs(U.Fragment,{children:[U.jsxs("div",{className:"row",children:[U.jsx("input",{value:Qt,onChange:q=>M(q.target.value),placeholder:"Es. Lista spesa"}),U.jsx("button",{disabled:mt||!Qt.trim(),onClick:()=>vt(async()=>{await yM(s,ee.id,Qt),M("")}),children:"Nuova lista"})]}),U.jsx("div",{className:"chips",children:Z.map(q=>U.jsxs("button",{className:q.id===W?"chip active":"chip",onClick:()=>rt(q.id),children:[q.name,x.includes(q.id)?" (chiusa)":""]},q.id))})]})]}):null,Nt?U.jsxs("section",{className:"panel",children:[U.jsxs("div",{className:"titleRow",children:[ns?U.jsxs("div",{className:"inlineEditor",children:[U.jsx("input",{value:yn,onChange:q=>Ls(q.target.value)}),U.jsx("button",{disabled:mt||!yn.trim(),onClick:()=>vt(async()=>{await _M(Nt.id,yn),ii(!1)}),children:"Salva"}),U.jsx("button",{className:"ghost",onClick:()=>ii(!1),children:"Annulla"})]}):U.jsx("h2",{children:U.jsxs("button",{className:"titleToggle",onClick:()=>Ai("activeList"),children:[Nt.name," (",xr,"/",dt.length,")"]})}),U.jsx("div",{className:"topActions compactActions",children:U.jsxs("details",{className:"menuDropdown listActionsDropdown",children:[U.jsx("summary",{className:"ghost menuSummary","aria-label":"Azioni lista",children:U.jsx("span",{className:"menuHamburger","aria-hidden":"true"})}),U.jsxs("div",{className:"menuPanel",children:[ns?null:U.jsx("button",{className:"ghost",onClick:()=>ii(!0),children:"Rinomina"}),U.jsx("button",{className:"ghost",onClick:()=>Va(Nt.id),children:Oa?"Espandi":"Chiudi"}),U.jsxs("div",{className:"row",children:[U.jsx("input",{type:"number",min:"1",value:at,onChange:q=>_t(q.target.value),placeholder:"Ricorrenza"}),U.jsxs("select",{value:Rt,onChange:q=>kt(q.target.value),children:[U.jsx("option",{value:"hours",children:"ore"}),U.jsx("option",{value:"days",children:"giorni"}),U.jsx("option",{value:"weeks",children:"settimane"}),U.jsx("option",{value:"months",children:"mesi"})]})]}),U.jsxs("div",{className:"row",children:[U.jsx("button",{className:"ghost",disabled:mt,onClick:()=>vt(async()=>{await DT(Nt.id,at,Rt)}),children:"Salva tempo"}),U.jsx("button",{className:"ghost",disabled:mt,onClick:()=>vt(async()=>{await DT(Nt.id,null,null),_t("")}),children:"Disattiva tempo"})]}),U.jsxs("div",{className:"row",children:[U.jsx("button",{className:"ghost",disabled:mt||!dt.length,onClick:()=>vt(()=>OT(Nt.id,!0)),children:"Completa tutto"}),U.jsx("button",{className:"ghost",disabled:mt||!dt.length,onClick:()=>vt(()=>OT(Nt.id,!1)),children:"Riapri tutto"})]}),U.jsxs("label",{className:"toggle",children:[U.jsx("input",{type:"checkbox",checked:V,onChange:q=>O(q.target.checked)}),"Mostra solo non completati"]}),U.jsx("button",{className:"ghost",disabled:mt,onClick:()=>vt(()=>RM(s,Nt.id)),children:"Duplica lista"}),U.jsx("button",{className:"danger",disabled:mt,onClick:()=>vt(async()=>{window.confirm("Eliminare questa lista e tutti i suoi elementi?")&&(await bM(Nt.id),rt(""))}),children:"Elimina lista"})]})]})})]}),Yt.activeList?null:U.jsxs(U.Fragment,{children:[U.jsxs("p",{className:"hint",children:["Ripeti lista: ",Ma]}),Oa?U.jsx("p",{className:"hint",children:'Lista chiusa. Premi "Espandi" per visualizzare elementi e azioni.'}):U.jsxs(U.Fragment,{children:[U.jsxs("div",{className:"row",children:[U.jsx("input",{value:X,onChange:q=>it(q.target.value),placeholder:"Aggiungi elemento"}),U.jsx("button",{disabled:mt||!X.trim(),onClick:()=>vt(async()=>{await vM(s,Nt.id,X),it("")}),children:"Aggiungi"})]}),U.jsx("ul",{className:"items",children:zs.map((q,ot)=>U.jsx("li",{children:is===q.id?U.jsxs("div",{className:"inlineEditor grow",children:[U.jsx("input",{value:ss,onChange:fe=>he(fe.target.value)}),U.jsx("button",{disabled:mt||!ss.trim(),onClick:()=>vt(async()=>{await EM(Nt.id,q.id,ss),Ti(""),he("")}),children:"Salva"}),U.jsx("button",{className:"ghost",onClick:()=>{Ti(""),he("")},children:"Annulla"})]}):U.jsxs(U.Fragment,{children:[U.jsxs("label",{children:[U.jsx("input",{type:"checkbox",checked:!!q.completed,onChange:fe=>vt(()=>TM(Nt.id,q.id,fe.target.checked))}),U.jsx("span",{className:q.completed?"done":"",children:q.text})]}),U.jsxs("div",{className:"itemActions",children:[U.jsx("button",{className:"ghost iconBtn small",title:"Sposta su","aria-label":"Sposta su",disabled:mt||ot===0,onClick:()=>vt(()=>NT(Nt.id,q.id,"up")),children:U.jsx("span",{className:"arrowGlyph up","aria-hidden":"true"})}),U.jsx("button",{className:"ghost iconBtn small",title:"Sposta giu","aria-label":"Sposta giu",disabled:mt||ot===zs.length-1,onClick:()=>vt(()=>NT(Nt.id,q.id,"down")),children:U.jsx("span",{className:"arrowGlyph down","aria-hidden":"true"})}),U.jsx("button",{className:"ghost",onClick:()=>{Ti(q.id),he(q.text||"")},children:"Rinomina"}),U.jsx("button",{className:"danger iconBtn small",title:"Elimina elemento","aria-label":"Elimina elemento",disabled:mt,onClick:()=>vt(()=>wM(Nt.id,q.id)),children:"-"})]})]})},q.id))})]})]})]}):null,Ht?U.jsx("p",{className:"error",children:Ht}):null]}):U.jsxs("main",{className:"auth",children:[U.jsxs("h1",{className:"appTitle",children:["Liste ",U.jsxs("span",{className:"versionTag",children:["v",MT]})]}),U.jsx("p",{children:"Liste condivise in tempo reale, installabili su iPhone come web app."}),U.jsx("button",{onClick:()=>vt(()=>rM()),disabled:mt,children:"Entra con Google"}),Ht?U.jsx("p",{className:"error",children:Ht}):null]})}wb.createRoot(document.getElementById("root")).render(U.jsx(yb.StrictMode,{children:U.jsx(kM,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js?v=5").catch(()=>{})});
