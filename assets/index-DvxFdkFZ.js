(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function YS(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Hd={exports:{}},Cl={};var iv;function XS(){if(iv)return Cl;iv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Cl.Fragment=t,Cl.jsx=i,Cl.jsxs=i,Cl}var sv;function JS(){return sv||(sv=1,Hd.exports=XS()),Hd.exports}var Z=JS(),Fd={exports:{}},St={};var rv;function ZS(){if(rv)return St;rv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function F(D){return D===null||typeof D!="object"?null:(D=N&&D[N]||D["@@iterator"],typeof D=="function"?D:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,et={};function dt(D,K,it){this.props=D,this.context=K,this.refs=et,this.updater=it||$}dt.prototype.isReactComponent={},dt.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},dt.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function _t(){}_t.prototype=dt.prototype;function ut(D,K,it){this.props=D,this.context=K,this.refs=et,this.updater=it||$}var vt=ut.prototype=new _t;vt.constructor=ut,W(vt,dt.prototype),vt.isPureReactComponent=!0;var ae=Array.isArray;function xt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(D,K,it){var rt=it.ref;return{$$typeof:s,type:D,key:K,ref:rt!==void 0?rt:null,props:it}}function M(D,K){return I(D.type,K,D.props)}function V(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function L(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(it){return K[it]})}var w=/\/+/g;function Wt(D,K){return typeof D=="object"&&D!==null&&D.key!=null?L(""+D.key):K.toString(36)}function pe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(xt,xt):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function q(D,K,it,rt,mt){var Et=typeof D;(Et==="undefined"||Et==="boolean")&&(D=null);var Dt=!1;if(D===null)Dt=!0;else switch(Et){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(D.$$typeof){case s:case t:Dt=!0;break;case T:return Dt=D._init,q(Dt(D._payload),K,it,rt,mt)}}if(Dt)return mt=mt(D),Dt=rt===""?"."+Wt(D,0):rt,ae(mt)?(it="",Dt!=null&&(it=Dt.replace(w,"$&/")+"/"),q(mt,K,it,"",function(Zn){return Zn})):mt!=null&&(V(mt)&&(mt=M(mt,it+(mt.key==null||D&&D.key===mt.key?"":(""+mt.key).replace(w,"$&/")+"/")+Dt)),K.push(mt)),1;Dt=0;var Ee=rt===""?".":rt+":";if(ae(D))for(var Xt=0;Xt<D.length;Xt++)rt=D[Xt],Et=Ee+Wt(rt,Xt),Dt+=q(rt,K,it,Et,mt);else if(Xt=F(D),typeof Xt=="function")for(D=Xt.call(D),Xt=0;!(rt=D.next()).done;)rt=rt.value,Et=Ee+Wt(rt,Xt++),Dt+=q(rt,K,it,Et,mt);else if(Et==="object"){if(typeof D.then=="function")return q(pe(D),K,it,rt,mt);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function nt(D,K,it){if(D==null)return D;var rt=[],mt=0;return q(D,rt,"","",function(Et){return K.call(it,Et,mt++)}),rt}function ct(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(it){(D._status===0||D._status===-1)&&(D._status=1,D._result=it)},function(it){(D._status===0||D._status===-1)&&(D._status=2,D._result=it)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var Lt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Ht={map:nt,forEach:function(D,K,it){nt(D,function(){K.apply(this,arguments)},it)},count:function(D){var K=0;return nt(D,function(){K++}),K},toArray:function(D){return nt(D,function(K){return K})||[]},only:function(D){if(!V(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return St.Activity=S,St.Children=Ht,St.Component=dt,St.Fragment=i,St.Profiler=l,St.PureComponent=ut,St.StrictMode=r,St.Suspense=_,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,St.__COMPILER_RUNTIME={__proto__:null,c:function(D){return C.H.useMemoCache(D)}},St.cache=function(D){return function(){return D.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(D,K,it){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var rt=W({},D.props),mt=D.key;if(K!=null)for(Et in K.key!==void 0&&(mt=""+K.key),K)!b.call(K,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&K.ref===void 0||(rt[Et]=K[Et]);var Et=arguments.length-2;if(Et===1)rt.children=it;else if(1<Et){for(var Dt=Array(Et),Ee=0;Ee<Et;Ee++)Dt[Ee]=arguments[Ee+2];rt.children=Dt}return I(D.type,mt,rt)},St.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},St.createElement=function(D,K,it){var rt,mt={},Et=null;if(K!=null)for(rt in K.key!==void 0&&(Et=""+K.key),K)b.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(mt[rt]=K[rt]);var Dt=arguments.length-2;if(Dt===1)mt.children=it;else if(1<Dt){for(var Ee=Array(Dt),Xt=0;Xt<Dt;Xt++)Ee[Xt]=arguments[Xt+2];mt.children=Ee}if(D&&D.defaultProps)for(rt in Dt=D.defaultProps,Dt)mt[rt]===void 0&&(mt[rt]=Dt[rt]);return I(D,Et,mt)},St.createRef=function(){return{current:null}},St.forwardRef=function(D){return{$$typeof:p,render:D}},St.isValidElement=V,St.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:ct}},St.memo=function(D,K){return{$$typeof:y,type:D,compare:K===void 0?null:K}},St.startTransition=function(D){var K=C.T,it={};C.T=it;try{var rt=D(),mt=C.S;mt!==null&&mt(it,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(xt,Lt)}catch(Et){Lt(Et)}finally{K!==null&&it.types!==null&&(K.types=it.types),C.T=K}},St.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},St.use=function(D){return C.H.use(D)},St.useActionState=function(D,K,it){return C.H.useActionState(D,K,it)},St.useCallback=function(D,K){return C.H.useCallback(D,K)},St.useContext=function(D){return C.H.useContext(D)},St.useDebugValue=function(){},St.useDeferredValue=function(D,K){return C.H.useDeferredValue(D,K)},St.useEffect=function(D,K){return C.H.useEffect(D,K)},St.useEffectEvent=function(D){return C.H.useEffectEvent(D)},St.useId=function(){return C.H.useId()},St.useImperativeHandle=function(D,K,it){return C.H.useImperativeHandle(D,K,it)},St.useInsertionEffect=function(D,K){return C.H.useInsertionEffect(D,K)},St.useLayoutEffect=function(D,K){return C.H.useLayoutEffect(D,K)},St.useMemo=function(D,K){return C.H.useMemo(D,K)},St.useOptimistic=function(D,K){return C.H.useOptimistic(D,K)},St.useReducer=function(D,K,it){return C.H.useReducer(D,K,it)},St.useRef=function(D){return C.H.useRef(D)},St.useState=function(D){return C.H.useState(D)},St.useSyncExternalStore=function(D,K,it){return C.H.useSyncExternalStore(D,K,it)},St.useTransition=function(){return C.H.useTransition()},St.version="19.2.4",St}var av;function Lm(){return av||(av=1,Fd.exports=ZS()),Fd.exports}var Mt=Lm();const $S=YS(Mt);var Gd={exports:{}},Nl={},Qd={exports:{}},Kd={};var ov;function WS(){return ov||(ov=1,(function(s){function t(q,nt){var ct=q.length;q.push(nt);t:for(;0<ct;){var Lt=ct-1>>>1,Ht=q[Lt];if(0<l(Ht,nt))q[Lt]=nt,q[ct]=Ht,ct=Lt;else break t}}function i(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var nt=q[0],ct=q.pop();if(ct!==nt){q[0]=ct;t:for(var Lt=0,Ht=q.length,D=Ht>>>1;Lt<D;){var K=2*(Lt+1)-1,it=q[K],rt=K+1,mt=q[rt];if(0>l(it,ct))rt<Ht&&0>l(mt,it)?(q[Lt]=mt,q[rt]=ct,Lt=rt):(q[Lt]=it,q[K]=ct,Lt=K);else if(rt<Ht&&0>l(mt,ct))q[Lt]=mt,q[rt]=ct,Lt=rt;else break t}}return nt}function l(q,nt){var ct=q.sortIndex-nt.sortIndex;return ct!==0?ct:q.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],T=1,S=null,N=3,F=!1,$=!1,W=!1,et=!1,dt=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function vt(q){for(var nt=i(y);nt!==null;){if(nt.callback===null)r(y);else if(nt.startTime<=q)r(y),nt.sortIndex=nt.expirationTime,t(_,nt);else break;nt=i(y)}}function ae(q){if(W=!1,vt(q),!$)if(i(_)!==null)$=!0,xt||(xt=!0,L());else{var nt=i(y);nt!==null&&pe(ae,nt.startTime-q)}}var xt=!1,C=-1,b=5,I=-1;function M(){return et?!0:!(s.unstable_now()-I<b)}function V(){if(et=!1,xt){var q=s.unstable_now();I=q;var nt=!0;try{t:{$=!1,W&&(W=!1,_t(C),C=-1),F=!0;var ct=N;try{e:{for(vt(q),S=i(_);S!==null&&!(S.expirationTime>q&&M());){var Lt=S.callback;if(typeof Lt=="function"){S.callback=null,N=S.priorityLevel;var Ht=Lt(S.expirationTime<=q);if(q=s.unstable_now(),typeof Ht=="function"){S.callback=Ht,vt(q),nt=!0;break e}S===i(_)&&r(_),vt(q)}else r(_);S=i(_)}if(S!==null)nt=!0;else{var D=i(y);D!==null&&pe(ae,D.startTime-q),nt=!1}}break t}finally{S=null,N=ct,F=!1}nt=void 0}}finally{nt?L():xt=!1}}}var L;if(typeof ut=="function")L=function(){ut(V)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Wt=w.port2;w.port1.onmessage=V,L=function(){Wt.postMessage(null)}}else L=function(){dt(V,0)};function pe(q,nt){C=dt(function(){q(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(q){switch(N){case 1:case 2:case 3:var nt=3;break;default:nt=N}var ct=N;N=nt;try{return q()}finally{N=ct}},s.unstable_requestPaint=function(){et=!0},s.unstable_runWithPriority=function(q,nt){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ct=N;N=q;try{return nt()}finally{N=ct}},s.unstable_scheduleCallback=function(q,nt,ct){var Lt=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Lt+ct:Lt):ct=Lt,q){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ct+Ht,q={id:T++,callback:nt,priorityLevel:q,startTime:ct,expirationTime:Ht,sortIndex:-1},ct>Lt?(q.sortIndex=ct,t(y,q),i(_)===null&&q===i(y)&&(W?(_t(C),C=-1):W=!0,pe(ae,ct-Lt))):(q.sortIndex=Ht,t(_,q),$||F||($=!0,xt||(xt=!0,L()))),q},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(q){var nt=N;return function(){var ct=N;N=nt;try{return q.apply(this,arguments)}finally{N=ct}}}})(Kd)),Kd}var lv;function t1(){return lv||(lv=1,Qd.exports=WS()),Qd.exports}var Yd={exports:{}},en={};var uv;function e1(){if(uv)return en;uv=1;var s=Lm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,en.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,T)},en.flushSync=function(_){var y=d.T,T=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=T,r.d.f()}},en.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},en.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},en.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:F}):T==="script"&&r.d.X(_,{crossOrigin:S,integrity:N,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},en.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin);r.d.L(_,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=p(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},en.requestFormReset=function(_){r.d.r(_)},en.unstable_batchedUpdates=function(_,y){return _(y)},en.useFormState=function(_,y,T){return d.H.useFormState(_,y,T)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.2.4",en}var cv;function n1(){if(cv)return Yd.exports;cv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Yd.exports=e1(),Yd.exports}var hv;function i1(){if(hv)return Nl;hv=1;var s=t1(),t=Lm(),i=n1();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Wt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case dt:return"Profiler";case et:return"StrictMode";case ae:return"Suspense";case xt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case ut:return e.displayName||"Context";case _t:return(e._context.displayName||"Context")+".Consumer";case vt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:Wt(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return Wt(e(n))}catch{}}return null}var pe=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Lt=[],Ht=-1;function D(e){return{current:e}}function K(e){0>Ht||(e.current=Lt[Ht],Lt[Ht]=null,Ht--)}function it(e,n){Ht++,Lt[Ht]=e.current,e.current=n}var rt=D(null),mt=D(null),Et=D(null),Dt=D(null);function Ee(e,n){switch(it(Et,n),it(mt,e),it(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?R_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=R_(n),e=I_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(rt),it(rt,e)}function Xt(){K(rt),K(mt),K(Et)}function Zn(e){e.memoizedState!==null&&it(Dt,e);var n=rt.current,a=I_(n,e.type);n!==a&&(it(mt,e),it(rt,a))}function Mn(e){mt.current===e&&(K(rt),K(mt)),Dt.current===e&&(K(Dt),bl._currentValue=ct)}var Pe,ge;function xn(e){if(Pe===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Pe=n&&n[1]||"",ge=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pe+e+ge}var vs=!1;function An(e,n){if(!e||vs)return"";vs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(j){var z=j}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(j){z=j}e.call(Y.prototype)}}else{try{throw Error()}catch(j){z=j}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),P=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var H=`
`+R[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{vs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?xn(a):""}function Es(e,n){switch(e.tag){case 26:case 27:case 5:return xn(e.type);case 16:return xn("Lazy");case 13:return e.child!==n&&n!==null?xn("Suspense Fallback"):xn("Suspense");case 19:return xn("SuspenseList");case 0:case 15:return An(e.type,!1);case 11:return An(e.type.render,!1);case 1:return An(e.type,!0);case 31:return xn("Activity");default:return""}}function Er(e){try{var n="",a=null;do n+=Es(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Nt=Object.prototype.hasOwnProperty,X=s.unstable_scheduleCallback,Tt=s.unstable_cancelCallback,Ge=s.unstable_shouldYield,Ts=s.unstable_requestPaint,ln=s.unstable_now,Tr=s.unstable_getCurrentPriorityLevel,Io=s.unstable_ImmediatePriority,Co=s.unstable_UserBlockingPriority,As=s.unstable_NormalPriority,Gh=s.unstable_LowPriority,fu=s.unstable_IdlePriority,du=s.log,mu=s.unstable_setDisableYieldValue,$n=null,Qe=null;function Ln(e){if(typeof du=="function"&&mu(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode($n,e)}catch{}}var Te=Math.clz32?Math.clz32:gu,pu=Math.log,da=Math.LN2;function gu(e){return e>>>=0,e===0?32:31-(pu(e)/da|0)|0}var mi=256,Ar=262144,Re=4194304;function pi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gi(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=pi(o):(g&=E,g!==0?h=pi(g):a||(a=E&~e,a!==0&&(h=pi(a))))):(E=o&~f,E!==0?h=pi(E):g!==0?h=pi(g):a||(a=o&~e,a!==0&&(h=pi(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Wn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Qh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yu(){var e=Re;return Re<<=1,(Re&62914560)===0&&(Re=4194304),e}function yi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Sr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Kh(e,n,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(a=g&~a;0<a;){var H=31-Te(a),Y=1<<H;E[H]=0,R[H]=-1;var z=P[H];if(z!==null)for(P[H]=null,H=0;H<z.length;H++){var j=z[H];j!==null&&(j.lane&=-536870913)}a&=~Y}o!==0&&br(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function br(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Te(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function No(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-Te(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Do(e,n){var a=n&-n;return a=(a&42)!==0?1:wr(a),(a&(e.suspendedLanes|n))!==0?0:a}function wr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function _u(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:J_(e.type))}function ti(e,n){var a=nt.p;try{return nt.p=e,n()}finally{nt.p=a}}var ei=Math.random().toString(36).slice(2),Ie="__reactFiber$"+ei,je="__reactProps$"+ei,_i="__reactContainer$"+ei,ma="__reactEvents$"+ei,Yh="__reactListeners$"+ei,vu="__reactHandles$"+ei,Eu="__reactResources$"+ei,vi="__reactMarker$"+ei;function pa(e){delete e[Ie],delete e[je],delete e[ma],delete e[Yh],delete e[vu]}function Ei(e){var n=e[Ie];if(n)return n;for(var a=e.parentNode;a;){if(n=a[_i]||a[Ie]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=x_(e);e!==null;){if(a=e[Ie])return a;e=x_(e)}return n}e=a,a=e.parentNode}return null}function Un(e){if(e=e[Ie]||e[_i]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Sn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Ti(e){var n=e[Eu];return n||(n=e[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ce(e){e[vi]=!0}var Oo=new Set,Vo={};function Ai(e,n){Si(e,n),Si(e+"Capture",n)}function Si(e,n){for(Vo[e]=n,e=0;e<n.length;e++)Oo.add(n[e])}var Mo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},Lo={};function Tu(e){return Nt.call(Lo,e)?!0:Nt.call(xo,e)?!1:Mo.test(e)?Lo[e]=!0:(xo[e]=!0,!1)}function ga(e,n,a){if(Tu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function bn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ne(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ss(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Uo(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Jt(e){if(!e._valueTracker){var n=Ss(e)?"checked":"value";e._valueTracker=Uo(e,n,""+e[n])}}function Rr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=Ss(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function bi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ir=/[\n"\\]/g;function dn(e){return e.replace(Ir,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ya(e,n,a,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+qe(n)):e.value!==""+qe(n)&&(e.value=""+qe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?ko(e,g,qe(n)):a!=null?ko(e,g,qe(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+qe(E):e.removeAttribute("name")}function Au(e,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Jt(e);return}a=a!=null?""+qe(a):"",n=n!=null?""+qe(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Jt(e)}function ko(e,n,a){n==="number"&&bi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function bs(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+qe(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Su(e,n,a){if(n!=null&&(n=""+qe(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+qe(a):""}function ws(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(pe(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=qe(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Jt(e)}function mn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Po(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||bu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function zo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Po(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Po(e,f,n[f])}function _a(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(e){return Rs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ni(){}var Bo=null;function kn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Is=null,wi=null;function Cr(e){var n=Un(e);if(n&&(e=n.stateNode)){var a=e[je]||null;t:switch(e=n.stateNode,n.type){case"input":if(ya(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[je]||null;if(!h)throw Error(r(90));ya(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&Rr(o)}break t;case"textarea":Su(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&bs(e,!!a.multiple,n,!1)}}}var Ea=!1;function Cs(e,n,a){if(Ea)return e(n,a);Ea=!0;try{var o=e(n);return o}finally{if(Ea=!1,(Is!==null||wi!==null)&&(_c(),Is&&(n=Is,e=wi,wi=Is=null,Cr(n),e)))for(n=0;n<e.length;n++)Cr(e[n])}}function ii(e,n){var a=e.stateNode;if(a===null)return null;var o=a[je]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(Pn)try{var te={};Object.defineProperty(te,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{Nr=!1}var Ri=null,jo=null,Dr=null;function qo(){if(Dr)return Dr;var e,n=jo,a=n.length,o,h="value"in Ri?Ri.value:Ri.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return Dr=h.slice(e,1<o?1-o:void 0)}function Or(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Gi(){return!0}function si(){return!1}function Ke(e){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gi:si,this.isPropagationStopped=si,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),n}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Ke(Qi),Ns=S({},Qi,{view:0,detail:0}),Ho=Ke(Ns),Ds,Ta,Ci,Aa=S({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ci&&(Ci&&e.type==="mousemove"?(Ds=e.screenX-Ci.screenX,Ta=e.screenY-Ci.screenY):Ta=Ds=0,Ci=e),Ds)},movementY:function(e){return"movementY"in e?e.movementY:Ta}}),Fo=Ke(Aa),Vr=S({},Aa,{dataTransfer:0}),Ru=Ke(Vr),Iu=S({},Ns,{relatedTarget:0}),Mr=Ke(Iu),Go=S({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Cu=Ke(Go),Sa=S({},Qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nu=Ke(Sa),Du=S({},Qi,{data:0}),Ni=Ke(Du),Ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Mu[e])?!!n[e]:!1}function Os(){return xu}var un=S({},Ns,{key:function(e){if(e.key){var n=Ou[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(e){return e.type==="keypress"?Or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lu=Ke(un),Uu=S({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=Ke(Uu),u=S({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),m=Ke(u),v=S({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ke(v),U=S({},Aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ke(U),tt=S({},Qi,{newState:0,oldState:0}),Rt=Ke(tt),Ae=[9,13,27,32],Qt=Pn&&"CompositionEvent"in window,he=null;Pn&&"documentMode"in document&&(he=document.documentMode);var zn=Pn&&"TextEvent"in window&&!he,Di=Pn&&(!Qt||he&&8<he&&11>=he),ri=" ",ai=!1;function xr(e,n){switch(e){case"keyup":return Ae.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ba(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wa=!1;function _A(e,n){switch(e){case"compositionend":return ba(n);case"keypress":return n.which!==32?null:(ai=!0,ri);case"textInput":return e=n.data,e===ri&&ai?null:e;default:return null}}function vA(e,n){if(wa)return e==="compositionend"||!Qt&&xr(e,n)?(e=qo(),Dr=jo=Ri=null,wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Di&&n.locale!=="ko"?null:n.data;default:return null}}var EA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!EA[e.type]:n==="textarea"}function Pp(e,n,a,o){Is?wi?wi.push(o):wi=[o]:Is=o,n=wc(n,"onChange"),0<n.length&&(a=new Ii("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Qo=null,Ko=null;function TA(e){E_(e,0)}function ku(e){var n=Sn(e);if(Rr(n))return e}function zp(e,n){if(e==="change")return n}var Bp=!1;if(Pn){var Xh;if(Pn){var Jh="oninput"in document;if(!Jh){var jp=document.createElement("div");jp.setAttribute("oninput","return;"),Jh=typeof jp.oninput=="function"}Xh=Jh}else Xh=!1;Bp=Xh&&(!document.documentMode||9<document.documentMode)}function qp(){Qo&&(Qo.detachEvent("onpropertychange",Hp),Ko=Qo=null)}function Hp(e){if(e.propertyName==="value"&&ku(Ko)){var n=[];Pp(n,Ko,e,kn(e)),Cs(TA,n)}}function AA(e,n,a){e==="focusin"?(qp(),Qo=n,Ko=a,Qo.attachEvent("onpropertychange",Hp)):e==="focusout"&&qp()}function SA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ku(Ko)}function bA(e,n){if(e==="click")return ku(n)}function wA(e,n){if(e==="input"||e==="change")return ku(n)}function RA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var wn=typeof Object.is=="function"?Object.is:RA;function Yo(e,n){if(wn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Nt.call(n,h)||!wn(e[h],n[h]))return!1}return!0}function Fp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gp(e,n){var a=Fp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Fp(a)}}function Qp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Qp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Kp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=bi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=bi(e.document)}return n}function Zh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var IA=Pn&&"documentMode"in document&&11>=document.documentMode,Ra=null,$h=null,Xo=null,Wh=!1;function Yp(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wh||Ra==null||Ra!==bi(o)||(o=Ra,"selectionStart"in o&&Zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Xo&&Yo(Xo,o)||(Xo=o,o=wc($h,"onSelect"),0<o.length&&(n=new Ii("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=Ra)))}function Lr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Ia={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},tf={},Xp={};Pn&&(Xp=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Ur(e){if(tf[e])return tf[e];if(!Ia[e])return e;var n=Ia[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Xp)return tf[e]=n[a];return e}var Jp=Ur("animationend"),Zp=Ur("animationiteration"),$p=Ur("animationstart"),CA=Ur("transitionrun"),NA=Ur("transitionstart"),DA=Ur("transitioncancel"),Wp=Ur("transitionend"),tg=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function oi(e,n){tg.set(e,n),Ai(n,[e])}var Pu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bn=[],Ca=0,nf=0;function zu(){for(var e=Ca,n=nf=Ca=0;n<e;){var a=Bn[n];Bn[n++]=null;var o=Bn[n];Bn[n++]=null;var h=Bn[n];Bn[n++]=null;var f=Bn[n];if(Bn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&eg(a,h,f)}}function Bu(e,n,a,o){Bn[Ca++]=e,Bn[Ca++]=n,Bn[Ca++]=a,Bn[Ca++]=o,nf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function sf(e,n,a,o){return Bu(e,n,a,o),ju(e)}function kr(e,n){return Bu(e,null,null,n),ju(e)}function eg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Te(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function ju(e){if(50<yl)throw yl=0,dd=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Na={};function OA(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,n,a,o){return new OA(e,n,a,o)}function rf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yi(e,n){var a=e.alternate;return a===null?(a=Rn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ng(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function qu(e,n,a,o,h,f){var g=0;if(o=e,typeof e=="function")rf(e)&&(g=1);else if(typeof e=="string")g=US(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Rn(31,a,n,h),e.elementType=I,e.lanes=f,e;case W:return Pr(a.children,h,f,n);case et:g=8,h|=24;break;case dt:return e=Rn(12,a,n,h|2),e.elementType=dt,e.lanes=f,e;case ae:return e=Rn(13,a,n,h),e.elementType=ae,e.lanes=f,e;case xt:return e=Rn(19,a,n,h),e.elementType=xt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ut:g=10;break t;case _t:g=9;break t;case vt:g=11;break t;case C:g=14;break t;case b:g=16,o=null;break t}g=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=Rn(g,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Pr(e,n,a,o){return e=Rn(7,e,o,n),e.lanes=a,e}function af(e,n,a){return e=Rn(6,e,null,n),e.lanes=a,e}function ig(e){var n=Rn(18,null,null,0);return n.stateNode=e,n}function of(e,n,a){return n=Rn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var sg=new WeakMap;function jn(e,n){if(typeof e=="object"&&e!==null){var a=sg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Er(n)},sg.set(e,n),n)}return{value:e,source:n,stack:Er(n)}}var Da=[],Oa=0,Hu=null,Jo=0,qn=[],Hn=0,Vs=null,Oi=1,Vi="";function Xi(e,n){Da[Oa++]=Jo,Da[Oa++]=Hu,Hu=e,Jo=n}function rg(e,n,a){qn[Hn++]=Oi,qn[Hn++]=Vi,qn[Hn++]=Vs,Vs=e;var o=Oi;e=Vi;var h=32-Te(o)-1;o&=~(1<<h),a+=1;var f=32-Te(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Oi=1<<32-Te(n)+h|a<<h|o,Vi=f+e}else Oi=1<<f|a<<h|o,Vi=e}function lf(e){e.return!==null&&(Xi(e,1),rg(e,1,0))}function uf(e){for(;e===Hu;)Hu=Da[--Oa],Da[Oa]=null,Jo=Da[--Oa],Da[Oa]=null;for(;e===Vs;)Vs=qn[--Hn],qn[Hn]=null,Vi=qn[--Hn],qn[Hn]=null,Oi=qn[--Hn],qn[Hn]=null}function ag(e,n){qn[Hn++]=Oi,qn[Hn++]=Vi,qn[Hn++]=Vs,Oi=n.id,Vi=n.overflow,Vs=e}var Ye=null,oe=null,jt=!1,Ms=null,Fn=!1,cf=Error(r(519));function xs(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zo(jn(n,e)),cf}function og(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Ie]=e,n[je]=o,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<vl.length;a++)Vt(vl[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Au(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),ws(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||b_(n.textContent,a)?(o.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),o.onScroll!=null&&Vt("scroll",n),o.onScrollEnd!=null&&Vt("scrollend",n),o.onClick!=null&&(n.onclick=ni),n=!0):n=!1,n||xs(e,!0)}function lg(e){for(Ye=e.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Ye=Ye.return}}function Va(e){if(e!==Ye)return!1;if(!jt)return lg(e),jt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Cd(e.type,e.memoizedProps)),a=!a),a&&oe&&xs(e),lg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));oe=M_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));oe=M_(e)}else n===27?(n=oe,Ys(e.type)?(e=Md,Md=null,oe=e):oe=n):oe=Ye?Qn(e.stateNode.nextSibling):null;return!0}function zr(){oe=Ye=null,jt=!1}function hf(){var e=Ms;return e!==null&&(_n===null?_n=e:_n.push.apply(_n,e),Ms=null),e}function Zo(e){Ms===null?Ms=[e]:Ms.push(e)}var ff=D(null),Br=null,Ji=null;function Ls(e,n,a){it(ff,n._currentValue),n._currentValue=a}function Zi(e){e._currentValue=ff.current,K(ff)}function df(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function mf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),df(f.return,a,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),df(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ma(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;wn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Dt.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(bl):e=[bl])}h=h.return}e!==null&&mf(n,e,a,o),n.flags|=262144}function Fu(e){for(e=e.firstContext;e!==null;){if(!wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function jr(e){Br=e,Ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xe(e){return ug(Br,e)}function Gu(e,n){return Br===null&&jr(e),ug(e,n)}function ug(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ji===null){if(e===null)throw Error(r(308));Ji=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ji=Ji.next=n;return a}var VA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},MA=s.unstable_scheduleCallback,xA=s.unstable_NormalPriority,De={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new VA,data:new Map,refCount:0}}function $o(e){e.refCount--,e.refCount===0&&MA(xA,function(){e.controller.abort()})}var Wo=null,gf=0,xa=0,La=null;function LA(e,n){if(Wo===null){var a=Wo=[];gf=0,xa=vd(),La={status:"pending",value:void 0,then:function(o){a.push(o)}}}return gf++,n.then(cg,cg),n}function cg(){if(--gf===0&&Wo!==null){La!==null&&(La.status="fulfilled");var e=Wo;Wo=null,xa=0,La=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function UA(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var hg=q.S;q.S=function(e,n){Yy=ln(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&LA(e,n),hg!==null&&hg(e,n)};var qr=D(null);function yf(){var e=qr.current;return e!==null?e:se.pooledCache}function Qu(e,n){n===null?it(qr,qr.current):it(qr,n.pool)}function fg(){var e=yf();return e===null?null:{parent:De._currentValue,pool:e}}var Ua=Error(r(460)),_f=Error(r(474)),Ku=Error(r(542)),Yu={then:function(){}};function dg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(ni,ni),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,gg(e),e;default:if(typeof n.status=="string")n.then(ni,ni);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,gg(e),e}throw Fr=n,Ua}}function Hr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Fr=a,Ua):a}}var Fr=null;function pg(){if(Fr===null)throw Error(r(459));var e=Fr;return Fr=null,e}function gg(e){if(e===Ua||e===Ku)throw Error(r(483))}var ka=null,tl=0;function Xu(e){var n=tl;return tl+=1,ka===null&&(ka=[]),mg(ka,e,n)}function el(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ju(e,n){throw n.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function yg(e){function n(x,O){if(e){var k=x.deletions;k===null?(x.deletions=[O],x.flags|=16):k.push(O)}}function a(x,O){if(!e)return null;for(;O!==null;)n(x,O),O=O.sibling;return null}function o(x){for(var O=new Map;x!==null;)x.key!==null?O.set(x.key,x):O.set(x.index,x),x=x.sibling;return O}function h(x,O){return x=Yi(x,O),x.index=0,x.sibling=null,x}function f(x,O,k){return x.index=k,e?(k=x.alternate,k!==null?(k=k.index,k<O?(x.flags|=67108866,O):k):(x.flags|=67108866,O)):(x.flags|=1048576,O)}function g(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,O,k,Q){return O===null||O.tag!==6?(O=af(k,x.mode,Q),O.return=x,O):(O=h(O,k),O.return=x,O)}function R(x,O,k,Q){var ht=k.type;return ht===W?H(x,O,k.props.children,Q,k.key):O!==null&&(O.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&Hr(ht)===O.type)?(O=h(O,k.props),el(O,k),O.return=x,O):(O=qu(k.type,k.key,k.props,null,x.mode,Q),el(O,k),O.return=x,O)}function P(x,O,k,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==k.containerInfo||O.stateNode.implementation!==k.implementation?(O=of(k,x.mode,Q),O.return=x,O):(O=h(O,k.children||[]),O.return=x,O)}function H(x,O,k,Q,ht){return O===null||O.tag!==7?(O=Pr(k,x.mode,Q,ht),O.return=x,O):(O=h(O,k),O.return=x,O)}function Y(x,O,k){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=af(""+O,x.mode,k),O.return=x,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case F:return k=qu(O.type,O.key,O.props,null,x.mode,k),el(k,O),k.return=x,k;case $:return O=of(O,x.mode,k),O.return=x,O;case b:return O=Hr(O),Y(x,O,k)}if(pe(O)||L(O))return O=Pr(O,x.mode,k,null),O.return=x,O;if(typeof O.then=="function")return Y(x,Xu(O),k);if(O.$$typeof===ut)return Y(x,Gu(x,O),k);Ju(x,O)}return null}function z(x,O,k,Q){var ht=O!==null?O.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ht!==null?null:E(x,O,""+k,Q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case F:return k.key===ht?R(x,O,k,Q):null;case $:return k.key===ht?P(x,O,k,Q):null;case b:return k=Hr(k),z(x,O,k,Q)}if(pe(k)||L(k))return ht!==null?null:H(x,O,k,Q,null);if(typeof k.then=="function")return z(x,O,Xu(k),Q);if(k.$$typeof===ut)return z(x,O,Gu(x,k),Q);Ju(x,k)}return null}function j(x,O,k,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(k)||null,E(O,x,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return x=x.get(Q.key===null?k:Q.key)||null,R(O,x,Q,ht);case $:return x=x.get(Q.key===null?k:Q.key)||null,P(O,x,Q,ht);case b:return Q=Hr(Q),j(x,O,k,Q,ht)}if(pe(Q)||L(Q))return x=x.get(k)||null,H(O,x,Q,ht,null);if(typeof Q.then=="function")return j(x,O,k,Xu(Q),ht);if(Q.$$typeof===ut)return j(x,O,k,Gu(O,Q),ht);Ju(O,Q)}return null}function ot(x,O,k,Q){for(var ht=null,Ft=null,lt=O,Ct=O=0,kt=null;lt!==null&&Ct<k.length;Ct++){lt.index>Ct?(kt=lt,lt=null):kt=lt.sibling;var Gt=z(x,lt,k[Ct],Q);if(Gt===null){lt===null&&(lt=kt);break}e&&lt&&Gt.alternate===null&&n(x,lt),O=f(Gt,O,Ct),Ft===null?ht=Gt:Ft.sibling=Gt,Ft=Gt,lt=kt}if(Ct===k.length)return a(x,lt),jt&&Xi(x,Ct),ht;if(lt===null){for(;Ct<k.length;Ct++)lt=Y(x,k[Ct],Q),lt!==null&&(O=f(lt,O,Ct),Ft===null?ht=lt:Ft.sibling=lt,Ft=lt);return jt&&Xi(x,Ct),ht}for(lt=o(lt);Ct<k.length;Ct++)kt=j(lt,x,Ct,k[Ct],Q),kt!==null&&(e&&kt.alternate!==null&&lt.delete(kt.key===null?Ct:kt.key),O=f(kt,O,Ct),Ft===null?ht=kt:Ft.sibling=kt,Ft=kt);return e&&lt.forEach(function(Ws){return n(x,Ws)}),jt&&Xi(x,Ct),ht}function pt(x,O,k,Q){if(k==null)throw Error(r(151));for(var ht=null,Ft=null,lt=O,Ct=O=0,kt=null,Gt=k.next();lt!==null&&!Gt.done;Ct++,Gt=k.next()){lt.index>Ct?(kt=lt,lt=null):kt=lt.sibling;var Ws=z(x,lt,Gt.value,Q);if(Ws===null){lt===null&&(lt=kt);break}e&&lt&&Ws.alternate===null&&n(x,lt),O=f(Ws,O,Ct),Ft===null?ht=Ws:Ft.sibling=Ws,Ft=Ws,lt=kt}if(Gt.done)return a(x,lt),jt&&Xi(x,Ct),ht;if(lt===null){for(;!Gt.done;Ct++,Gt=k.next())Gt=Y(x,Gt.value,Q),Gt!==null&&(O=f(Gt,O,Ct),Ft===null?ht=Gt:Ft.sibling=Gt,Ft=Gt);return jt&&Xi(x,Ct),ht}for(lt=o(lt);!Gt.done;Ct++,Gt=k.next())Gt=j(lt,x,Ct,Gt.value,Q),Gt!==null&&(e&&Gt.alternate!==null&&lt.delete(Gt.key===null?Ct:Gt.key),O=f(Gt,O,Ct),Ft===null?ht=Gt:Ft.sibling=Gt,Ft=Gt);return e&&lt.forEach(function(KS){return n(x,KS)}),jt&&Xi(x,Ct),ht}function ie(x,O,k,Q){if(typeof k=="object"&&k!==null&&k.type===W&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case F:t:{for(var ht=k.key;O!==null;){if(O.key===ht){if(ht=k.type,ht===W){if(O.tag===7){a(x,O.sibling),Q=h(O,k.props.children),Q.return=x,x=Q;break t}}else if(O.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&Hr(ht)===O.type){a(x,O.sibling),Q=h(O,k.props),el(Q,k),Q.return=x,x=Q;break t}a(x,O);break}else n(x,O);O=O.sibling}k.type===W?(Q=Pr(k.props.children,x.mode,Q,k.key),Q.return=x,x=Q):(Q=qu(k.type,k.key,k.props,null,x.mode,Q),el(Q,k),Q.return=x,x=Q)}return g(x);case $:t:{for(ht=k.key;O!==null;){if(O.key===ht)if(O.tag===4&&O.stateNode.containerInfo===k.containerInfo&&O.stateNode.implementation===k.implementation){a(x,O.sibling),Q=h(O,k.children||[]),Q.return=x,x=Q;break t}else{a(x,O);break}else n(x,O);O=O.sibling}Q=of(k,x.mode,Q),Q.return=x,x=Q}return g(x);case b:return k=Hr(k),ie(x,O,k,Q)}if(pe(k))return ot(x,O,k,Q);if(L(k)){if(ht=L(k),typeof ht!="function")throw Error(r(150));return k=ht.call(k),pt(x,O,k,Q)}if(typeof k.then=="function")return ie(x,O,Xu(k),Q);if(k.$$typeof===ut)return ie(x,O,Gu(x,k),Q);Ju(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,O!==null&&O.tag===6?(a(x,O.sibling),Q=h(O,k),Q.return=x,x=Q):(a(x,O),Q=af(k,x.mode,Q),Q.return=x,x=Q),g(x)):a(x,O)}return function(x,O,k,Q){try{tl=0;var ht=ie(x,O,k,Q);return ka=null,ht}catch(lt){if(lt===Ua||lt===Ku)throw lt;var Ft=Rn(29,lt,null,x.mode);return Ft.lanes=Q,Ft.return=x,Ft}}}var Gr=yg(!0),_g=yg(!1),Us=!1;function vf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ks(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Kt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=ju(e),eg(e,null,a),n}return Bu(e,o,n,a),ju(e)}function nl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,No(e,a)}}function Tf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Af=!1;function il(){if(Af){var e=La;if(e!==null)throw e}}function sl(e,n,a,o){Af=!1;var h=e.updateQueue;Us=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;g=0,H=P=R=null,E=f;do{var z=E.lane&-536870913,j=z!==E.lane;if(j?(Ut&z)===z:(o&z)===z){z!==0&&z===xa&&(Af=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,pt=E;z=n;var ie=a;switch(pt.tag){case 1:if(ot=pt.payload,typeof ot=="function"){Y=ot.call(ie,Y,z);break t}Y=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=pt.payload,z=typeof ot=="function"?ot.call(ie,Y,z):ot,z==null)break t;Y=S({},Y,z);break t;case 2:Us=!0}}z=E.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[z]:j.push(z))}else j={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=j,R=Y):H=H.next=j,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;j=E,E=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);H===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Hs|=g,e.lanes=g,e.memoizedState=Y}}function vg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Eg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)vg(a[e],n)}var Pa=D(null),Zu=D(0);function Tg(e,n){e=as,it(Zu,e),it(Pa,n),as=e|n.baseLanes}function Sf(){it(Zu,as),it(Pa,Pa.current)}function bf(){as=Zu.current,K(Pa),K(Zu)}var In=D(null),Gn=null;function zs(e){var n=e.alternate;it(Se,Se.current&1),it(In,e),Gn===null&&(n===null||Pa.current!==null||n.memoizedState!==null)&&(Gn=e)}function wf(e){it(Se,Se.current),it(In,e),Gn===null&&(Gn=e)}function Ag(e){e.tag===22?(it(Se,Se.current),it(In,e),Gn===null&&(Gn=e)):Bs()}function Bs(){it(Se,Se.current),it(In,In.current)}function Cn(e){K(In),Gn===e&&(Gn=null),K(Se)}var Se=D(0);function $u(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Od(a)||Vd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $i=0,It=null,ee=null,Oe=null,Wu=!1,za=!1,Qr=!1,tc=0,rl=0,Ba=null,kA=0;function ye(){throw Error(r(321))}function Rf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!wn(e[a],n[a]))return!1;return!0}function If(e,n,a,o,h,f){return $i=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?ry:qf,Qr=!1,f=a(o,h),Qr=!1,za&&(f=bg(n,a,o,h)),Sg(e),f}function Sg(e){q.H=ll;var n=ee!==null&&ee.next!==null;if($i=0,Oe=ee=It=null,Wu=!1,rl=0,Ba=null,n)throw Error(r(300));e===null||Ve||(e=e.dependencies,e!==null&&Fu(e)&&(Ve=!0))}function bg(e,n,a,o){It=e;var h=0;do{if(za&&(Ba=null),rl=0,za=!1,25<=h)throw Error(r(301));if(h+=1,Oe=ee=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=ay,f=n(a,o)}while(za);return f}function PA(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?al(n):n,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(It.flags|=1024),n}function Cf(){var e=tc!==0;return tc=0,e}function Nf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Df(e){if(Wu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Wu=!1}$i=0,Oe=ee=It=null,za=!1,rl=tc=0,Ba=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?It.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function be(){if(ee===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var n=Oe===null?It.memoizedState:Oe.next;if(n!==null)Oe=n,ee=e;else{if(e===null)throw It.alternate===null?Error(r(467)):Error(r(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Oe===null?It.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(e){var n=rl;return rl+=1,Ba===null&&(Ba=[]),e=mg(Ba,e,n),n=It,(Oe===null?n.memoizedState:Oe.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?ry:qf),e}function nc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return al(e);if(e.$$typeof===ut)return Xe(e)}throw Error(r(438,String(e)))}function Of(e){var n=null,a=It.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=It.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ec(),It.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=M;return n.index++,a}function Wi(e,n){return typeof n=="function"?n(e):n}function ic(e){var n=be();return Vf(n,ee,e)}function Vf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,P=n,H=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Ut&Y)===Y:($i&Y)===Y){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===xa&&(H=!0);else if(($i&z)===z){P=P.next,z===xa&&(H=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=Y,g=f):R=R.next=Y,It.lanes|=z,Hs|=z;Y=P.action,Qr&&a(f,Y),f=P.hasEagerState?P.eagerState:a(f,Y)}else z={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=z,g=f):R=R.next=z,It.lanes|=Y,Hs|=Y;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=E,!wn(f,e.memoizedState)&&(Ve=!0,H&&(a=La,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Mf(e){var n=be(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);wn(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function wg(e,n,a){var o=It,h=be(),f=jt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!wn((ee||h).memoizedState,a);if(g&&(h.memoizedState=a,Ve=!0),h=h.queue,Uf(Cg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Oe!==null&&Oe.memoizedState.tag&1){if(o.flags|=2048,ja(9,{destroy:void 0},Ig.bind(null,o,h,a,n),null),se===null)throw Error(r(349));f||($i&127)!==0||Rg(o,n,a)}return a}function Rg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=It.updateQueue,n===null?(n=ec(),It.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Ig(e,n,a,o){n.value=a,n.getSnapshot=o,Ng(n)&&Dg(e)}function Cg(e,n,a){return a(function(){Ng(n)&&Dg(e)})}function Ng(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!wn(e,a)}catch{return!0}}function Dg(e){var n=kr(e,2);n!==null&&vn(n,e,2)}function xf(e){var n=cn();if(typeof e=="function"){var a=e;if(e=a(),Qr){Ln(!0);try{a()}finally{Ln(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:e},n}function Og(e,n,a,o){return e.baseState=a,Vf(e,ee,typeof o=="function"?o:Wi)}function zA(e,n,a,o,h){if(ac(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Vg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Vg(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var E=a(h,o),R=q.S;R!==null&&R(g,E),Mg(e,n,E)}catch(P){Lf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=a(h,o),Mg(e,n,f)}catch(P){Lf(e,n,P)}}function Mg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){xg(e,n,o)},function(o){return Lf(e,n,o)}):xg(e,n,a)}function xg(e,n,a){n.status="fulfilled",n.value=a,Lg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Vg(e,a)))}function Lf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Lg(n),n=n.next;while(n!==o)}e.action=null}function Lg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ug(e,n){return n}function kg(e,n){if(jt){var a=se.formState;if(a!==null){t:{var o=It;if(jt){if(oe){e:{for(var h=oe,f=Fn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Qn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){oe=Qn(h.nextSibling),o=h.data==="F!";break t}}xs(o)}o=!1}o&&(n=a[0])}}return a=cn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ug,lastRenderedState:n},a.queue=o,a=ny.bind(null,It,o),o.dispatch=a,o=xf(!1),f=jf.bind(null,It,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=zA.bind(null,It,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Pg(e){var n=be();return zg(n,ee,e)}function zg(e,n,a){if(n=Vf(e,n,Ug)[0],e=ic(Wi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=al(n)}catch(g){throw g===Ua?Ku:g}else o=n;n=be();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(It.flags|=2048,ja(9,{destroy:void 0},BA.bind(null,h,a),null)),[o,f,e]}function BA(e,n){e.action=n}function Bg(e){var n=be(),a=ee;if(a!==null)return zg(n,a,e);be(),n=n.memoizedState,a=be();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function ja(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=It.updateQueue,n===null&&(n=ec(),It.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function jg(){return be().memoizedState}function sc(e,n,a,o){var h=cn();It.flags|=e,h.memoizedState=ja(1|n,{destroy:void 0},a,o===void 0?null:o)}function rc(e,n,a,o){var h=be();o=o===void 0?null:o;var f=h.memoizedState.inst;ee!==null&&o!==null&&Rf(o,ee.memoizedState.deps)?h.memoizedState=ja(n,f,a,o):(It.flags|=e,h.memoizedState=ja(1|n,f,a,o))}function qg(e,n){sc(8390656,8,e,n)}function Uf(e,n){rc(2048,8,e,n)}function jA(e){It.flags|=4;var n=It.updateQueue;if(n===null)n=ec(),It.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Hg(e){var n=be().memoizedState;return jA({ref:n,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Fg(e,n){return rc(4,2,e,n)}function Gg(e,n){return rc(4,4,e,n)}function Qg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Kg(e,n,a){a=a!=null?a.concat([e]):null,rc(4,4,Qg.bind(null,n,e),a)}function kf(){}function Yg(e,n){var a=be();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Rf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Xg(e,n){var a=be();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Rf(n,o[1]))return o[0];if(o=e(),Qr){Ln(!0);try{e()}finally{Ln(!1)}}return a.memoizedState=[o,n],o}function Pf(e,n,a){return a===void 0||($i&1073741824)!==0&&(Ut&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Jy(),It.lanes|=e,Hs|=e,a)}function Jg(e,n,a,o){return wn(a,n)?a:Pa.current!==null?(e=Pf(e,a,o),wn(e,n)||(Ve=!0),e):($i&42)===0||($i&1073741824)!==0&&(Ut&261930)===0?(Ve=!0,e.memoizedState=a):(e=Jy(),It.lanes|=e,Hs|=e,n)}function Zg(e,n,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=q.T,E={};q.T=E,jf(e,!1,n,a);try{var R=h(),P=q.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=UA(R,o);ol(e,n,H,On(e))}else ol(e,n,o,On(e))}catch(Y){ol(e,n,{then:function(){},status:"rejected",reason:Y},On())}finally{nt.p=f,g!==null&&E.types!==null&&(g.types=E.types),q.T=g}}function qA(){}function zf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=$g(e).queue;Zg(e,h,n,ct,a===null?qA:function(){return Wg(e),a(o)})}function $g(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:ct},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Wg(e){var n=$g(e);n.next===null&&(n=e.alternate.memoizedState),ol(e,n.next.queue,{},On())}function Bf(){return Xe(bl)}function ty(){return be().memoizedState}function ey(){return be().memoizedState}function HA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=On();e=ks(a);var o=Ps(n,e,a);o!==null&&(vn(o,n,a),nl(o,n,a)),n={cache:pf()},e.payload=n;return}n=n.return}}function FA(e,n,a){var o=On();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ac(e)?iy(n,a):(a=sf(e,n,a,o),a!==null&&(vn(a,e,o),sy(a,n,o)))}function ny(e,n,a){var o=On();ol(e,n,a,o)}function ol(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ac(e))iy(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,wn(E,g))return Bu(e,n,h,0),se===null&&zu(),!1}catch{}if(a=sf(e,n,h,o),a!==null)return vn(a,e,o),sy(a,n,o),!0}return!1}function jf(e,n,a,o){if(o={lane:2,revertLane:vd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ac(e)){if(n)throw Error(r(479))}else n=sf(e,a,o,2),n!==null&&vn(n,e,2)}function ac(e){var n=e.alternate;return e===It||n!==null&&n===It}function iy(e,n){za=Wu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function sy(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,No(e,a)}}var ll={readContext:Xe,use:nc,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye};ll.useEffectEvent=ye;var ry={readContext:Xe,use:nc,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:Xe,useEffect:qg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,sc(4194308,4,Qg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return sc(4194308,4,e,n)},useInsertionEffect:function(e,n){sc(4,2,e,n)},useMemo:function(e,n){var a=cn();n=n===void 0?null:n;var o=e();if(Qr){Ln(!0);try{e()}finally{Ln(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=cn();if(a!==void 0){var h=a(n);if(Qr){Ln(!0);try{a(n)}finally{Ln(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=FA.bind(null,It,e),[o.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=xf(e);var n=e.queue,a=ny.bind(null,It,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:kf,useDeferredValue:function(e,n){var a=cn();return Pf(a,e,n)},useTransition:function(){var e=xf(!1);return e=Zg.bind(null,It,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=It,h=cn();if(jt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),se===null)throw Error(r(349));(Ut&127)!==0||Rg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,qg(Cg.bind(null,o,f,e),[e]),o.flags|=2048,ja(9,{destroy:void 0},Ig.bind(null,o,f,a,n),null),a},useId:function(){var e=cn(),n=se.identifierPrefix;if(jt){var a=Vi,o=Oi;a=(o&~(1<<32-Te(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=tc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=kA++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Bf,useFormState:kg,useActionState:kg,useOptimistic:function(e){var n=cn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=jf.bind(null,It,!0,a),a.dispatch=n,[e,n]},useMemoCache:Of,useCacheRefresh:function(){return cn().memoizedState=HA.bind(null,It)},useEffectEvent:function(e){var n=cn(),a={impl:e};return n.memoizedState=a,function(){if((Kt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},qf={readContext:Xe,use:nc,useCallback:Yg,useContext:Xe,useEffect:Uf,useImperativeHandle:Kg,useInsertionEffect:Fg,useLayoutEffect:Gg,useMemo:Xg,useReducer:ic,useRef:jg,useState:function(){return ic(Wi)},useDebugValue:kf,useDeferredValue:function(e,n){var a=be();return Jg(a,ee.memoizedState,e,n)},useTransition:function(){var e=ic(Wi)[0],n=be().memoizedState;return[typeof e=="boolean"?e:al(e),n]},useSyncExternalStore:wg,useId:ty,useHostTransitionStatus:Bf,useFormState:Pg,useActionState:Pg,useOptimistic:function(e,n){var a=be();return Og(a,ee,e,n)},useMemoCache:Of,useCacheRefresh:ey};qf.useEffectEvent=Hg;var ay={readContext:Xe,use:nc,useCallback:Yg,useContext:Xe,useEffect:Uf,useImperativeHandle:Kg,useInsertionEffect:Fg,useLayoutEffect:Gg,useMemo:Xg,useReducer:Mf,useRef:jg,useState:function(){return Mf(Wi)},useDebugValue:kf,useDeferredValue:function(e,n){var a=be();return ee===null?Pf(a,e,n):Jg(a,ee.memoizedState,e,n)},useTransition:function(){var e=Mf(Wi)[0],n=be().memoizedState;return[typeof e=="boolean"?e:al(e),n]},useSyncExternalStore:wg,useId:ty,useHostTransitionStatus:Bf,useFormState:Bg,useActionState:Bg,useOptimistic:function(e,n){var a=be();return ee!==null?Og(a,ee,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Of,useCacheRefresh:ey};ay.useEffectEvent=Hg;function Hf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ff={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=On(),h=ks(o);h.payload=n,a!=null&&(h.callback=a),n=Ps(e,h,o),n!==null&&(vn(n,e,o),nl(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=On(),h=ks(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ps(e,h,o),n!==null&&(vn(n,e,o),nl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=On(),o=ks(a);o.tag=2,n!=null&&(o.callback=n),n=Ps(e,o,a),n!==null&&(vn(n,e,a),nl(n,e,a))}};function oy(e,n,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Yo(a,o)||!Yo(h,f):!0}function ly(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Ff.enqueueReplaceState(n,n.state,null)}function Kr(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function uy(e){Pu(e)}function cy(e){console.error(e)}function hy(e){Pu(e)}function oc(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function fy(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(e,n,a){return a=ks(a),a.tag=3,a.payload={element:null},a.callback=function(){oc(e,n)},a}function dy(e){return e=ks(e),e.tag=3,e}function my(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){fy(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){fy(n,a,o),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function GA(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Ma(n,a,h,!0),a=In.current,a!==null){switch(a.tag){case 31:case 13:return Gn===null?vc():a.alternate===null&&_e===0&&(_e=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Yu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),gd(e,o,h)),!1;case 22:return a.flags|=65536,o===Yu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),gd(e,o,h)),!1}throw Error(r(435,a.tag))}return gd(e,o,h),vc(),!1}if(jt)return n=In.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==cf&&(e=Error(r(422),{cause:o}),Zo(jn(e,a)))):(o!==cf&&(n=Error(r(423),{cause:o}),Zo(jn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=jn(o,a),h=Gf(e.stateNode,o,h),Tf(e,h),_e!==4&&(_e=2)),!1;var f=Error(r(520),{cause:o});if(f=jn(f,a),gl===null?gl=[f]:gl.push(f),_e!==4&&(_e=2),n===null)return!0;o=jn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Gf(a.stateNode,o,e),Tf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Fs===null||!Fs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=dy(h),my(h,e,a,o),Tf(a,h),!1}a=a.return}while(a!==null);return!1}var Qf=Error(r(461)),Ve=!1;function Je(e,n,a,o){n.child=e===null?_g(n,null,a,o):Gr(n,e.child,a,o)}function py(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return jr(n),o=If(e,n,a,g,f,h),E=Cf(),e!==null&&!Ve?(Nf(e,n,h),ts(e,n,h)):(jt&&E&&lf(n),n.flags|=1,Je(e,n,o,h),n.child)}function gy(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!rf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,yy(e,n,f,o,h)):(e=qu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!td(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Yo,a(g,o)&&e.ref===n.ref)return ts(e,n,h)}return n.flags|=1,e=Yi(f,o),e.ref=n.ref,e.return=n,n.child=e}function yy(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Yo(f,o)&&e.ref===n.ref)if(Ve=!1,n.pendingProps=o=f,td(e,h))(e.flags&131072)!==0&&(Ve=!0);else return n.lanes=e.lanes,ts(e,n,h)}return Kf(e,n,a,o,h)}function _y(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return vy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Qu(n,f!==null?f.cachePool:null),f!==null?Tg(n,f):Sf(),Ag(n);else return o=n.lanes=536870912,vy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Qu(n,f.cachePool),Tg(n,f),Bs(),n.memoizedState=null):(e!==null&&Qu(n,null),Sf(),Bs());return Je(e,n,h,a),n.child}function ul(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function vy(e,n,a,o,h){var f=yf();return f=f===null?null:{parent:De._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Qu(n,null),Sf(),Ag(n),e!==null&&Ma(e,n,o,!0),n.childLanes=h,null}function lc(e,n){return n=cc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Ey(e,n,a){return Gr(n,e.child,null,a),e=lc(n,n.pendingProps),e.flags|=2,Cn(n),n.memoizedState=null,e}function QA(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(jt){if(o.mode==="hidden")return e=lc(n,o),n.lanes=536870912,ul(null,e);if(wf(n),(e=oe)?(e=V_(e,Fn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Vs!==null?{id:Oi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=ig(e),a.return=n,n.child=a,Ye=n,oe=null)):e=null,e===null)throw xs(n);return n.lanes=536870912,null}return lc(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(wf(n),h)if(n.flags&256)n.flags&=-257,n=Ey(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ve||Ma(e,n,a,!1),h=(a&e.childLanes)!==0,Ve||h){if(o=se,o!==null&&(g=Do(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,kr(e,g),vn(o,e,g),Qf;vc(),n=Ey(e,n,a)}else e=f.treeContext,oe=Qn(g.nextSibling),Ye=n,jt=!0,Ms=null,Fn=!1,e!==null&&ag(n,e),n=lc(n,o),n.flags|=4096;return n}return e=Yi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function uc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Kf(e,n,a,o,h){return jr(n),a=If(e,n,a,o,void 0,h),o=Cf(),e!==null&&!Ve?(Nf(e,n,h),ts(e,n,h)):(jt&&o&&lf(n),n.flags|=1,Je(e,n,a,h),n.child)}function Ty(e,n,a,o,h,f){return jr(n),n.updateQueue=null,a=bg(n,o,a,h),Sg(e),o=Cf(),e!==null&&!Ve?(Nf(e,n,f),ts(e,n,f)):(jt&&o&&lf(n),n.flags|=1,Je(e,n,a,f),n.child)}function Ay(e,n,a,o,h){if(jr(n),n.stateNode===null){var f=Na,g=a.contextType;typeof g=="object"&&g!==null&&(f=Xe(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ff,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},vf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?Xe(g):Na,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Hf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Ff.enqueueReplaceState(f,f.state,null),sl(n,o,f,h),il(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Kr(a,E);f.props=R;var P=f.context,H=a.contextType;g=Na,typeof H=="object"&&H!==null&&(g=Xe(H));var Y=a.getDerivedStateFromProps;H=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&ly(n,f,o,g),Us=!1;var z=n.memoizedState;f.state=z,sl(n,o,f,h),il(),P=n.memoizedState,E||z!==P||Us?(typeof Y=="function"&&(Hf(n,a,Y,o),P=n.memoizedState),(R=Us||oy(n,a,R,o,z,P,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Ef(e,n),g=n.memoizedProps,H=Kr(a,g),f.props=H,Y=n.pendingProps,z=f.context,P=a.contextType,R=Na,typeof P=="object"&&P!==null&&(R=Xe(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||z!==R)&&ly(n,f,o,R),Us=!1,z=n.memoizedState,f.state=z,sl(n,o,f,h),il();var j=n.memoizedState;g!==Y||z!==j||Us||e!==null&&e.dependencies!==null&&Fu(e.dependencies)?(typeof E=="function"&&(Hf(n,a,E,o),j=n.memoizedState),(H=Us||oy(n,a,H,o,z,j,R)||e!==null&&e.dependencies!==null&&Fu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=R,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,uc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Gr(n,e.child,null,h),n.child=Gr(n,null,a,h)):Je(e,n,a,h),n.memoizedState=f.state,e=n.child):e=ts(e,n,h),e}function Sy(e,n,a,o){return zr(),n.flags|=256,Je(e,n,a,o),n.child}var Yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xf(e){return{baseLanes:e,cachePool:fg()}}function Jf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Dn),e}function by(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Se.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(h?zs(n):Bs(),(e=oe)?(e=V_(e,Fn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Vs!==null?{id:Oi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=ig(e),a.return=n,n.child=a,Ye=n,oe=null)):e=null,e===null)throw xs(n);return Vd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Bs(),h=n.mode,E=cc({mode:"hidden",children:E},h),o=Pr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Xf(a),o.childLanes=Jf(e,g,a),n.memoizedState=Yf,ul(null,o)):(zs(n),Zf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(zs(n),n.flags&=-257,n=$f(e,n,a)):n.memoizedState!==null?(Bs(),n.child=e.child,n.flags|=128,n=null):(Bs(),E=o.fallback,h=n.mode,o=cc({mode:"visible",children:o.children},h),E=Pr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Gr(n,e.child,null,a),o=n.child,o.memoizedState=Xf(a),o.childLanes=Jf(e,g,a),n.memoizedState=Yf,n=ul(null,o));else if(zs(n),Vd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(r(419)),o.stack="",o.digest=g,Zo({value:o,source:null,stack:null}),n=$f(e,n,a)}else if(Ve||Ma(e,n,a,!1),g=(a&e.childLanes)!==0,Ve||g){if(g=se,g!==null&&(o=Do(g,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,kr(e,o),vn(g,e,o),Qf;Od(E)||vc(),n=$f(e,n,a)}else Od(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,oe=Qn(E.nextSibling),Ye=n,jt=!0,Ms=null,Fn=!1,e!==null&&ag(n,e),n=Zf(n,o.children),n.flags|=4096);return n}return h?(Bs(),E=o.fallback,h=n.mode,R=e.child,P=R.sibling,o=Yi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=Yi(P,E):(E=Pr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,ul(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Xf(a):(h=E.cachePool,h!==null?(R=De._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=fg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Jf(e,g,a),n.memoizedState=Yf,ul(e.child,o)):(zs(n),a=e.child,e=a.sibling,a=Yi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=a,n.memoizedState=null,a)}function Zf(e,n){return n=cc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function cc(e,n){return e=Rn(22,e,null,n),e.lanes=0,e}function $f(e,n,a){return Gr(n,e.child,null,a),e=Zf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function wy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),df(e.return,n,a)}function Wf(e,n,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function Ry(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Se.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,it(Se,g),Je(e,n,o,a),o=jt?Jo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wy(e,a,n);else if(e.tag===19)wy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&$u(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Wf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&$u(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Wf(n,!0,a,null,f,o);break;case"together":Wf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ts(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Hs|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Ma(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=Yi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Yi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function td(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Fu(e)))}function KA(e,n,a){switch(n.tag){case 3:Ee(n,n.stateNode.containerInfo),Ls(n,De,e.memoizedState.cache),zr();break;case 27:case 5:Zn(n);break;case 4:Ee(n,n.stateNode.containerInfo);break;case 10:Ls(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,wf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(zs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?by(e,n,a):(zs(n),e=ts(e,n,a),e!==null?e.sibling:null);zs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Ma(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Ry(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Se,Se.current),o)break;return null;case 22:return n.lanes=0,_y(e,n,a,n.pendingProps);case 24:Ls(n,De,e.memoizedState.cache)}return ts(e,n,a)}function Iy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ve=!0;else{if(!td(e,a)&&(n.flags&128)===0)return Ve=!1,KA(e,n,a);Ve=(e.flags&131072)!==0}else Ve=!1,jt&&(n.flags&1048576)!==0&&rg(n,Jo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Hr(n.elementType),n.type=e,typeof e=="function")rf(e)?(o=Kr(e,o),n.tag=1,n=Ay(null,n,e,o,a)):(n.tag=0,n=Kf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===vt){n.tag=11,n=py(null,n,e,o,a);break t}else if(h===C){n.tag=14,n=gy(null,n,e,o,a);break t}}throw n=Wt(e)||e,Error(r(306,n,""))}}return n;case 0:return Kf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Kr(o,n.pendingProps),Ay(e,n,o,h,a);case 3:t:{if(Ee(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Ef(e,n),sl(n,o,null,a);var g=n.memoizedState;if(o=g.cache,Ls(n,De,o),o!==f.cache&&mf(n,[De],a,!0),il(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Sy(e,n,o,a);break t}else if(o!==h){h=jn(Error(r(424)),n),Zo(h),n=Sy(e,n,o,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,oe=Qn(e.firstChild),Ye=n,jt=!0,Ms=null,Fn=!0,a=_g(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(zr(),o===h){n=ts(e,n,a);break t}Je(e,n,o,a)}n=n.child}return n;case 26:return uc(e,n),e===null?(a=P_(n.type,null,n.pendingProps,null))?n.memoizedState=a:jt||(a=n.type,e=n.pendingProps,o=Rc(Et.current).createElement(a),o[Ie]=n,o[je]=e,Ze(o,a,e),Ce(o),n.stateNode=o):n.memoizedState=P_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Zn(n),e===null&&jt&&(o=n.stateNode=L_(n.type,n.pendingProps,Et.current),Ye=n,Fn=!0,h=oe,Ys(n.type)?(Md=h,oe=Qn(o.firstChild)):oe=h),Je(e,n,n.pendingProps.children,a),uc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&jt&&((h=o=oe)&&(o=SS(o,n.type,n.pendingProps,Fn),o!==null?(n.stateNode=o,Ye=n,oe=Qn(o.firstChild),Fn=!1,h=!0):h=!1),h||xs(n)),Zn(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Cd(h,f)?o=null:g!==null&&Cd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=If(e,n,PA,null,null,a),bl._currentValue=h),uc(e,n),Je(e,n,o,a),n.child;case 6:return e===null&&jt&&((e=a=oe)&&(a=bS(a,n.pendingProps,Fn),a!==null?(n.stateNode=a,Ye=n,oe=null,e=!0):e=!1),e||xs(n)),null;case 13:return by(e,n,a);case 4:return Ee(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Gr(n,null,o,a):Je(e,n,o,a),n.child;case 11:return py(e,n,n.type,n.pendingProps,a);case 7:return Je(e,n,n.pendingProps,a),n.child;case 8:return Je(e,n,n.pendingProps.children,a),n.child;case 12:return Je(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ls(n,n.type,o.value),Je(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,jr(n),h=Xe(h),o=o(h),n.flags|=1,Je(e,n,o,a),n.child;case 14:return gy(e,n,n.type,n.pendingProps,a);case 15:return yy(e,n,n.type,n.pendingProps,a);case 19:return Ry(e,n,a);case 31:return QA(e,n,a);case 22:return _y(e,n,a,n.pendingProps);case 24:return jr(n),o=Xe(De),e===null?(h=yf(),h===null&&(h=se,f=pf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},vf(n),Ls(n,De,h)):((e.lanes&a)!==0&&(Ef(e,n),sl(n,null,null,a),il()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ls(n,De,o)):(o=f.cache,Ls(n,De,o),o!==h.cache&&mf(n,[De],a,!0))),Je(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function es(e){e.flags|=4}function ed(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(t_())e.flags|=8192;else throw Fr=Yu,_f}else e.flags&=-16777217}function Cy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!H_(n))if(t_())e.flags|=8192;else throw Fr=Yu,_f}function hc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?yu():536870912,e.lanes|=n,Ga|=n)}function cl(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function le(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function YA(e,n,a){var o=n.pendingProps;switch(uf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(n),null;case 1:return le(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Zi(De),Xt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Va(n)?es(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hf())),le(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(es(n),f!==null?(le(n),Cy(n,f)):(le(n),ed(n,h,null,o,a))):f?f!==e.memoizedState?(es(n),le(n),Cy(n,f)):(le(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&es(n),le(n),ed(n,h,e,o,a)),null;case 27:if(Mn(n),a=Et.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&es(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return le(n),null}e=rt.current,Va(n)?og(n):(e=L_(h,o,a),n.stateNode=e,es(n))}return le(n),null;case 5:if(Mn(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&es(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return le(n),null}if(f=rt.current,Va(n))og(n);else{var g=Rc(Et.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ie]=n,f[je]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ze(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&es(n)}}return le(n),ed(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&es(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=Et.current,Va(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Ye,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ie]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||b_(e.nodeValue,a)),e||xs(n,!0)}else e=Rc(e).createTextNode(o),e[Ie]=n,n.stateNode=e}return le(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Va(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ie]=n}else zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),e=!1}else a=hf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Cn(n),n):(Cn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return le(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Va(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ie]=n}else zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),h=!1}else h=hf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Cn(n),n):(Cn(n),null)}return Cn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),hc(n,n.updateQueue),le(n),null);case 4:return Xt(),e===null&&Sd(n.stateNode.containerInfo),le(n),null;case 10:return Zi(n.type),le(n),null;case 19:if(K(Se),o=n.memoizedState,o===null)return le(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)cl(o,!1);else{if(_e!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=$u(e),f!==null){for(n.flags|=128,cl(o,!1),e=f.updateQueue,n.updateQueue=e,hc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)ng(a,e),a=a.sibling;return it(Se,Se.current&1|2),jt&&Xi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&ln()>gc&&(n.flags|=128,h=!0,cl(o,!1),n.lanes=4194304)}else{if(!h)if(e=$u(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,hc(n,e),cl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!jt)return le(n),null}else 2*ln()-o.renderingStartTime>gc&&a!==536870912&&(n.flags|=128,h=!0,cl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ln(),e.sibling=null,a=Se.current,it(Se,h?a&1|2:a&1),jt&&Xi(n,o.treeForkCount),e):(le(n),null);case 22:case 23:return Cn(n),bf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(le(n),n.subtreeFlags&6&&(n.flags|=8192)):le(n),a=n.updateQueue,a!==null&&hc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&K(qr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Zi(De),le(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function XA(e,n){switch(uf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Zi(De),Xt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Mn(n),null;case 31:if(n.memoizedState!==null){if(Cn(n),n.alternate===null)throw Error(r(340));zr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Cn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));zr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(Se),null;case 4:return Xt(),null;case 10:return Zi(n.type),null;case 22:case 23:return Cn(n),bf(),e!==null&&K(qr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Zi(De),null;case 25:return null;default:return null}}function Ny(e,n){switch(uf(n),n.tag){case 3:Zi(De),Xt();break;case 26:case 27:case 5:Mn(n);break;case 4:Xt();break;case 31:n.memoizedState!==null&&Cn(n);break;case 13:Cn(n);break;case 19:K(Se);break;case 10:Zi(n.type);break;case 22:case 23:Cn(n),bf(),e!==null&&K(qr);break;case 24:Zi(De)}}function hl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){$t(n,n.return,E)}}function js(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=a,P=E;try{P()}catch(H){$t(h,R,H)}}}o=o.next}while(o!==f)}}catch(H){$t(n,n.return,H)}}function Dy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Eg(n,a)}catch(o){$t(e,e.return,o)}}}function Oy(e,n,a){a.props=Kr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){$t(e,n,o)}}function fl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){$t(e,n,h)}}function Mi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,n,h)}else a.current=null}function Vy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function nd(e,n,a){try{var o=e.stateNode;yS(o,e.type,a,n),o[je]=n}catch(h){$t(e,e.return,h)}}function My(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ys(e.type)||e.tag===4}function id(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||My(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ys(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sd(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ni));else if(o!==4&&(o===27&&Ys(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(sd(e,n,a),e=e.sibling;e!==null;)sd(e,n,a),e=e.sibling}function fc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Ys(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(fc(e,n,a),e=e.sibling;e!==null;)fc(e,n,a),e=e.sibling}function xy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ze(n,o,a),n[Ie]=e,n[je]=a}catch(f){$t(e,e.return,f)}}var ns=!1,Me=!1,rd=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,He=null;function JA(e,n){if(e=e.containerInfo,Rd=Mc,e=Kp(e),Zh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,R=-1,P=0,H=0,Y=e,z=null;e:for(;;){for(var j;Y!==a||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(R=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(j=Y.firstChild)!==null;)z=Y,Y=j;for(;;){if(Y===e)break e;if(z===a&&++P===h&&(E=g),z===f&&++H===o&&(R=g),(j=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=j}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Id={focusedElem:e,selectionRange:a},Mc=!1,He=n;He!==null;)if(n=He,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,He=e;else for(;He!==null;){switch(n=He,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ot=Kr(a.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){$t(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Dd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,He=e;break}He=n.return}}function Uy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ss(e,a),o&4&&hl(5,a);break;case 1:if(ss(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(g){$t(a,a.return,g)}else{var h=Kr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){$t(a,a.return,g)}}o&64&&Dy(a),o&512&&fl(a,a.return);break;case 3:if(ss(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Eg(e,n)}catch(g){$t(a,a.return,g)}}break;case 27:n===null&&o&4&&xy(a);case 26:case 5:ss(e,a),n===null&&o&4&&Vy(a),o&512&&fl(a,a.return);break;case 12:ss(e,a);break;case 31:ss(e,a),o&4&&zy(e,a);break;case 13:ss(e,a),o&4&&By(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=rS.bind(null,a),wS(e,a))));break;case 22:if(o=a.memoizedState!==null||ns,!o){n=n!==null&&n.memoizedState!==null||Me,h=ns;var f=Me;ns=o,(Me=n)&&!f?rs(e,a,(a.subtreeFlags&8772)!==0):ss(e,a),ns=h,Me=f}break;case 30:break;default:ss(e,a)}}function ky(e){var n=e.alternate;n!==null&&(e.alternate=null,ky(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&pa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var fe=null,pn=!1;function is(e,n,a){for(a=a.child;a!==null;)Py(e,n,a),a=a.sibling}function Py(e,n,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount($n,a)}catch{}switch(a.tag){case 26:Me||Mi(a,n),is(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Me||Mi(a,n);var o=fe,h=pn;Ys(a.type)&&(fe=a.stateNode,pn=!1),is(e,n,a),Tl(a.stateNode),fe=o,pn=h;break;case 5:Me||Mi(a,n);case 6:if(o=fe,h=pn,fe=null,is(e,n,a),fe=o,pn=h,fe!==null)if(pn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(a.stateNode)}catch(f){$t(a,n,f)}else try{fe.removeChild(a.stateNode)}catch(f){$t(a,n,f)}break;case 18:fe!==null&&(pn?(e=fe,D_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Wa(e)):D_(fe,a.stateNode));break;case 4:o=fe,h=pn,fe=a.stateNode.containerInfo,pn=!0,is(e,n,a),fe=o,pn=h;break;case 0:case 11:case 14:case 15:js(2,a,n),Me||js(4,a,n),is(e,n,a);break;case 1:Me||(Mi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Oy(a,n,o)),is(e,n,a);break;case 21:is(e,n,a);break;case 22:Me=(o=Me)||a.memoizedState!==null,is(e,n,a),Me=o;break;default:is(e,n,a)}}function zy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Wa(e)}catch(a){$t(n,n.return,a)}}}function By(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Wa(e)}catch(a){$t(n,n.return,a)}}function ZA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ly),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ly),n;default:throw Error(r(435,e.tag))}}function dc(e,n){var a=ZA(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=aS.bind(null,e,o);o.then(h,h)}})}function gn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ys(E.type)){fe=E.stateNode,pn=!1;break t}break;case 5:fe=E.stateNode,pn=!1;break t;case 3:case 4:fe=E.stateNode.containerInfo,pn=!0;break t}E=E.return}if(fe===null)throw Error(r(160));Py(f,g,h),fe=null,pn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)jy(n,e),n=n.sibling}var li=null;function jy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(n,e),yn(e),o&4&&(js(3,e,e.return),hl(3,e),js(5,e,e.return));break;case 1:gn(n,e),yn(e),o&512&&(Me||a===null||Mi(a,a.return)),o&64&&ns&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=li;if(gn(n,e),yn(e),o&512&&(Me||a===null||Mi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[vi]||f[Ie]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ze(f,o,a),f[Ie]=e,Ce(f),o=f;break t;case"link":var g=j_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Ze(f,o,a),h.head.appendChild(f);break;case"meta":if(g=j_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Ze(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Ie]=e,Ce(f),o=f}e.stateNode=o}else q_(h,e.type,e.stateNode);else e.stateNode=B_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?q_(h,e.type,e.stateNode):B_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&nd(e,e.memoizedProps,a.memoizedProps)}break;case 27:gn(n,e),yn(e),o&512&&(Me||a===null||Mi(a,a.return)),a!==null&&o&4&&nd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(gn(n,e),yn(e),o&512&&(Me||a===null||Mi(a,a.return)),e.flags&32){h=e.stateNode;try{mn(h,"")}catch(ot){$t(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,nd(e,h,a!==null?a.memoizedProps:h)),o&1024&&(rd=!0);break;case 6:if(gn(n,e),yn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ot){$t(e,e.return,ot)}}break;case 3:if(Nc=null,h=li,li=Ic(n.containerInfo),gn(n,e),li=h,yn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Wa(n.containerInfo)}catch(ot){$t(e,e.return,ot)}rd&&(rd=!1,qy(e));break;case 4:o=li,li=Ic(e.stateNode.containerInfo),gn(n,e),yn(e),li=o;break;case 12:gn(n,e),yn(e);break;case 31:gn(n,e),yn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,dc(e,o)));break;case 13:gn(n,e),yn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pc=ln()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,dc(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,P=ns,H=Me;if(ns=P||h,Me=H||R,gn(n,e),Me=H,ns=P,yn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||ns||Me||Yr(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ot){$t(R,R.return,ot)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ot){$t(R,R.return,ot)}}}else if(n.tag===18){if(a===null){R=n;try{var j=R.stateNode;h?O_(j,!0):O_(R.stateNode,!1)}catch(ot){$t(R,R.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,dc(e,a))));break;case 19:gn(n,e),yn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,dc(e,o)));break;case 30:break;case 21:break;default:gn(n,e),yn(e)}}function yn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(My(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=id(e);fc(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(mn(g,""),a.flags&=-33);var E=id(e);fc(e,E,g);break;case 3:case 4:var R=a.stateNode.containerInfo,P=id(e);sd(e,P,R);break;default:throw Error(r(161))}}catch(H){$t(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function qy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;qy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ss(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Uy(e,n.alternate,n),n=n.sibling}function Yr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:js(4,n,n.return),Yr(n);break;case 1:Mi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Oy(n,n.return,a),Yr(n);break;case 27:Tl(n.stateNode);case 26:case 5:Mi(n,n.return),Yr(n);break;case 22:n.memoizedState===null&&Yr(n);break;case 30:Yr(n);break;default:Yr(n)}e=e.sibling}}function rs(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:rs(h,f,a),hl(4,f);break;case 1:if(rs(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){$t(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)vg(R[h],E)}catch(P){$t(o,o.return,P)}}a&&g&64&&Dy(f),fl(f,f.return);break;case 27:xy(f);case 26:case 5:rs(h,f,a),a&&o===null&&g&4&&Vy(f),fl(f,f.return);break;case 12:rs(h,f,a);break;case 31:rs(h,f,a),a&&g&4&&zy(h,f);break;case 13:rs(h,f,a),a&&g&4&&By(h,f);break;case 22:f.memoizedState===null&&rs(h,f,a),fl(f,f.return);break;case 30:break;default:rs(h,f,a)}n=n.sibling}}function ad(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&$o(a))}function od(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&$o(e))}function ui(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Hy(e,n,a,o),n=n.sibling}function Hy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ui(e,n,a,o),h&2048&&hl(9,n);break;case 1:ui(e,n,a,o);break;case 3:ui(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&$o(e)));break;case 12:if(h&2048){ui(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){$t(n,n.return,R)}}else ui(e,n,a,o);break;case 31:ui(e,n,a,o);break;case 13:ui(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ui(e,n,a,o):dl(e,n):f._visibility&2?ui(e,n,a,o):(f._visibility|=2,qa(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ad(g,n);break;case 24:ui(e,n,a,o),h&2048&&od(n.alternate,n);break;default:ui(e,n,a,o)}}function qa(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=a,R=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:qa(f,g,E,R,h),hl(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?qa(f,g,E,R,h):dl(f,g):(H._visibility|=2,qa(f,g,E,R,h)),h&&P&2048&&ad(g.alternate,g);break;case 24:qa(f,g,E,R,h),h&&P&2048&&od(g.alternate,g);break;default:qa(f,g,E,R,h)}n=n.sibling}}function dl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:dl(a,o),h&2048&&ad(o.alternate,o);break;case 24:dl(a,o),h&2048&&od(o.alternate,o);break;default:dl(a,o)}n=n.sibling}}var ml=8192;function Ha(e,n,a){if(e.subtreeFlags&ml)for(e=e.child;e!==null;)Fy(e,n,a),e=e.sibling}function Fy(e,n,a){switch(e.tag){case 26:Ha(e,n,a),e.flags&ml&&e.memoizedState!==null&&kS(a,li,e.memoizedState,e.memoizedProps);break;case 5:Ha(e,n,a);break;case 3:case 4:var o=li;li=Ic(e.stateNode.containerInfo),Ha(e,n,a),li=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ml,ml=16777216,Ha(e,n,a),ml=o):Ha(e,n,a));break;default:Ha(e,n,a)}}function Gy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function pl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];He=o,Ky(o,e)}Gy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qy(e),e=e.sibling}function Qy(e){switch(e.tag){case 0:case 11:case 15:pl(e),e.flags&2048&&js(9,e,e.return);break;case 3:pl(e);break;case 12:pl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,mc(e)):pl(e);break;default:pl(e)}}function mc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];He=o,Ky(o,e)}Gy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:js(8,n,n.return),mc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,mc(n));break;default:mc(n)}e=e.sibling}}function Ky(e,n){for(;He!==null;){var a=He;switch(a.tag){case 0:case 11:case 15:js(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:$o(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,He=o;else t:for(a=e;He!==null;){o=He;var h=o.sibling,f=o.return;if(ky(o),o===a){He=null;break t}if(h!==null){h.return=f,He=h;break t}He=f}}}var $A={getCacheForType:function(e){var n=Xe(De),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Xe(De).controller.signal}},WA=typeof WeakMap=="function"?WeakMap:Map,Kt=0,se=null,Ot=null,Ut=0,Zt=0,Nn=null,qs=!1,Fa=!1,ld=!1,as=0,_e=0,Hs=0,Xr=0,ud=0,Dn=0,Ga=0,gl=null,_n=null,cd=!1,pc=0,Yy=0,gc=1/0,yc=null,Fs=null,ze=0,Gs=null,Qa=null,os=0,hd=0,fd=null,Xy=null,yl=0,dd=null;function On(){return(Kt&2)!==0&&Ut!==0?Ut&-Ut:q.T!==null?vd():_u()}function Jy(){if(Dn===0)if((Ut&536870912)===0||jt){var e=Ar;Ar<<=1,(Ar&3932160)===0&&(Ar=262144),Dn=e}else Dn=536870912;return e=In.current,e!==null&&(e.flags|=32),Dn}function vn(e,n,a){(e===se&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(Ka(e,0),Qs(e,Ut,Dn,!1)),Sr(e,a),((Kt&2)===0||e!==se)&&(e===se&&((Kt&2)===0&&(Xr|=a),_e===4&&Qs(e,Ut,Dn,!1)),xi(e))}function Zy(e,n,a){if((Kt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Wn(e,n),h=o?nS(e,n):pd(e,n,!0),f=o;do{if(h===0){Fa&&!o&&Qs(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!tS(a)){h=pd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=gl;var R=E.current.memoizedState.isDehydrated;if(R&&(Ka(E,g).flags|=256),g=pd(E,g,!1),g!==2){if(ld&&!R){E.errorRecoveryDisabledLanes|=f,Xr|=f,h=4;break t}f=_n,_n=h,f!==null&&(_n===null?_n=f:_n.push.apply(_n,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ka(e,0),Qs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Qs(o,n,Dn,!qs);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=pc+300-ln(),10<h)){if(Qs(o,n,Dn,!qs),gi(o,0,!0)!==0)break t;os=n,o.timeoutHandle=C_($y.bind(null,o,a,_n,yc,cd,n,Dn,Xr,Ga,qs,f,"Throttled",-0,0),h);break t}$y(o,a,_n,yc,cd,n,Dn,Xr,Ga,qs,f,null,-0,0)}}break}while(!0);xi(e)}function $y(e,n,a,o,h,f,g,E,R,P,H,Y,z,j){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ni},Fy(n,f,Y);var ot=(f&62914560)===f?pc-ln():(f&4194048)===f?Yy-ln():0;if(ot=PS(Y,ot),ot!==null){os=f,e.cancelPendingCommit=ot(a_.bind(null,e,n,f,a,o,h,g,E,R,H,Y,null,z,j)),Qs(e,f,g,!P);return}}a_(e,n,f,a,o,h,g,E,R)}function tS(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!wn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qs(e,n,a,o){n&=~ud,n&=~Xr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Te(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&br(e,a,n)}function _c(){return(Kt&6)===0?(_l(0),!1):!0}function md(){if(Ot!==null){if(Zt===0)var e=Ot.return;else e=Ot,Ji=Br=null,Df(e),ka=null,tl=0,e=Ot;for(;e!==null;)Ny(e.alternate,e),e=e.return;Ot=null}}function Ka(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,ES(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),os=0,md(),se=e,Ot=a=Yi(e.current,null),Ut=n,Zt=0,Nn=null,qs=!1,Fa=Wn(e,n),ld=!1,Ga=Dn=ud=Xr=Hs=_e=0,_n=gl=null,cd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Te(o),f=1<<h;n|=e[h],o&=~f}return as=n,zu(),a}function Wy(e,n){It=null,q.H=ll,n===Ua||n===Ku?(n=pg(),Zt=3):n===_f?(n=pg(),Zt=4):Zt=n===Qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nn=n,Ot===null&&(_e=1,oc(e,jn(n,e.current)))}function t_(){var e=In.current;return e===null?!0:(Ut&4194048)===Ut?Gn===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?e===Gn:!1}function e_(){var e=q.H;return q.H=ll,e===null?ll:e}function n_(){var e=q.A;return q.A=$A,e}function vc(){_e=4,qs||(Ut&4194048)!==Ut&&In.current!==null||(Fa=!0),(Hs&134217727)===0&&(Xr&134217727)===0||se===null||Qs(se,Ut,Dn,!1)}function pd(e,n,a){var o=Kt;Kt|=2;var h=e_(),f=n_();(se!==e||Ut!==n)&&(yc=null,Ka(e,n)),n=!1;var g=_e;t:do try{if(Zt!==0&&Ot!==null){var E=Ot,R=Nn;switch(Zt){case 8:md(),g=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(n=!0);var P=Zt;if(Zt=0,Nn=null,Ya(e,E,R,P),a&&Fa){g=0;break t}break;default:P=Zt,Zt=0,Nn=null,Ya(e,E,R,P)}}eS(),g=_e;break}catch(H){Wy(e,H)}while(!0);return n&&e.shellSuspendCounter++,Ji=Br=null,Kt=o,q.H=h,q.A=f,Ot===null&&(se=null,Ut=0,zu()),g}function eS(){for(;Ot!==null;)i_(Ot)}function nS(e,n){var a=Kt;Kt|=2;var o=e_(),h=n_();se!==e||Ut!==n?(yc=null,gc=ln()+500,Ka(e,n)):Fa=Wn(e,n);t:do try{if(Zt!==0&&Ot!==null){n=Ot;var f=Nn;e:switch(Zt){case 1:Zt=0,Nn=null,Ya(e,n,f,1);break;case 2:case 9:if(dg(f)){Zt=0,Nn=null,s_(n);break}n=function(){Zt!==2&&Zt!==9||se!==e||(Zt=7),xi(e)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:dg(f)?(Zt=0,Nn=null,s_(n)):(Zt=0,Nn=null,Ya(e,n,f,7));break;case 5:var g=null;switch(Ot.tag){case 26:g=Ot.memoizedState;case 5:case 27:var E=Ot;if(g?H_(g):E.stateNode.complete){Zt=0,Nn=null;var R=E.sibling;if(R!==null)Ot=R;else{var P=E.return;P!==null?(Ot=P,Ec(P)):Ot=null}break e}}Zt=0,Nn=null,Ya(e,n,f,5);break;case 6:Zt=0,Nn=null,Ya(e,n,f,6);break;case 8:md(),_e=6;break t;default:throw Error(r(462))}}iS();break}catch(H){Wy(e,H)}while(!0);return Ji=Br=null,q.H=o,q.A=h,Kt=a,Ot!==null?0:(se=null,Ut=0,zu(),_e)}function iS(){for(;Ot!==null&&!Ge();)i_(Ot)}function i_(e){var n=Iy(e.alternate,e,as);e.memoizedProps=e.pendingProps,n===null?Ec(e):Ot=n}function s_(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Ty(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Ty(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Df(n);default:Ny(a,n),n=Ot=ng(n,as),n=Iy(a,n,as)}e.memoizedProps=e.pendingProps,n===null?Ec(e):Ot=n}function Ya(e,n,a,o){Ji=Br=null,Df(n),ka=null,tl=0;var h=n.return;try{if(GA(e,h,n,a,Ut)){_e=1,oc(e,jn(a,e.current)),Ot=null;return}}catch(f){if(h!==null)throw Ot=h,f;_e=1,oc(e,jn(a,e.current)),Ot=null;return}n.flags&32768?(jt||o===1?e=!0:Fa||(Ut&536870912)!==0?e=!1:(qs=e=!0,(o===2||o===9||o===3||o===6)&&(o=In.current,o!==null&&o.tag===13&&(o.flags|=16384))),r_(n,e)):Ec(n)}function Ec(e){var n=e;do{if((n.flags&32768)!==0){r_(n,qs);return}e=n.return;var a=YA(n.alternate,n,as);if(a!==null){Ot=a;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=e}while(n!==null);_e===0&&(_e=5)}function r_(e,n){do{var a=XA(e.alternate,e);if(a!==null){a.flags&=32767,Ot=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=a}while(e!==null);_e=6,Ot=null}function a_(e,n,a,o,h,f,g,E,R){e.cancelPendingCommit=null;do Tc();while(ze!==0);if((Kt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=nf,Kh(e,a,f,g,E,R),e===se&&(Ot=se=null,Ut=0),Qa=n,Gs=e,os=a,hd=f,fd=h,Xy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,oS(As,function(){return h_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=nt.p,nt.p=2,g=Kt,Kt|=4;try{JA(e,n,a)}finally{Kt=g,nt.p=h,q.T=o}}ze=1,o_(),l_(),u_()}}function o_(){if(ze===1){ze=0;var e=Gs,n=Qa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var o=nt.p;nt.p=2;var h=Kt;Kt|=4;try{jy(n,e);var f=Id,g=Kp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Qp(E.ownerDocument.documentElement,E)){if(R!==null&&Zh(E)){var P=R.start,H=R.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var j=z.getSelection(),ot=E.textContent.length,pt=Math.min(R.start,ot),ie=R.end===void 0?pt:Math.min(R.end,ot);!j.extend&&pt>ie&&(g=ie,ie=pt,pt=g);var x=Gp(E,pt),O=Gp(E,ie);if(x&&O&&(j.rangeCount!==1||j.anchorNode!==x.node||j.anchorOffset!==x.offset||j.focusNode!==O.node||j.focusOffset!==O.offset)){var k=Y.createRange();k.setStart(x.node,x.offset),j.removeAllRanges(),pt>ie?(j.addRange(k),j.extend(O.node,O.offset)):(k.setEnd(O.node,O.offset),j.addRange(k))}}}}for(Y=[],j=E;j=j.parentNode;)j.nodeType===1&&Y.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Mc=!!Rd,Id=Rd=null}finally{Kt=h,nt.p=o,q.T=a}}e.current=n,ze=2}}function l_(){if(ze===2){ze=0;var e=Gs,n=Qa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var o=nt.p;nt.p=2;var h=Kt;Kt|=4;try{Uy(e,n.alternate,n)}finally{Kt=h,nt.p=o,q.T=a}}ze=3}}function u_(){if(ze===4||ze===3){ze=0,Ts();var e=Gs,n=Qa,a=os,o=Xy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,Qa=Gs=null,c_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Fs=null),Fi(a),n=n.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot($n,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=nt.p,nt.p=2,q.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{q.T=n,nt.p=h}}(os&3)!==0&&Tc(),xi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===dd?yl++:(yl=0,dd=e):yl=0,_l(0)}}function c_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,$o(n)))}function Tc(){return o_(),l_(),u_(),h_()}function h_(){if(ze!==5)return!1;var e=Gs,n=hd;hd=0;var a=Fi(os),o=q.T,h=nt.p;try{nt.p=32>a?32:a,q.T=null,a=fd,fd=null;var f=Gs,g=os;if(ze=0,Qa=Gs=null,os=0,(Kt&6)!==0)throw Error(r(331));var E=Kt;if(Kt|=4,Qy(f.current),Hy(f,f.current,g,a),Kt=E,_l(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot($n,f)}catch{}return!0}finally{nt.p=h,q.T=o,c_(e,n)}}function f_(e,n,a){n=jn(a,n),n=Gf(e.stateNode,n,2),e=Ps(e,n,2),e!==null&&(Sr(e,2),xi(e))}function $t(e,n,a){if(e.tag===3)f_(e,e,a);else for(;n!==null;){if(n.tag===3){f_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fs===null||!Fs.has(o))){e=jn(a,e),a=dy(2),o=Ps(n,a,2),o!==null&&(my(a,o,n,e),Sr(o,2),xi(o));break}}n=n.return}}function gd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new WA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(ld=!0,h.add(a),e=sS.bind(null,e,n,a),n.then(e,e))}function sS(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,se===e&&(Ut&a)===a&&(_e===4||_e===3&&(Ut&62914560)===Ut&&300>ln()-pc?(Kt&2)===0&&Ka(e,0):ud|=a,Ga===Ut&&(Ga=0)),xi(e)}function d_(e,n){n===0&&(n=yu()),e=kr(e,n),e!==null&&(Sr(e,n),xi(e))}function rS(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),d_(e,a)}function aS(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),d_(e,a)}function oS(e,n){return X(e,n)}var Ac=null,Xa=null,yd=!1,Sc=!1,_d=!1,Ks=0;function xi(e){e!==Xa&&e.next===null&&(Xa===null?Ac=Xa=e:Xa=Xa.next=e),Sc=!0,yd||(yd=!0,uS())}function _l(e,n){if(!_d&&Sc){_d=!0;do for(var a=!1,o=Ac;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Te(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,y_(o,f))}else f=Ut,f=gi(o,o===se?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Wn(o,f)||(a=!0,y_(o,f));o=o.next}while(a);_d=!1}}function lS(){m_()}function m_(){Sc=yd=!1;var e=0;Ks!==0&&vS()&&(e=Ks);for(var n=ln(),a=null,o=Ac;o!==null;){var h=o.next,f=p_(o,n);f===0?(o.next=null,a===null?Ac=h:a.next=h,h===null&&(Xa=a)):(a=o,(e!==0||(f&3)!==0)&&(Sc=!0)),o=h}ze!==0&&ze!==5||_l(e),Ks!==0&&(Ks=0)}function p_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Te(f),E=1<<g,R=h[g];R===-1?((E&a)===0||(E&o)!==0)&&(h[g]=Qh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=se,a=Ut,a=gi(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Tt(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Wn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Tt(o),Fi(a)){case 2:case 8:a=Co;break;case 32:a=As;break;case 268435456:a=fu;break;default:a=As}return o=g_.bind(null,e),a=X(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Tt(o),e.callbackPriority=2,e.callbackNode=null,2}function g_(e,n){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Tc()&&e.callbackNode!==a)return null;var o=Ut;return o=gi(e,e===se?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Zy(e,o,n),p_(e,ln()),e.callbackNode!=null&&e.callbackNode===a?g_.bind(null,e):null)}function y_(e,n){if(Tc())return null;Zy(e,n,!0)}function uS(){TS(function(){(Kt&6)!==0?X(Io,lS):m_()})}function vd(){if(Ks===0){var e=xa;e===0&&(e=mi,mi<<=1,(mi&261888)===0&&(mi=256)),Ks=e}return Ks}function __(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:va(""+e)}function v_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function cS(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=__((h[je]||null).action),g=o.submitter;g&&(n=(n=g[je]||null)?__(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ii("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ks!==0){var R=g?v_(h,g):new FormData(h);zf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?v_(h,g):new FormData(h),zf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Ed=0;Ed<ef.length;Ed++){var Td=ef[Ed],hS=Td.toLowerCase(),fS=Td[0].toUpperCase()+Td.slice(1);oi(hS,"on"+fS)}oi(Jp,"onAnimationEnd"),oi(Zp,"onAnimationIteration"),oi($p,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(CA,"onTransitionRun"),oi(NA,"onTransitionStart"),oi(DA,"onTransitionCancel"),oi(Wp,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function E_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(H){Pu(H)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(H){Pu(H)}h.currentTarget=null,f=R}}}}function Vt(e,n){var a=n[ma];a===void 0&&(a=n[ma]=new Set);var o=e+"__bubble";a.has(o)||(T_(n,e,2,!1),a.add(o))}function Ad(e,n,a){var o=0;n&&(o|=4),T_(a,e,o,n)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Sd(e){if(!e[bc]){e[bc]=!0,Oo.forEach(function(a){a!=="selectionchange"&&(dS.has(a)||Ad(a,!1,e),Ad(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[bc]||(n[bc]=!0,Ad("selectionchange",!1,n))}}function T_(e,n,a,o){switch(J_(n)){case 2:var h=jS;break;case 8:h=qS;break;default:h=Pd}a=h.bind(null,n,a,e),h=void 0,!Nr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function bd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=Ei(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Cs(function(){var P=f,H=kn(a),Y=[];t:{var z=tg.get(e);if(z!==void 0){var j=Ii,ot=e;switch(e){case"keypress":if(Or(a)===0)break t;case"keydown":case"keyup":j=Lu;break;case"focusin":ot="focus",j=Mr;break;case"focusout":ot="blur",j=Mr;break;case"beforeblur":case"afterblur":j=Mr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case Jp:case Zp:case $p:j=Cu;break;case Wp:j=A;break;case"scroll":case"scrollend":j=Ho;break;case"wheel":j=B;break;case"copy":case"cut":case"paste":j=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Ki;break;case"toggle":case"beforetoggle":j=Rt}var pt=(n&4)!==0,ie=!pt&&(e==="scroll"||e==="scrollend"),x=pt?z!==null?z+"Capture":null:z;pt=[];for(var O=P,k;O!==null;){var Q=O;if(k=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||k===null||x===null||(Q=ii(O,x),Q!=null&&pt.push(El(O,Q,k))),ie)break;O=O.return}0<pt.length&&(z=new j(z,ot,null,a,H),Y.push({event:z,listeners:pt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&a!==Bo&&(ot=a.relatedTarget||a.fromElement)&&(Ei(ot)||ot[_i]))break t;if((j||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,j?(ot=a.relatedTarget||a.toElement,j=P,ot=ot?Ei(ot):null,ot!==null&&(ie=c(ot),pt=ot.tag,ot!==ie||pt!==5&&pt!==27&&pt!==6)&&(ot=null)):(j=null,ot=P),j!==ot)){if(pt=Fo,Q="onMouseLeave",x="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Ki,Q="onPointerLeave",x="onPointerEnter",O="pointer"),ie=j==null?z:Sn(j),k=ot==null?z:Sn(ot),z=new pt(Q,O+"leave",j,a,H),z.target=ie,z.relatedTarget=k,Q=null,Ei(H)===P&&(pt=new pt(x,O+"enter",ot,a,H),pt.target=k,pt.relatedTarget=ie,Q=pt),ie=Q,j&&ot)e:{for(pt=mS,x=j,O=ot,k=0,Q=x;Q;Q=pt(Q))k++;Q=0;for(var ht=O;ht;ht=pt(ht))Q++;for(;0<k-Q;)x=pt(x),k--;for(;0<Q-k;)O=pt(O),Q--;for(;k--;){if(x===O||O!==null&&x===O.alternate){pt=x;break e}x=pt(x),O=pt(O)}pt=null}else pt=null;j!==null&&A_(Y,z,j,pt,!1),ot!==null&&ie!==null&&A_(Y,ie,ot,pt,!0)}}t:{if(z=P?Sn(P):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var Ft=zp;else if(kp(z))if(Bp)Ft=wA;else{Ft=SA;var lt=AA}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&_a(P.elementType)&&(Ft=zp):Ft=bA;if(Ft&&(Ft=Ft(e,P))){Pp(Y,Ft,a,H);break t}lt&&lt(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&ko(z,"number",z.value)}switch(lt=P?Sn(P):window,e){case"focusin":(kp(lt)||lt.contentEditable==="true")&&(Ra=lt,$h=P,Xo=null);break;case"focusout":Xo=$h=Ra=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,Yp(Y,a,H);break;case"selectionchange":if(IA)break;case"keydown":case"keyup":Yp(Y,a,H)}var Ct;if(Qt)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else wa?xr(e,a)&&(kt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(kt="onCompositionStart");kt&&(Di&&a.locale!=="ko"&&(wa||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&wa&&(Ct=qo()):(Ri=H,jo="value"in Ri?Ri.value:Ri.textContent,wa=!0)),lt=wc(P,kt),0<lt.length&&(kt=new Ni(kt,e,null,a,H),Y.push({event:kt,listeners:lt}),Ct?kt.data=Ct:(Ct=ba(a),Ct!==null&&(kt.data=Ct)))),(Ct=zn?_A(e,a):vA(e,a))&&(kt=wc(P,"onBeforeInput"),0<kt.length&&(lt=new Ni("onBeforeInput","beforeinput",null,a,H),Y.push({event:lt,listeners:kt}),lt.data=Ct)),cS(Y,e,P,a,H)}E_(Y,n)})}function El(e,n,a){return{instance:e,listener:n,currentTarget:a}}function wc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ii(e,a),h!=null&&o.unshift(El(e,h,f)),h=ii(e,n),h!=null&&o.push(El(e,h,f))),e.tag===3)return o;e=e.return}return[]}function mS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function A_(e,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=ii(a,f),P!=null&&g.unshift(El(a,P,R))):h||(P=ii(a,f),P!=null&&g.push(El(a,P,R)))),a=a.return}g.length!==0&&e.push({event:n,listeners:g})}var pS=/\r\n?/g,gS=/\u0000|\uFFFD/g;function S_(e){return(typeof e=="string"?e:""+e).replace(pS,`
`).replace(gS,"")}function b_(e,n){return n=S_(n),S_(e)===n}function ne(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||mn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&mn(e,""+o);break;case"className":bn(e,"class",o);break;case"tabIndex":bn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(e,a,o);break;case"style":zo(e,o,f);break;case"data":if(n!=="object"){bn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=va(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ne(e,n,"name",h.name,h,null),ne(e,n,"formEncType",h.formEncType,h,null),ne(e,n,"formMethod",h.formMethod,h,null),ne(e,n,"formTarget",h.formTarget,h,null)):(ne(e,n,"encType",h.encType,h,null),ne(e,n,"method",h.method,h,null),ne(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=va(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=ni);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=va(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),ga(e,"popover",o);break;case"xlinkActuate":Ne(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ne(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ne(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ne(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ne(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ne(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ga(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wu.get(a)||a,ga(e,a,o))}}function wd(e,n,a,o,h,f){switch(a){case"style":zo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?mn(e,o):(typeof o=="number"||typeof o=="bigint")&&mn(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[je]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ga(e,a,o)}}}function Ze(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ne(e,n,f,g,a,null)}}h&&ne(e,n,"srcSet",a.srcSet,a,null),o&&ne(e,n,"src",a.src,a,null);return;case"input":Vt("invalid",e);var E=f=g=h=null,R=null,P=null;for(o in a)if(a.hasOwnProperty(o)){var H=a[o];if(H!=null)switch(o){case"name":h=H;break;case"type":g=H;break;case"checked":R=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:ne(e,n,o,H,a,null)}}Au(e,f,E,R,P,g,h,!1);return;case"select":Vt("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ne(e,n,h,E,a,null)}n=f,a=g,e.multiple=!!o,n!=null?bs(e,!!o,n,!1):a!=null&&bs(e,!!o,a,!0);return;case"textarea":Vt("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ne(e,n,g,E,a,null)}ws(e,o,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ne(e,n,R,o,a,null));return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<vl.length;o++)Vt(vl[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(o=a[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ne(e,n,P,o,a,null)}return;default:if(_a(n)){for(H in a)a.hasOwnProperty(H)&&(o=a[H],o!==void 0&&wd(e,n,H,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&ne(e,n,E,o,a,null))}function yS(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,P=null,H=null;for(j in a){var Y=a[j];if(a.hasOwnProperty(j)&&Y!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(j)||ne(e,n,j,null,o,Y)}}for(var z in o){var j=o[z];if(Y=a[z],o.hasOwnProperty(z)&&(j!=null||Y!=null))switch(z){case"type":f=j;break;case"name":h=j;break;case"checked":P=j;break;case"defaultChecked":H=j;break;case"value":g=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:j!==Y&&ne(e,n,z,j,o,Y)}}ya(e,g,E,R,P,H,f,h);return;case"select":j=g=E=z=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":j=R;default:o.hasOwnProperty(f)||ne(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&ne(e,n,h,f,o,R)}n=E,a=g,o=j,z!=null?bs(e,!!a,z,!1):!!o!=!!a&&(n!=null?bs(e,!!a,n,!0):bs(e,!!a,a?[]:"",!1));return;case"textarea":j=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ne(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ne(e,n,g,h,o,f)}Su(e,z,j);return;case"option":for(var ot in a)z=a[ot],a.hasOwnProperty(ot)&&z!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:ne(e,n,ot,null,o,z));for(R in o)z=o[R],j=a[R],o.hasOwnProperty(R)&&z!==j&&(z!=null||j!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":ne(e,n,R,z,o,j));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)z=a[pt],a.hasOwnProperty(pt)&&z!=null&&!o.hasOwnProperty(pt)&&ne(e,n,pt,null,o,z);for(P in o)if(z=o[P],j=a[P],o.hasOwnProperty(P)&&z!==j&&(z!=null||j!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:ne(e,n,P,z,o,j)}return;default:if(_a(n)){for(var ie in a)z=a[ie],a.hasOwnProperty(ie)&&z!==void 0&&!o.hasOwnProperty(ie)&&wd(e,n,ie,void 0,o,z);for(H in o)z=o[H],j=a[H],!o.hasOwnProperty(H)||z===j||z===void 0&&j===void 0||wd(e,n,H,z,o,j);return}}for(var x in a)z=a[x],a.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&ne(e,n,x,null,o,z);for(Y in o)z=o[Y],j=a[Y],!o.hasOwnProperty(Y)||z===j||z==null&&j==null||ne(e,n,Y,z,o,j)}function w_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _S(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&w_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],P=R.startTime;if(P>E)break;var H=R.transferSize,Y=R.initiatorType;H&&w_(Y)&&(R=R.responseEnd,g+=H*(R<E?1:(E-P)/(R-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Rd=null,Id=null;function Rc(e){return e.nodeType===9?e:e.ownerDocument}function R_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Cd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Nd=null;function vS(){var e=window.event;return e&&e.type==="popstate"?e===Nd?!1:(Nd=e,!0):(Nd=null,!1)}var C_=typeof setTimeout=="function"?setTimeout:void 0,ES=typeof clearTimeout=="function"?clearTimeout:void 0,N_=typeof Promise=="function"?Promise:void 0,TS=typeof queueMicrotask=="function"?queueMicrotask:typeof N_<"u"?function(e){return N_.resolve(null).then(e).catch(AS)}:C_;function AS(e){setTimeout(function(){throw e})}function Ys(e){return e==="head"}function D_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Wa(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Tl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Tl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[vi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Tl(e.ownerDocument.body);a=h}while(a);Wa(n)}function O_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Dd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Dd(a),pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function SS(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[vi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Qn(e.nextSibling),e===null)break}return null}function bS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Qn(e.nextSibling),e===null))return null;return e}function V_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Qn(e.nextSibling),e===null))return null;return e}function Od(e){return e.data==="$?"||e.data==="$~"}function Vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function wS(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Md=null;function M_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Qn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function x_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function L_(e,n,a){switch(n=Rc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Tl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);pa(e)}var Kn=new Map,U_=new Set;function Ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ls=nt.d;nt.d={f:RS,r:IS,D:CS,C:NS,L:DS,m:OS,X:MS,S:VS,M:xS};function RS(){var e=ls.f(),n=_c();return e||n}function IS(e){var n=Un(e);n!==null&&n.tag===5&&n.type==="form"?Wg(n):ls.r(e)}var Ja=typeof document>"u"?null:document;function k_(e,n,a){var o=Ja;if(o&&typeof n=="string"&&n){var h=dn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),U_.has(h)||(U_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ze(n,"link",e),Ce(n),o.head.appendChild(n)))}}function CS(e){ls.D(e),k_("dns-prefetch",e,null)}function NS(e,n){ls.C(e,n),k_("preconnect",e,n)}function DS(e,n,a){ls.L(e,n,a);var o=Ja;if(o&&e&&n){var h='link[rel="preload"][as="'+dn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+dn(a.imageSizes)+'"]')):h+='[href="'+dn(e)+'"]';var f=h;switch(n){case"style":f=Za(e);break;case"script":f=$a(e)}Kn.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Al(f))||n==="script"&&o.querySelector(Sl(f))||(n=o.createElement("link"),Ze(n,"link",e),Ce(n),o.head.appendChild(n)))}}function OS(e,n){ls.m(e,n);var a=Ja;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+dn(o)+'"][href="'+dn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=$a(e)}if(!Kn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Kn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sl(f)))return}o=a.createElement("link"),Ze(o,"link",e),Ce(o),a.head.appendChild(o)}}}function VS(e,n,a){ls.S(e,n,a);var o=Ja;if(o&&e){var h=Ti(o).hoistableStyles,f=Za(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(Al(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Kn.get(f))&&xd(e,a);var R=g=o.createElement("link");Ce(R),Ze(R,"link",e),R._p=new Promise(function(P,H){R.onload=P,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Cc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function MS(e,n){ls.X(e,n);var a=Ja;if(a&&e){var o=Ti(a).hoistableScripts,h=$a(e),f=o.get(h);f||(f=a.querySelector(Sl(h)),f||(e=S({src:e,async:!0},n),(n=Kn.get(h))&&Ld(e,n),f=a.createElement("script"),Ce(f),Ze(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function xS(e,n){ls.M(e,n);var a=Ja;if(a&&e){var o=Ti(a).hoistableScripts,h=$a(e),f=o.get(h);f||(f=a.querySelector(Sl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Kn.get(h))&&Ld(e,n),f=a.createElement("script"),Ce(f),Ze(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function P_(e,n,a,o){var h=(h=Et.current)?Ic(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Za(a.href),a=Ti(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Za(a.href);var f=Ti(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(Al(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kn.set(e,a),f||LS(h,e,a,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$a(a),a=Ti(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Za(e){return'href="'+dn(e)+'"'}function Al(e){return'link[rel="stylesheet"]['+e+"]"}function z_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function LS(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ze(n,"link",a),Ce(n),e.head.appendChild(n))}function $a(e){return'[src="'+dn(e)+'"]'}function Sl(e){return"script[async]"+e}function B_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+dn(a.href)+'"]');if(o)return n.instance=o,Ce(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ce(o),Ze(o,"style",h),Cc(o,a.precedence,e),n.instance=o;case"stylesheet":h=Za(a.href);var f=e.querySelector(Al(h));if(f)return n.state.loading|=4,n.instance=f,Ce(f),f;o=z_(a),(h=Kn.get(h))&&xd(o,h),f=(e.ownerDocument||e).createElement("link"),Ce(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Ze(f,"link",o),n.state.loading|=4,Cc(f,a.precedence,e),n.instance=f;case"script":return f=$a(a.src),(h=e.querySelector(Sl(f)))?(n.instance=h,Ce(h),h):(o=a,(h=Kn.get(f))&&(o=S({},a),Ld(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ce(h),Ze(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Cc(o,a.precedence,e));return n.instance}function Cc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function xd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ld(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Nc=null;function j_(e,n,a){if(Nc===null){var o=new Map,h=Nc=new Map;h.set(a,o)}else h=Nc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[vi]||f[Ie]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function q_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function US(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function H_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function kS(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Za(o.href),f=n.querySelector(Al(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Dc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ce(f);return}f=n.ownerDocument||n,o=z_(o),(h=Kn.get(h))&&xd(o,h),f=f.createElement("link"),Ce(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Ze(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Dc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ud=0;function PS(e,n){return e.stylesheets&&e.count===0&&Vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ud===0&&(Ud=62500*_S());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ud?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Oc=null;function Vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Oc=new Map,n.forEach(zS,e),Oc=null,Dc.call(e))}function zS(e,n){if(!(n.state.loading&4)){var a=Oc.get(e);if(a)var o=a.get(null);else{a=new Map,Oc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=Dc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var bl={$$typeof:ut,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function BS(e,n,a,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function F_(e,n,a,o,h,f,g,E,R,P,H,Y){return e=new BS(e,n,a,g,R,P,H,Y,E),n=1,f===!0&&(n|=24),f=Rn(3,null,null,n),e.current=f,f.stateNode=e,n=pf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},vf(f),e}function G_(e){return e?(e=Na,e):Na}function Q_(e,n,a,o,h,f){h=G_(h),o.context===null?o.context=h:o.pendingContext=h,o=ks(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ps(e,o,n),a!==null&&(vn(a,e,n),nl(a,e,n))}function K_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function kd(e,n){K_(e,n),(e=e.alternate)&&K_(e,n)}function Y_(e){if(e.tag===13||e.tag===31){var n=kr(e,67108864);n!==null&&vn(n,e,67108864),kd(e,67108864)}}function X_(e){if(e.tag===13||e.tag===31){var n=On();n=wr(n);var a=kr(e,n);a!==null&&vn(a,e,n),kd(e,n)}}var Mc=!0;function jS(e,n,a,o){var h=q.T;q.T=null;var f=nt.p;try{nt.p=2,Pd(e,n,a,o)}finally{nt.p=f,q.T=h}}function qS(e,n,a,o){var h=q.T;q.T=null;var f=nt.p;try{nt.p=8,Pd(e,n,a,o)}finally{nt.p=f,q.T=h}}function Pd(e,n,a,o){if(Mc){var h=zd(o);if(h===null)bd(e,n,o,xc,a),Z_(e,o);else if(FS(h,e,n,a,o))o.stopPropagation();else if(Z_(e,o),n&4&&-1<HS.indexOf(e)){for(;h!==null;){var f=Un(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=pi(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-Te(g);E.entanglements[1]|=R,g&=~R}xi(f),(Kt&6)===0&&(gc=ln()+500,_l(0))}}break;case 31:case 13:E=kr(f,2),E!==null&&vn(E,f,2),_c(),kd(f,2)}if(f=zd(o),f===null&&bd(e,n,o,xc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else bd(e,n,o,null,a)}}function zd(e){return e=kn(e),Bd(e)}var xc=null;function Bd(e){if(xc=null,e=Ei(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return xc=e,null}function J_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tr()){case Io:return 2;case Co:return 8;case As:case Gh:return 32;case fu:return 268435456;default:return 32}default:return 32}}var jd=!1,Xs=null,Js=null,Zs=null,wl=new Map,Rl=new Map,$s=[],HS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z_(e,n){switch(e){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(n.pointerId)}}function Il(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Un(n),n!==null&&Y_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function FS(e,n,a,o,h){switch(n){case"focusin":return Xs=Il(Xs,e,n,a,o,h),!0;case"dragenter":return Js=Il(Js,e,n,a,o,h),!0;case"mouseover":return Zs=Il(Zs,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return wl.set(f,Il(wl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Rl.set(f,Il(Rl.get(f)||null,e,n,a,o,h)),!0}return!1}function $_(e){var n=Ei(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,ti(e.priority,function(){X_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,ti(e.priority,function(){X_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=zd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Bo=o,a.target.dispatchEvent(o),Bo=null}else return n=Un(a),n!==null&&Y_(n),e.blockedOn=a,!1;n.shift()}return!0}function W_(e,n,a){Lc(e)&&a.delete(n)}function GS(){jd=!1,Xs!==null&&Lc(Xs)&&(Xs=null),Js!==null&&Lc(Js)&&(Js=null),Zs!==null&&Lc(Zs)&&(Zs=null),wl.forEach(W_),Rl.forEach(W_)}function Uc(e,n){e.blockedOn===n&&(e.blockedOn=null,jd||(jd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,GS)))}var kc=null;function tv(e){kc!==e&&(kc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){kc===e&&(kc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Bd(o||a)===null)continue;break}var f=Un(a);f!==null&&(e.splice(n,3),n-=3,zf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Wa(e){function n(R){return Uc(R,e)}Xs!==null&&Uc(Xs,e),Js!==null&&Uc(Js,e),Zs!==null&&Uc(Zs,e),wl.forEach(n),Rl.forEach(n);for(var a=0;a<$s.length;a++){var o=$s[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<$s.length&&(a=$s[0],a.blockedOn===null);)$_(a),a.blockedOn===null&&$s.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[je]||null;if(typeof f=="function")g||tv(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[je]||null)E=g.formAction;else if(Bd(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),tv(a)}}}function ev(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function qd(e){this._internalRoot=e}Pc.prototype.render=qd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=On();Q_(a,o,e,n,null,null)},Pc.prototype.unmount=qd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Q_(e.current,2,null,e,null,null),_c(),n[_i]=null}};function Pc(e){this._internalRoot=e}Pc.prototype.unstable_scheduleHydration=function(e){if(e){var n=_u();e={blockedOn:null,target:e,priority:n};for(var a=0;a<$s.length&&n!==0&&n<$s[a].priority;a++);$s.splice(a,0,e),a===0&&$_(e)}};var nv=t.version;if(nv!=="19.2.4")throw Error(r(527,nv,"19.2.4"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var QS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{$n=zc.inject(QS),Qe=zc}catch{}}return Nl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=uy,f=cy,g=hy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=F_(e,1,!1,null,null,a,o,null,h,f,g,ev),e[_i]=n.current,Sd(e),new qd(n)},Nl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=uy,g=cy,E=hy,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=F_(e,1,!0,n,a??null,o,h,R,f,g,E,ev),n.context=G_(null),a=n.current,o=On(),o=wr(o),h=ks(o),h.callback=null,Ps(a,h,o),a=o,n.current.lanes=a,Sr(n,a),xi(n),e[_i]=n.current,Sd(e),new Pc(n)},Nl.version="19.2.4",Nl}var fv;function s1(){if(fv)return Gd.exports;fv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Gd.exports=i1(),Gd.exports}var r1=s1();const a1=()=>{};var dv={};const HE=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},o1=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},FE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,T=c>>2,S=(c&3)<<4|p>>4;let N=(p&15)<<2|y>>6,F=y&63;_||(F=64,d||(N=64)),r.push(i[T],i[S],i[N],i[F])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(HE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):o1(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||S==null)throw new l1;const N=c<<2|p>>4;if(r.push(N),y!==64){const F=p<<4&240|y>>2;if(r.push(F),S!==64){const $=y<<6&192|S;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class l1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u1=function(s){const t=HE(s);return FE.encodeByteArray(t,!0)},nh=function(s){return u1(s).replace(/\./g,"")},GE=function(s){try{return FE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const h1=()=>c1().__FIREBASE_DEFAULTS__,f1=()=>{if(typeof process>"u"||typeof dv>"u")return;const s=dv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},d1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&GE(s[1]);return t&&JSON.parse(t)},Ah=()=>{try{return a1()||h1()||f1()||d1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},QE=s=>Ah()?.emulatorHosts?.[s],m1=s=>{const t=QE(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},KE=()=>Ah()?.config,YE=s=>Ah()?.[`_${s}`];class p1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function vo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function XE(s){return(await fetch(s,{credentials:"include"})).ok}function g1(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[nh(JSON.stringify(i)),nh(JSON.stringify(d)),""].join(".")}const Ll={};function y1(){const s={prod:[],emulator:[]};for(const t of Object.keys(Ll))Ll[t]?s.emulator.push(t):s.prod.push(t);return s}function _1(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let mv=!1;function JE(s,t){if(typeof window>"u"||typeof document>"u"||!vo(window.location.host)||Ll[s]===t||Ll[s]||mv)return;Ll[s]=t;function i(N){return`__firebase__banner__${N}`}const r="__firebase__banner",c=y1().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,F){N.setAttribute("width","24"),N.setAttribute("id",F),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{mv=!0,d()},N}function T(N,F){N.setAttribute("id",F),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function S(){const N=_1(r),F=i("text"),$=document.getElementById(F)||document.createElement("span"),W=i("learnmore"),et=document.getElementById(W)||document.createElement("a"),dt=i("preprendIcon"),_t=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ut=N.element;p(ut),T(et,W);const vt=y();_(_t,dt),ut.append(_t,$,et,vt),document.body.appendChild(ut)}c?($.innerText="Preview backend disconnected.",_t.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_t.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function E1(){const s=Ah()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function T1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function A1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function S1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b1(){const s=on();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function w1(){return!E1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R1(){try{return typeof indexedDB=="object"}catch{return!1}}function I1(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const C1="FirebaseError";class ys extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=C1,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zl.prototype.create)}}class Zl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?N1(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ys(l,p,r)}}function N1(s,t){return s.replace(D1,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const D1=/\{\$([^}]+)}/g;function O1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function na(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(pv(c)&&pv(d)){if(!na(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function pv(s){return s!==null&&typeof s=="object"}function $l(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function V1(s,t){const i=new M1(s,t);return i.subscribe.bind(i)}class M1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");x1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Xd),l.error===void 0&&(l.error=Xd),l.complete===void 0&&(l.complete=Xd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function x1(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Xd(){}function ke(s){return s&&s._delegate?s._delegate:s}class ia{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Jr="[DEFAULT]";class L1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new p1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(k1(t))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Jr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Jr){return this.instances.has(t)}getOptions(t=Jr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:U1(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Jr){return this.component?this.component.multipleInstances?t:Jr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U1(s){return s===Jr?void 0:s}function k1(s){return s.instantiationMode==="EAGER"}class P1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new L1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pt||(Pt={}));const z1={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},B1=Pt.INFO,j1={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},q1=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=j1[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Um{constructor(t){this.name=t,this._logLevel=B1,this._logHandler=q1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?z1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const H1=(s,t)=>t.some(i=>s instanceof i);let gv,yv;function F1(){return gv||(gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G1(){return yv||(yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZE=new WeakMap,lm=new WeakMap,$E=new WeakMap,Jd=new WeakMap,km=new WeakMap;function Q1(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(rr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&ZE.set(i,s)}).catch(()=>{}),km.set(t,s),t}function K1(s){if(lm.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});lm.set(s,t)}let um={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return lm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||$E.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return rr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Y1(s){um=s(um)}function X1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Zd(this),t,...i);return $E.set(r,t.sort?t.sort():[t]),rr(r)}:G1().includes(s)?function(...t){return s.apply(Zd(this),t),rr(ZE.get(this))}:function(...t){return rr(s.apply(Zd(this),t))}}function J1(s){return typeof s=="function"?X1(s):(s instanceof IDBTransaction&&K1(s),H1(s,F1())?new Proxy(s,um):s)}function rr(s){if(s instanceof IDBRequest)return Q1(s);if(Jd.has(s))return Jd.get(s);const t=J1(s);return t!==s&&(Jd.set(s,t),km.set(t,s)),t}const Zd=s=>km.get(s);function Z1(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=rr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(rr(d.result),_.oldVersion,_.newVersion,rr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const $1=["get","getKey","getAll","getAllKeys","count"],W1=["put","add","delete","clear"],$d=new Map;function _v(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if($d.get(t))return $d.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=W1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||$1.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return $d.set(t,c),c}Y1(s=>({...s,get:(t,i,r)=>_v(t,i)||s.get(t,i,r),has:(t,i)=>!!_v(t,i)||s.has(t,i)}));class tb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(eb(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function eb(s){return s.getComponent()?.type==="VERSION"}const cm="@firebase/app",vv="0.14.9";const ds=new Um("@firebase/app"),nb="@firebase/app-compat",ib="@firebase/analytics-compat",sb="@firebase/analytics",rb="@firebase/app-check-compat",ab="@firebase/app-check",ob="@firebase/auth",lb="@firebase/auth-compat",ub="@firebase/database",cb="@firebase/data-connect",hb="@firebase/database-compat",fb="@firebase/functions",db="@firebase/functions-compat",mb="@firebase/installations",pb="@firebase/installations-compat",gb="@firebase/messaging",yb="@firebase/messaging-compat",_b="@firebase/performance",vb="@firebase/performance-compat",Eb="@firebase/remote-config",Tb="@firebase/remote-config-compat",Ab="@firebase/storage",Sb="@firebase/storage-compat",bb="@firebase/firestore",wb="@firebase/ai",Rb="@firebase/firestore-compat",Ib="firebase",Cb="12.10.0";const hm="[DEFAULT]",Nb={[cm]:"fire-core",[nb]:"fire-core-compat",[sb]:"fire-analytics",[ib]:"fire-analytics-compat",[ab]:"fire-app-check",[rb]:"fire-app-check-compat",[ob]:"fire-auth",[lb]:"fire-auth-compat",[ub]:"fire-rtdb",[cb]:"fire-data-connect",[hb]:"fire-rtdb-compat",[fb]:"fire-fn",[db]:"fire-fn-compat",[mb]:"fire-iid",[pb]:"fire-iid-compat",[gb]:"fire-fcm",[yb]:"fire-fcm-compat",[_b]:"fire-perf",[vb]:"fire-perf-compat",[Eb]:"fire-rc",[Tb]:"fire-rc-compat",[Ab]:"fire-gcs",[Sb]:"fire-gcs-compat",[bb]:"fire-fst",[Rb]:"fire-fst-compat",[wb]:"fire-vertex","fire-js":"fire-js",[Ib]:"fire-js-all"};const ih=new Map,Db=new Map,fm=new Map;function Ev(s,t){try{s.container.addComponent(t)}catch(i){ds.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function uo(s){const t=s.name;if(fm.has(t))return ds.debug(`There were multiple attempts to register component ${t}.`),!1;fm.set(t,s);for(const i of ih.values())Ev(i,s);for(const i of Db.values())Ev(i,s);return!0}function Pm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Yn(s){return s==null?!1:s.settings!==void 0}const Ob={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new Zl("app","Firebase",Ob);class Vb{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const Eo=Cb;function WE(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:hm,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw ar.create("bad-app-name",{appName:String(l)});if(i||(i=KE()),!i)throw ar.create("no-options");const c=ih.get(l);if(c){if(na(i,c.options)&&na(r,c.config))return c;throw ar.create("duplicate-app",{appName:l})}const d=new P1(l);for(const _ of fm.values())d.addComponent(_);const p=new Vb(i,r,d);return ih.set(l,p),p}function tT(s=hm){const t=ih.get(s);if(!t&&s===hm&&KE())return WE();if(!t)throw ar.create("no-app",{appName:s});return t}function or(s,t,i){let r=Nb[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ds.warn(d.join(" "));return}uo(new ia(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Mb="firebase-heartbeat-database",xb=1,jl="firebase-heartbeat-store";let Wd=null;function eT(){return Wd||(Wd=Z1(Mb,xb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(jl)}catch(i){console.warn(i)}}}}).catch(s=>{throw ar.create("idb-open",{originalErrorMessage:s.message})})),Wd}async function Lb(s){try{const i=(await eT()).transaction(jl),r=await i.objectStore(jl).get(nT(s));return await i.done,r}catch(t){if(t instanceof ys)ds.warn(t.message);else{const i=ar.create("idb-get",{originalErrorMessage:t?.message});ds.warn(i.message)}}}async function Tv(s,t){try{const r=(await eT()).transaction(jl,"readwrite");await r.objectStore(jl).put(t,nT(s)),await r.done}catch(i){if(i instanceof ys)ds.warn(i.message);else{const r=ar.create("idb-set",{originalErrorMessage:i?.message});ds.warn(r.message)}}}function nT(s){return`${s.name}!${s.options.appId}`}const Ub=1024,kb=30;class Pb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Bb(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Av();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>kb){const l=jb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ds.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Av(),{heartbeatsToSend:i,unsentEntries:r}=zb(this._heartbeatsCache.heartbeats),l=nh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ds.warn(t),""}}}function Av(){return new Date().toISOString().substring(0,10)}function zb(s,t=Ub){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Sv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Sv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Bb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R1()?I1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Lb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Tv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Tv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Sv(s){return nh(JSON.stringify({version:2,heartbeats:s})).length}function jb(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function qb(s){uo(new ia("platform-logger",t=>new tb(t),"PRIVATE")),uo(new ia("heartbeat",t=>new Pb(t),"PRIVATE")),or(cm,vv,s),or(cm,vv,"esm2020"),or("fire-js","")}qb("");function iT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Hb=iT,sT=new Zl("auth","Firebase",iT());const sh=new Um("@firebase/auth");function Fb(s,...t){sh.logLevel<=Pt.WARN&&sh.warn(`Auth (${Eo}): ${s}`,...t)}function Qc(s,...t){sh.logLevel<=Pt.ERROR&&sh.error(`Auth (${Eo}): ${s}`,...t)}function ji(s,...t){throw Bm(s,...t)}function hi(s,...t){return Bm(s,...t)}function zm(s,t,i){const r={...Hb(),[t]:i};return new Zl("auth","Firebase",r).create(t,{appName:s.name})}function lr(s){return zm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rT(s,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&ji(s,"argument-error"),zm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return sT.create(s,...t)}function yt(s,t,...i){if(!s)throw Bm(t,...i)}function cs(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Qc(t),new Error(t)}function ms(s,t){s||cs(t)}function dm(){return typeof self<"u"&&self.location?.href||""}function Gb(){return bv()==="http:"||bv()==="https:"}function bv(){return typeof self<"u"&&self.location?.protocol||null}function Qb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Gb()||A1()||"connection"in navigator)?navigator.onLine:!0}function Kb(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Wl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ms(i>t,"Short delay should be less than long delay!"),this.isMobile=v1()||S1()}get(){return Qb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jm(s,t){ms(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class aT{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Xb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Jb=new Wl(3e4,6e4);function qm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function To(s,t,i,r,l={}){return oT(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=$l({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return T1()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&vo(s.emulatorConfig.host)&&(y.credentials="include"),aT.fetch()(await lT(s,s.config.apiHost,i,p),y)})}async function oT(s,t,i){s._canInitEmulator=!1;const r={...Yb,...t};try{const l=new $b(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Bc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Bc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Bc(s,"user-disabled",d);const T=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw zm(s,T,y);ji(s,T)}}catch(l){if(l instanceof ys)throw l;ji(s,"network-request-failed",{message:String(l)})}}async function Zb(s,t,i,r,l={}){const c=await To(s,t,i,r,l);return"mfaPendingCredential"in c&&ji(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function lT(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?jm(s.config,l):`${s.config.apiScheme}://${l}`;return Xb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class $b{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(hi(this.auth,"network-request-failed")),Jb.get())})}}function Bc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=hi(s,t,r);return l.customData._tokenResponse=i,l}async function Wb(s,t){return To(s,"POST","/v1/accounts:delete",t)}async function rh(s,t){return To(s,"POST","/v1/accounts:lookup",t)}function Ul(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function tw(s,t=!1){const i=ke(s),r=await i.getIdToken(t),l=Hm(r);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Ul(tm(l.auth_time)),issuedAtTime:Ul(tm(l.iat)),expirationTime:Ul(tm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function tm(s){return Number(s)*1e3}function Hm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const l=GE(i);return l?JSON.parse(l):(Qc("Failed to decode base64 JWT payload"),null)}catch(l){return Qc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function wv(s){const t=Hm(s);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function ql(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof ys&&ew(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function ew({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class nw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ah(s){const t=s.auth,i=await s.getIdToken(),r=await ql(s,rh(t,{idToken:i}));yt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?uT(l.providerUserInfo):[],d=sw(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new mm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function iw(s){const t=ke(s);await ah(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function sw(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function uT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function rw(s,t){const i=await oT(s,{},async()=>{const r=$l({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await lT(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return s.emulatorConfig&&vo(s.emulatorConfig.host)&&(_.credentials="include"),aT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function aw(s,t){return To(s,"POST","/v2/accounts:revokeToken",qm(s,t))}class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):wv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=wv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await rw(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new so;return r&&(yt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return cs("not implemented")}}function tr(s,t){yt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ci{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new nw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new mm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await ql(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return tw(this,t)}reload(){return iw(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ci({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await ah(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(lr(this.auth));const t=await this.getIdToken();return await ql(this,Wb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:S,emailVerified:N,isAnonymous:F,providerData:$,stsTokenManager:W}=i;yt(S&&W,t,"internal-error");const et=so.fromJSON(this.name,W);yt(typeof S=="string",t,"internal-error"),tr(r,t.name),tr(l,t.name),yt(typeof N=="boolean",t,"internal-error"),yt(typeof F=="boolean",t,"internal-error"),tr(c,t.name),tr(d,t.name),tr(p,t.name),tr(_,t.name),tr(y,t.name),tr(T,t.name);const dt=new ci({uid:S,auth:t,email:l,emailVerified:N,displayName:r,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:et,createdAt:y,lastLoginAt:T});return $&&Array.isArray($)&&(dt.providerData=$.map(_t=>({..._t}))),_&&(dt._redirectEventId=_),dt}static async _fromIdTokenResponse(t,i,r=!1){const l=new so;l.updateFromServerResponse(i);const c=new ci({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await ah(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?uT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new so;p.updateFromIdToken(r);const _=new ci({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new mm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const Rv=new Map;function hs(s){ms(s instanceof Function,"Expected a class definition");let t=Rv.get(s);return t?(ms(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Rv.set(s,t),t)}class cT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}cT.type="NONE";const Iv=cT;function Kc(s,t,i){return`firebase:${s}:${t}:${i}`}class ro{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Kc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Kc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await rh(this.auth,{idToken:t}).catch(()=>{});return i?ci._fromGetAccountInfoResponse(this.auth,i,t):null}return ci._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new ro(hs(Iv),t,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||hs(Iv);const d=Kc(r,t.config.apiKey,t.name);let p=null;for(const y of i)try{const T=await y._get(d);if(T){let S;if(typeof T=="string"){const N=await rh(t,{idToken:T}).catch(()=>{});if(!N)break;S=await ci._fromGetAccountInfoResponse(t,N,T)}else S=ci._fromJSON(t,T);y!==c&&(p=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new ro(c,t,r):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new ro(c,t,r))}}function Cv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(hT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gT(t))return"Blackberry";if(yT(t))return"Webos";if(fT(t))return"Safari";if((t.includes("chrome/")||dT(t))&&!t.includes("edge/"))return"Chrome";if(pT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function hT(s=on()){return/firefox\//i.test(s)}function fT(s=on()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function dT(s=on()){return/crios\//i.test(s)}function mT(s=on()){return/iemobile/i.test(s)}function pT(s=on()){return/android/i.test(s)}function gT(s=on()){return/blackberry/i.test(s)}function yT(s=on()){return/webos/i.test(s)}function Fm(s=on()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function ow(s=on()){return Fm(s)&&!!window.navigator?.standalone}function lw(){return b1()&&document.documentMode===10}function _T(s=on()){return Fm(s)||pT(s)||yT(s)||gT(s)||/windows phone/i.test(s)||mT(s)}function vT(s,t=[]){let i;switch(s){case"Browser":i=Cv(on());break;case"Worker":i=`${Cv(on())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Eo}/${r}`}class uw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function cw(s,t={}){return To(s,"GET","/v2/passwordPolicy",qm(s,t))}const hw=6;class fw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??hw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class dw{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nv(this),this.idTokenSubscription=new Nv(this),this.beforeStateQueue=new uw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=hs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ro.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await rh(this,{idToken:t}),r=await ci._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await ah(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Kb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(lr(this));const i=t?ke(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await cw(this),i=new fw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Zl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await aw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&hs(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await ro.create(this,[hs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=vT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Fb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ao(s){return ke(s)}class Nv{constructor(t){this.auth=t,this.observer=null,this.addObserver=V1(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mw(s){Gm=s}function pw(s){return Gm.loadJS(s)}function gw(){return Gm.gapiScript}function yw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function ET(s,t){const i=Pm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(na(c,t??{}))return l;ji(l,"already-initialized")}return i.initialize({options:t})}function _w(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(hs);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function vw(s,t,i){const r=Ao(s);yt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=TT(t),{host:d,port:p}=Ew(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){yt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),yt(na(y,r.config.emulator)&&na(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,vo(d)?(XE(`${c}//${d}${_}`),JE("Auth",!0)):Tw()}function TT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Ew(s){const t=TT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Dv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Dv(d)}}}function Dv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Tw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class AT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return cs("not implemented")}_getIdTokenResponse(t){return cs("not implemented")}_linkToIdToken(t,i){return cs("not implemented")}_getReauthenticationResolver(t){return cs("not implemented")}}async function ao(s,t){return Zb(s,"POST","/v1/accounts:signInWithIdp",qm(s,t))}const Aw="http://localhost";class sa extends AT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new sa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ji("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new sa(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return ao(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,ao(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ao(t,i)}buildRequest(){const t={requestUri:Aw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=$l(i)}return t}}class Sh{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class tu extends Sh{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class er extends tu{constructor(){super("facebook.com")}static credential(t){return sa._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return er.credential(t.oauthAccessToken)}catch{return null}}}er.FACEBOOK_SIGN_IN_METHOD="facebook.com";er.PROVIDER_ID="facebook.com";class us extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return sa._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return us.credentialFromTaggedObject(t)}static credentialFromError(t){return us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return us.credential(i,r)}catch{return null}}}us.GOOGLE_SIGN_IN_METHOD="google.com";us.PROVIDER_ID="google.com";class nr extends tu{constructor(){super("github.com")}static credential(t){return sa._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return nr.credential(t.oauthAccessToken)}catch{return null}}}nr.GITHUB_SIGN_IN_METHOD="github.com";nr.PROVIDER_ID="github.com";class ir extends tu{constructor(){super("twitter.com")}static credential(t,i){return sa._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return ir.credential(i,r)}catch{return null}}}ir.TWITTER_SIGN_IN_METHOD="twitter.com";ir.PROVIDER_ID="twitter.com";class co{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await ci._fromIdTokenResponse(t,r,l),d=Ov(r);return new co({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=Ov(r);return new co({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function Ov(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class oh extends ys{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new oh(t,i,r,l)}}function ST(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(s,c,t,r):c})}async function Sw(s,t,i=!1){const r=await ql(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return co._forOperation(s,"link",r)}async function bw(s,t,i=!1){const{auth:r}=s;if(Yn(r.app))return Promise.reject(lr(r));const l="reauthenticate";try{const c=await ql(s,ST(r,l,t,s),i);yt(c.idToken,r,"internal-error");const d=Hm(c.idToken);yt(d,r,"internal-error");const{sub:p}=d;return yt(s.uid===p,r,"user-mismatch"),co._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ji(r,"user-mismatch"),c}}async function ww(s,t,i=!1){if(Yn(s.app))return Promise.reject(lr(s));const r="signIn",l=await ST(s,r,t),c=await co._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function Rw(s,t,i,r){return ke(s).onIdTokenChanged(t,i,r)}function Iw(s,t,i){return ke(s).beforeAuthStateChanged(t,i)}function Cw(s,t,i,r){return ke(s).onAuthStateChanged(t,i,r)}function Nw(s){return ke(s).signOut()}const lh="__sak";class bT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Dw=1e3,Ow=10;class wT extends bT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_T(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);lw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Ow):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},Dw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}wT.type="LOCAL";const RT=wT;class IT extends bT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}IT.type="SESSION";const Qm=IT;function Vw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class bh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new bh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await Vw(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bh.receivers=[];function Km(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class Mw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Km("",20);l.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const N=S;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(N.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ui(){return window}function xw(s){Ui().location.href=s}function CT(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function Lw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Uw(){return navigator?.serviceWorker?.controller||null}function kw(){return CT()?self:null}const NT="firebaseLocalStorageDb",Pw=1,uh="firebaseLocalStorage",DT="fbase_key";class eu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function wh(s,t){return s.transaction([uh],t?"readwrite":"readonly").objectStore(uh)}function zw(){const s=indexedDB.deleteDatabase(NT);return new eu(s).toPromise()}function pm(){const s=indexedDB.open(NT,Pw);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(uh,{keyPath:DT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(uh)?t(r):(r.close(),await zw(),t(await pm()))})})}async function Vv(s,t,i){const r=wh(s,!0).put({[DT]:t,value:i});return new eu(r).toPromise()}async function Bw(s,t){const i=wh(s,!1).get(t),r=await new eu(i).toPromise();return r===void 0?null:r.value}function Mv(s,t){const i=wh(s,!0).delete(t);return new eu(i).toPromise()}const jw=800,qw=3;class OT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>qw)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bh._getInstance(kw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Lw(),!this.activeServiceWorker)return;this.sender=new Mw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Uw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await pm();return await Vv(t,lh,"1"),await Mv(t,lh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Vv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>Bw(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Mv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=wh(l,!1).getAll();return new eu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OT.type="LOCAL";const VT=OT;new Wl(3e4,6e4);function Ym(s,t){return t?hs(t):(yt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Xm extends AT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ao(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ao(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ao(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Hw(s){return ww(s.auth,new Xm(s),s.bypassAuthState)}function Fw(s){const{auth:t,user:i}=s;return yt(i,t,"internal-error"),bw(i,new Xm(s),s.bypassAuthState)}async function Gw(s){const{auth:t,user:i}=s;return yt(i,t,"internal-error"),Sw(i,new Xm(s),s.bypassAuthState)}class MT{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Hw;case"linkViaPopup":case"linkViaRedirect":return Gw;case"reauthViaPopup":case"reauthViaRedirect":return Fw;default:ji(this.auth,"internal-error")}}resolve(t){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qw=new Wl(2e3,1e4);async function Kw(s,t,i){if(Yn(s.app))return Promise.reject(hi(s,"operation-not-supported-in-this-environment"));const r=Ao(s);rT(s,t,Sh);const l=Ym(r,i);return new Zr(r,"signInViaPopup",t,l).executeNotNull()}class Zr extends MT{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Zr.currentPopupAction&&Zr.currentPopupAction.cancel(),Zr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const t=Km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Qw.get())};t()}}Zr.currentPopupAction=null;const Yw="pendingRedirect",Yc=new Map;class Xw extends MT{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Yc.get(this.auth._key());if(!t){try{const r=await Jw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Yc.set(this.auth._key(),t)}return this.bypassAuthState||Yc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Jw(s,t){const i=LT(t),r=xT(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}async function Zw(s,t){return xT(s)._set(LT(t),"true")}function $w(s,t){Yc.set(s._key(),t)}function xT(s){return hs(s._redirectPersistence)}function LT(s){return Kc(Yw,s.config.apiKey,s.name)}function Ww(s,t,i){return tR(s,t,i)}async function tR(s,t,i){if(Yn(s.app))return Promise.reject(lr(s));const r=Ao(s);rT(s,t,Sh),await r._initializationPromise;const l=Ym(r,i);return await Zw(l,r),l._openRedirect(r,t,"signInViaRedirect")}async function eR(s,t){return await Ao(s)._initializationPromise,UT(s,t,!1)}async function UT(s,t,i=!1){if(Yn(s.app))return Promise.reject(lr(s));const r=Ao(s),l=Ym(r,t),d=await new Xw(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const nR=600*1e3;class iR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!sR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!kT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(hi(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=nR&&this.cachedEventUids.clear(),this.cachedEventUids.has(xv(t))}saveEventToCache(t){this.cachedEventUids.add(xv(t)),this.lastProcessedEventTime=Date.now()}}function xv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function kT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function sR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kT(s);default:return!1}}async function rR(s,t={}){return To(s,"GET","/v1/projects",t)}const aR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oR=/^https?/;async function lR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await rR(s);for(const i of t)try{if(uR(i))return}catch{}ji(s,"unauthorized-domain")}function uR(s){const t=dm(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!oR.test(i))return!1;if(aR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const cR=new Wl(3e4,6e4);function Lv(){const s=Ui().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function hR(s){return new Promise((t,i)=>{function r(){Lv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Lv(),i(hi(s,"network-request-failed"))},timeout:cR.get()})}if(Ui().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ui().gapi?.load)r();else{const l=yw("iframefcb");return Ui()[l]=()=>{gapi.load?r():i(hi(s,"network-request-failed"))},pw(`${gw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Xc=null,t})}let Xc=null;function fR(s){return Xc=Xc||hR(s),Xc}const dR=new Wl(5e3,15e3),mR="__/auth/iframe",pR="emulator/auth/iframe",gR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _R(s){const t=s.config;yt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?jm(t,pR):`https://${s.config.authDomain}/${mR}`,r={apiKey:t.apiKey,appName:s.name,v:Eo},l=yR.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${$l(r).slice(1)}`}async function vR(s){const t=await fR(s),i=Ui().gapi;return yt(i,s,"internal-error"),t.open({where:document.body,url:_R(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gR,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=hi(s,"network-request-failed"),p=Ui().setTimeout(()=>{c(d)},dR.get());function _(){Ui().clearTimeout(p),l(r)}r.ping(_).then(_,()=>{c(d)})}))}const ER={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TR=500,AR=600,SR="_blank",bR="http://localhost";class Uv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wR(s,t,i,r=TR,l=AR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...ER,width:r.toString(),height:l.toString(),top:c,left:d},y=on().toLowerCase();i&&(p=dT(y)?SR:i),hT(y)&&(t=t||bR,_.scrollbars="yes");const T=Object.entries(_).reduce((N,[F,$])=>`${N}${F}=${$},`,"");if(ow(y)&&p!=="_self")return RR(t||"",p),new Uv(null);const S=window.open(t||"",p,T);yt(S,s,"popup-blocked");try{S.focus()}catch{}return new Uv(S)}function RR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const IR="__/auth/handler",CR="emulator/auth/handler",NR=encodeURIComponent("fac");async function kv(s,t,i,r,l,c){yt(s.config.authDomain,s,"auth-domain-config-required"),yt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Eo,eventId:l};if(t instanceof Sh){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",O1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(t instanceof tu){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const _=await s._getAppCheckToken(),y=_?`#${NR}=${encodeURIComponent(_)}`:"";return`${DR(s)}?${$l(p).slice(1)}${y}`}function DR({config:s}){return s.emulator?jm(s,CR):`https://${s.authDomain}/${IR}`}const em="webStorageSupport";class OR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qm,this._completeRedirectFn=UT,this._overrideRedirectResult=$w}async _openPopup(t,i,r,l){ms(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await kv(t,i,r,dm(),l);return wR(t,c,Km())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await kv(t,i,r,dm(),l);return xw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ms(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await vR(t),r=new iR(t);return i.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(em,{type:em},l=>{const c=l?.[0]?.[em];c!==void 0&&i(!!c),ji(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=lR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return _T()||fT()||Fm()}}const PT=OR;var Pv="@firebase/auth",zv="1.12.1";class VR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function MR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xR(s){uo(new ia("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vT(s)},y=new dw(r,l,c,_);return _w(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),uo(new ia("auth-internal",t=>{const i=Ao(t.getProvider("auth").getImmediate());return(r=>new VR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(Pv,zv,MR(s)),or(Pv,zv,"esm2020")}const LR=300,UR=YE("authIdTokenMaxAge")||LR;let Bv=null;const kR=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>UR)return;const l=i?.token;Bv!==l&&(Bv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function PR(s=tT()){const t=Pm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=ET(s,{popupRedirectResolver:PT,persistence:[VT,RT,Qm]}),r=YE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=kR(c.toString());Iw(i,d,()=>d(i.currentUser)),Rw(i,p=>d(p))}}const l=QE("auth");return l&&vw(i,`http://${l}`),i}function zR(){return document.getElementsByTagName("head")?.[0]??document}mw({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=hi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",zR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xR("Browser");var BR="firebase",jR="12.10.0";or(BR,jR,"app");var jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ur,zT;(function(){var s;function t(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,V,L){for(var w=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)w[Wt-2]=arguments[Wt];return b.prototype[V].apply(M,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);const M=Array(16);if(typeof b=="string")for(var V=0;V<16;++V)M[V]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(V=0;V<16;++V)M[V]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],V=C.g[2];let L=C.g[3],w;w=b+(L^I&(V^L))+M[0]+3614090360&4294967295,b=I+(w<<7&4294967295|w>>>25),w=L+(V^b&(I^V))+M[1]+3905402710&4294967295,L=b+(w<<12&4294967295|w>>>20),w=V+(I^L&(b^I))+M[2]+606105819&4294967295,V=L+(w<<17&4294967295|w>>>15),w=I+(b^V&(L^b))+M[3]+3250441966&4294967295,I=V+(w<<22&4294967295|w>>>10),w=b+(L^I&(V^L))+M[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=L+(V^b&(I^V))+M[5]+1200080426&4294967295,L=b+(w<<12&4294967295|w>>>20),w=V+(I^L&(b^I))+M[6]+2821735955&4294967295,V=L+(w<<17&4294967295|w>>>15),w=I+(b^V&(L^b))+M[7]+4249261313&4294967295,I=V+(w<<22&4294967295|w>>>10),w=b+(L^I&(V^L))+M[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=L+(V^b&(I^V))+M[9]+2336552879&4294967295,L=b+(w<<12&4294967295|w>>>20),w=V+(I^L&(b^I))+M[10]+4294925233&4294967295,V=L+(w<<17&4294967295|w>>>15),w=I+(b^V&(L^b))+M[11]+2304563134&4294967295,I=V+(w<<22&4294967295|w>>>10),w=b+(L^I&(V^L))+M[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=L+(V^b&(I^V))+M[13]+4254626195&4294967295,L=b+(w<<12&4294967295|w>>>20),w=V+(I^L&(b^I))+M[14]+2792965006&4294967295,V=L+(w<<17&4294967295|w>>>15),w=I+(b^V&(L^b))+M[15]+1236535329&4294967295,I=V+(w<<22&4294967295|w>>>10),w=b+(V^L&(I^V))+M[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=L+(I^V&(b^I))+M[6]+3225465664&4294967295,L=b+(w<<9&4294967295|w>>>23),w=V+(b^I&(L^b))+M[11]+643717713&4294967295,V=L+(w<<14&4294967295|w>>>18),w=I+(L^b&(V^L))+M[0]+3921069994&4294967295,I=V+(w<<20&4294967295|w>>>12),w=b+(V^L&(I^V))+M[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=L+(I^V&(b^I))+M[10]+38016083&4294967295,L=b+(w<<9&4294967295|w>>>23),w=V+(b^I&(L^b))+M[15]+3634488961&4294967295,V=L+(w<<14&4294967295|w>>>18),w=I+(L^b&(V^L))+M[4]+3889429448&4294967295,I=V+(w<<20&4294967295|w>>>12),w=b+(V^L&(I^V))+M[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=L+(I^V&(b^I))+M[14]+3275163606&4294967295,L=b+(w<<9&4294967295|w>>>23),w=V+(b^I&(L^b))+M[3]+4107603335&4294967295,V=L+(w<<14&4294967295|w>>>18),w=I+(L^b&(V^L))+M[8]+1163531501&4294967295,I=V+(w<<20&4294967295|w>>>12),w=b+(V^L&(I^V))+M[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=L+(I^V&(b^I))+M[2]+4243563512&4294967295,L=b+(w<<9&4294967295|w>>>23),w=V+(b^I&(L^b))+M[7]+1735328473&4294967295,V=L+(w<<14&4294967295|w>>>18),w=I+(L^b&(V^L))+M[12]+2368359562&4294967295,I=V+(w<<20&4294967295|w>>>12),w=b+(I^V^L)+M[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=L+(b^I^V)+M[8]+2272392833&4294967295,L=b+(w<<11&4294967295|w>>>21),w=V+(L^b^I)+M[11]+1839030562&4294967295,V=L+(w<<16&4294967295|w>>>16),w=I+(V^L^b)+M[14]+4259657740&4294967295,I=V+(w<<23&4294967295|w>>>9),w=b+(I^V^L)+M[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=L+(b^I^V)+M[4]+1272893353&4294967295,L=b+(w<<11&4294967295|w>>>21),w=V+(L^b^I)+M[7]+4139469664&4294967295,V=L+(w<<16&4294967295|w>>>16),w=I+(V^L^b)+M[10]+3200236656&4294967295,I=V+(w<<23&4294967295|w>>>9),w=b+(I^V^L)+M[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=L+(b^I^V)+M[0]+3936430074&4294967295,L=b+(w<<11&4294967295|w>>>21),w=V+(L^b^I)+M[3]+3572445317&4294967295,V=L+(w<<16&4294967295|w>>>16),w=I+(V^L^b)+M[6]+76029189&4294967295,I=V+(w<<23&4294967295|w>>>9),w=b+(I^V^L)+M[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=L+(b^I^V)+M[12]+3873151461&4294967295,L=b+(w<<11&4294967295|w>>>21),w=V+(L^b^I)+M[15]+530742520&4294967295,V=L+(w<<16&4294967295|w>>>16),w=I+(V^L^b)+M[2]+3299628645&4294967295,I=V+(w<<23&4294967295|w>>>9),w=b+(V^(I|~L))+M[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=L+(I^(b|~V))+M[7]+1126891415&4294967295,L=b+(w<<10&4294967295|w>>>22),w=V+(b^(L|~I))+M[14]+2878612391&4294967295,V=L+(w<<15&4294967295|w>>>17),w=I+(L^(V|~b))+M[5]+4237533241&4294967295,I=V+(w<<21&4294967295|w>>>11),w=b+(V^(I|~L))+M[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=L+(I^(b|~V))+M[3]+2399980690&4294967295,L=b+(w<<10&4294967295|w>>>22),w=V+(b^(L|~I))+M[10]+4293915773&4294967295,V=L+(w<<15&4294967295|w>>>17),w=I+(L^(V|~b))+M[1]+2240044497&4294967295,I=V+(w<<21&4294967295|w>>>11),w=b+(V^(I|~L))+M[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=L+(I^(b|~V))+M[15]+4264355552&4294967295,L=b+(w<<10&4294967295|w>>>22),w=V+(b^(L|~I))+M[6]+2734768916&4294967295,V=L+(w<<15&4294967295|w>>>17),w=I+(L^(V|~b))+M[13]+1309151649&4294967295,I=V+(w<<21&4294967295|w>>>11),w=b+(V^(I|~L))+M[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=L+(I^(b|~V))+M[11]+3174756917&4294967295,L=b+(w<<10&4294967295|w>>>22),w=V+(b^(L|~I))+M[2]+718787259&4294967295,V=L+(w<<15&4294967295|w>>>17),w=I+(L^(V|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(V+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,M=this.C;let V=this.h,L=0;for(;L<b;){if(V==0)for(;L<=I;)l(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<b;)if(M[V++]=C.charCodeAt(L++),V==this.blockSize){l(this,M),V=0;break}}else for(;L<b;)if(M[V++]=C[L++],V==this.blockSize){l(this,M),V=0;break}}this.h=V,this.o+=b},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[b++]=this.g[I]>>>M&255;return C};function c(C,b){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;const I=[];let M=!0;for(let V=C.length-1;V>=0;V--){const L=C[V]|0;M&&L==b||(I[V]=L,M=!1)}this.g=I}var p={};function _(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return et(y(-C));const b=[];let I=1;for(let M=0;C>=I;M++)b[M]=C/I|0,I*=4294967296;return new d(b,0)}function T(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return et(T(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(b,8));let M=S;for(let L=0;L<C.length;L+=8){var V=Math.min(8,C.length-L);const w=parseInt(C.substring(L,L+V),b);V<8?(V=y(Math.pow(b,V)),M=M.j(V).add(y(w))):(M=M.j(I),M=M.add(y(w)))}return M}var S=_(0),N=_(1),F=_(16777216);s=d.prototype,s.m=function(){if(W(this))return-et(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*b,b*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if($(this))return"0";if(W(this))return"-"+et(this).toString(C);const b=y(Math.pow(C,6));var I=this;let M="";for(;;){const V=vt(I,b).g;I=dt(I,V.j(b));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=V,$(I))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function $(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function W(C){return C.h==-1}s.l=function(C){return C=dt(this,C),W(C)?-1:$(C)?0:1};function et(C){const b=C.g.length,I=[];for(let M=0;M<b;M++)I[M]=~C.g[M];return new d(I,~C.h).add(N)}s.abs=function(){return W(this)?et(this):this},s.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let V=0;V<=b;V++){let L=M+(this.i(V)&65535)+(C.i(V)&65535),w=(L>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);M=w>>>16,L&=65535,w&=65535,I[V]=w<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function dt(C,b){return C.add(et(b))}s.j=function(C){if($(this)||$(C))return S;if(W(this))return W(C)?et(this).j(et(C)):et(et(this).j(C));if(W(C))return et(this.j(et(C)));if(this.l(F)<0&&C.l(F)<0)return y(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var M=0;M<2*b;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<C.g.length;V++){const L=this.i(M)>>>16,w=this.i(M)&65535,Wt=C.i(V)>>>16,pe=C.i(V)&65535;I[2*M+2*V]+=w*pe,_t(I,2*M+2*V),I[2*M+2*V+1]+=L*pe,_t(I,2*M+2*V+1),I[2*M+2*V+1]+=w*Wt,_t(I,2*M+2*V+1),I[2*M+2*V+2]+=L*Wt,_t(I,2*M+2*V+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new d(I,0)};function _t(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function ut(C,b){this.g=C,this.h=b}function vt(C,b){if($(b))throw Error("division by zero");if($(C))return new ut(S,S);if(W(C))return b=vt(et(C),b),new ut(et(b.g),et(b.h));if(W(b))return b=vt(C,et(b)),new ut(et(b.g),b.h);if(C.g.length>30){if(W(C)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var I=N,M=b;M.l(C)<=0;)I=ae(I),M=ae(M);var V=xt(I,1),L=xt(M,1);for(M=xt(M,2),I=xt(I,2);!$(M);){var w=L.add(M);w.l(C)<=0&&(V=V.add(I),L=w),M=xt(M,1),I=xt(I,1)}return b=dt(C,V.j(b)),new ut(V,b)}for(V=S;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=y(I),w=L.j(b);W(w)||w.l(C)>0;)I-=M,L=y(I),w=L.j(b);$(L)&&(L=N),V=V.add(L),C=dt(C,w)}return new ut(V,C)}s.B=function(C){return vt(this,C).h},s.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},s.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},s.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function ae(C){const b=C.g.length+1,I=[];for(let M=0;M<b;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function xt(C,b){const I=b>>5;b%=32;const M=C.g.length-I,V=[];for(let L=0;L<M;L++)V[L]=b>0?C.i(L+I)>>>b|C.i(L+I+1)<<32-b:C.i(L+I);return new d(V,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,zT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,ur=d}).apply(typeof jv<"u"?jv:typeof self<"u"?self:typeof window<"u"?window:{});var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var BT,Ol,jT,Jc,gm,qT,HT,FT;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof jc=="object"&&jc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in v))break t;v=v[U]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,U,B){for(var tt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)tt[Rt-2]=arguments[Rt];return m.prototype[U].apply(A,tt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function $(u,m){for(let A=1;A<arguments.length;A++){const U=arguments[A];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=U[tt]}else u.push(U)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,v){const A=ut.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ut=new W(()=>new vt,u=>u.reset());class vt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,xt=!1,C=new _t,b=()=>{const u=Promise.resolve(void 0);ae=()=>{u.then(I)}};function I(){for(var u;u=dt();){try{u.h.call(u.g)}catch(v){et(v)}var m=ut;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}xt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Wt(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Wt,V),Wt.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Wt.Z.h.call(this)},Wt.prototype.h=function(){Wt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),q=0;function nt(u,m,v,A,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=U,this.key=++q,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Ht(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function D(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)u[v]=A[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,A,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=Et(u,m,A,U);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!A,U),m.fa=v,u.push(m)),m};function mt(u,m){const v=m.type;if(v in u.g){var A=u.g[v],U=Array.prototype.indexOf.call(A,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(A,U,1),B&&(ct(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Et(u,m,v,A){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==A)return U}return-1}var Dt="closure_lm_"+(Math.random()*1e6|0),Ee={};function Xt(u,m,v,A,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Xt(u,m[B],v,A,U);return null}return v=Er(v),u&&u[pe]?u.J(m,v,p(A)?!!A.capture:!1,U):Zn(u,m,v,!1,A,U)}function Zn(u,m,v,A,U,B){if(!m)throw Error("Invalid event type");const tt=p(U)?!!U.capture:!!U;let Rt=An(u);if(Rt||(u[Dt]=Rt=new rt(u)),v=Rt.add(m,v,A,tt,B),v.proxy)return v;if(A=Mn(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)L||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),A,U);else if(u.attachEvent)u.attachEvent(xn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Mn(){function u(v){return m.call(u.src,u.listener,v)}const m=vs;return u}function Pe(u,m,v,A,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Pe(u,m[B],v,A,U);else A=p(A)?!!A.capture:!!A,v=Er(v),u&&u[pe]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Et(m,v,A,U),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=An(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Et(m,v,A,U)),(v=u>-1?m[u]:null)&&ge(v))}function ge(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[pe])mt(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(xn(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=An(m))?(mt(v,u),v.h==0&&(v.src=null,m[Dt]=null)):ct(u)}}}function xn(u){return u in Ee?Ee[u]:Ee[u]="on"+u}function vs(u,m){if(u.da)u=!0;else{m=new Wt(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&ge(u),u=v.call(A,m)}return u}function An(u){return u=u[Dt],u instanceof rt?u:null}var Es="__closure_events_fn_"+(Math.random()*1e9>>>0);function Er(u){return typeof u=="function"?u:(u[Es]||(u[Es]=function(m){return u.handleEvent(m)}),u[Es])}function Nt(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}S(Nt,M),Nt.prototype[pe]=!0,Nt.prototype.removeEventListener=function(u,m,v,A){Pe(this,u,m,v,A)};function X(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var U=m;m=new V(A,u),it(m,U)}U=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],U=Tt(B,A,!0,m)&&U;if(B=m.g=u,U=Tt(B,A,!0,m)&&U,U=Tt(B,A,!1,m)&&U,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],U=Tt(B,A,!1,m)&&U}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)ct(v[A]);delete u.g[m],u.h--}}this.G=null},Nt.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},Nt.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function Tt(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const Rt=tt.listener,Ae=tt.ha||tt.src;tt.fa&&mt(u.i,tt),U=Rt.call(Ae,A)!==!1&&U}}return U&&!A.defaultPrevented}function Ge(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ts(u){u.g=Ge(()=>{u.g=null,u.i&&(u.i=!1,Ts(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ln extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ts(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(u){M.call(this),this.h=u,this.g={}}S(Tr,M);var Io=[];function Co(u){Lt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ge(m)},u),u.g={}}Tr.prototype.N=function(){Tr.Z.N.call(this),Co(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var As=d.JSON.stringify,Gh=d.JSON.parse,fu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function du(){}function mu(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){V.call(this,"d")}S(Qe,V);function Ln(){V.call(this,"c")}S(Ln,V);var Te={},pu=null;function da(){return pu=pu||new Nt}Te.Ia="serverreachability";function gu(u){V.call(this,Te.Ia,u)}S(gu,V);function mi(u){const m=da();X(m,new gu(m))}Te.STAT_EVENT="statevent";function Ar(u,m){V.call(this,Te.STAT_EVENT,u),this.stat=m}S(Ar,V);function Re(u){const m=da();X(m,new Ar(m,u))}Te.Ja="timingevent";function pi(u,m){V.call(this,Te.Ja,u),this.size=m}S(pi,V);function gi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function Qh(u,m,v,A,U,B){u.info(function(){if(u.g)if(B){var tt="",Rt=B.split("&");for(let Qt=0;Qt<Rt.length;Qt++){var Ae=Rt[Qt].split("=");if(Ae.length>1){const he=Ae[0];Ae=Ae[1];const zn=he.split("_");tt=zn.length>=2&&zn[1]=="type"?tt+(he+"="+Ae+"&"):tt+(he+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+v+`
`+tt})}function yu(u,m,v,A,U,B,tt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+tt})}function yi(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Kh(u,v)+(A?" "+A:"")})}function Sr(u,m){u.info(function(){return"TIMEOUT: "+m})}Wn.prototype.info=function(){};function Kh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let tt=1;tt<A.length;tt++)A[tt]=""}}}}return As(B)}catch{return m}}var br={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},No={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Do;function wr(){}S(wr,du),wr.prototype.g=function(){return new XMLHttpRequest},Do=new wr;function Fi(u){return encodeURIComponent(String(u))}function _u(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ti(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new Tr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var Ie={},je={};function _i(u,m,v){u.M=1,u.A=Rr(Ne(m)),u.u=v,u.R=!0,ma(u,null)}function ma(u,m){u.F=Date.now(),vi(u),u.B=Ne(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),_a(v.i,"t",A),u.C=0,v=u.j.L,u.h=new ei,u.g=Mu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new ln(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Io[0]=U.toString()),U=Io);for(let B=0;B<U.length;B++){const tt=Xt(v,U[B],A||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),mi(),Qh(u.i,u.v,u.B,u.l,u.S,u.u)}ti.prototype.ba=function(u){u=u.target;const m=this.O;m&&si(u)==3?m.j():this.Y(u)},ti.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=si(this.g),Ae=this.g.ya(),Qt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||Rt!=4||Ae==7||(Ae==8||Qt<=0?mi(3):mi(2)),Ei(this);var m=this.g.ca();this.X=m;var v=Yh(this);if(this.o=m==200,yu(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(A)){var B=A;break e}}B=null}if(u=B)yi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,u);else{this.o=!1,this.m=3,Re(12),Sn(this),Un(this);break t}}if(this.R){u=!0;let he;for(;!this.K&&this.C<v.length;)if(he=Eu(this,v),he==je){Rt==4&&(this.m=4,Re(14),u=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(he==Ie){this.m=4,Re(15),yi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else yi(this.i,this.l,he,null),Ti(this,he);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||v.length!=0||this.h.h||(this.m=1,Re(16),u=!1),this.o=this.o&&u,!u)yi(this.i,this.l,v,"[Invalid Chunked Response]"),Sn(this),Un(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Go(tt),tt.P=!0,Re(11))}}else yi(this.i,this.l,v,null),Ti(this,v);Rt==4&&Sn(this),this.o&&!this.K&&(Rt==4?Nu(this.j,this):(this.o=!1,vi(this)))}else Qi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),Sn(this),Un(this)}}}catch{}};function Yh(u){if(!vu(u))return u.g.la();const m=Ke(u.g);if(m==="")return"";let v="";const A=m.length,U=si(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Sn(u),Un(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<A;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function vu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Eu(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?je:(v=Number(m.substring(v,A)),isNaN(v)?Ie:(A+=1,A+v>m.length?je:(m=m.slice(A,A+v),u.C=A+v,m)))}ti.prototype.cancel=function(){this.K=!0,Sn(this)};function vi(u){u.T=Date.now()+u.H,pa(u,u.H)}function pa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=gi(y(u.aa,u),m)}function Ei(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ti.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Sr(this.i,this.B),this.M!=2&&(mi(),Re(17)),Sn(this),this.m=2,Un(this)):pa(this,this.T-u)};function Un(u){u.j.I==0||u.K||Nu(u.j,u)}function Sn(u){Ei(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Co(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ti(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Si(v.h,u))){if(!u.L&&Si(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Sa(v),Ds(v);else break t;Mr(v),Re(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=gi(y(v.Va,v),6e3));Ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ni(v,11)}else if((u.L||v.g==u)&&Sa(v),!w(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Qt=U[m];const he=Qt[0];if(!(he<=v.K))if(v.K=he,Qt=Qt[1],v.I==2)if(Qt[0]=="c"){v.M=Qt[1],v.ba=Qt[2];const zn=Qt[3];zn!=null&&(v.ka=zn,v.j.info("VER="+v.ka));const Di=Qt[4];Di!=null&&(v.za=Di,v.j.info("SVER="+v.za));const ri=Qt[5];ri!=null&&typeof ri=="number"&&ri>0&&(A=1.5*ri,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const ai=u.g;if(ai){const xr=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xr){var B=A.h;B.g||xr.indexOf("spdy")==-1&&xr.indexOf("quic")==-1&&xr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Mo(B,B.h),B.h=null))}if(A.G){const ba=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(A.wa=ba,Jt(A.J,A.G,ba))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var tt=u;if(A.na=Vu(A,A.L?A.ba:null,A.W),tt.L){xo(A.h,tt);var Rt=tt,Ae=A.O;Ae&&(Rt.H=Ae),Rt.D&&(Ei(Rt),vi(Rt)),A.g=tt}else Iu(A);v.i.length>0&&Ci(v)}else Qt[0]!="stop"&&Qt[0]!="close"||Ni(v,7);else v.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Ni(v,7):Ho(v):Qt[0]!="noop"&&v.l&&v.l.qa(Qt),v.A=0)}}mi(4)}catch{}}var Ce=class{constructor(u,m){this.g=u,this.map=m}};function Oo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ai(u){return u.h?1:u.g?u.g.size:0}function Si(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Mo(u,m){u.g?u.g.add(m):u.h=m}function xo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Oo.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Lo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var Tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let U,B=null;A>=0?(U=u[v].substring(0,A),B=u[v].substring(A+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof bn?(this.l=u.l,qe(this,u.j),this.o=u.o,this.g=u.g,Ss(this,u.u),this.h=u.h,Uo(this,wu(u.i)),this.m=u.m):u&&(m=String(u).match(Tu))?(this.l=!1,qe(this,m[1]||"",!0),this.o=bi(m[2]||""),this.g=bi(m[3]||"",!0),Ss(this,m[4]),this.h=bi(m[5]||"",!0),Uo(this,m[6]||"",!0),this.m=bi(m[7]||"")):(this.l=!1,this.i=new ws(null,this.l))}bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ir(m,ya,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ir(m,ya,!0),"@"),u.push(Fi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ir(v,v.charAt(0)=="/"?ko:Au,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ir(v,Su)),u.join("")},bn.prototype.resolve=function(u){const m=Ne(this);let v=!!u.j;v?qe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)Ss(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=m.h.lastIndexOf("/");U!=-1&&(A=m.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let tt=0;tt<U.length;){const Rt=U[tt++];Rt=="."?A&&tt==U.length&&B.push(""):Rt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&tt==U.length&&B.push("")):(B.push(Rt),A=!0)}A=B.join("/")}else A=U}return v?m.h=A:v=u.i.toString()!=="",v?Uo(m,wu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ne(u){return new bn(u)}function qe(u,m,v){u.j=v?bi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ss(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Uo(u,m,v){m instanceof ws?(u.i=m,va(u.i,u.l)):(v||(m=Ir(m,bs)),u.i=new ws(m,u.l))}function Jt(u,m,v){u.i.set(m,v)}function Rr(u){return Jt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function bi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ir(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,dn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function dn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ya=/[#\/\?@]/g,Au=/[#\?:]/g,ko=/[#\?]/g,bs=/[#\?@]/g,Su=/#/g;function ws(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function mn(u){u.g||(u.g=new Map,u.h=0,u.i&&ga(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ws.prototype,s.add=function(u,m){mn(this),this.i=null,u=Rs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function bu(u,m){mn(u),m=Rs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Po(u,m){return mn(u),m=Rs(u,m),u.g.has(m)}s.forEach=function(u,m){mn(this),this.g.forEach(function(v,A){v.forEach(function(U){u.call(m,U,A,this)},this)},this)};function zo(u,m){mn(u);let v=[];if(typeof m=="string")Po(u,m)&&(v=v.concat(u.g.get(Rs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return mn(this),this.i=null,u=Rs(this,u),Po(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=zo(this,u),u.length>0?String(u[0]):m):m};function _a(u,m,v){bu(u,m),v.length>0&&(u.i=null,u.g.set(Rs(u,m),F(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const U=Fi(v);v=zo(this,v);for(let B=0;B<v.length;B++){let tt=U;v[B]!==""&&(tt+="="+Fi(v[B])),u.push(tt)}}return this.i=u.join("&")};function wu(u){const m=new ws;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Rs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function va(u,m){m&&!u.j&&(mn(u),u.i=null,u.g.forEach(function(v,A){const U=A.toLowerCase();A!=U&&(bu(this,A),_a(this,U,v))},u)),u.j=m}function ni(u,m){const v=new Wn;if(d.Image){const A=new Image;A.onload=T(kn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(kn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(kn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(kn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Bo(u,m){const v=new Wn,A=new AbortController,U=setTimeout(()=>{A.abort(),kn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(B=>{clearTimeout(U),B.ok?kn(v,"TestPingServer: ok",!0,m):kn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),kn(v,"TestPingServer: error",!1,m)})}function kn(u,m,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function Is(){this.g=new fu}function wi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(wi,du),wi.prototype.g=function(){return new Cr(this.i,this.h)};function Cr(u,m){Nt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Cr,Nt),s=Cr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ii(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Cs(this):ii(this),this.readyState==3&&Ea(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Cs(this))},s.Na=function(u){this.g&&(this.response=u,Cs(this))},s.ga=function(){this.g&&Cs(this)};function Cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ii(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ii(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Pn(u){let m="";return Lt(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Nr(u,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Pn(v),typeof u=="string"?v!=null&&Fi(v):Jt(u,m,v))}function te(u){Nt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(te,Nt);var Ri=/^https?$/i,jo=["POST","PUT"];s=te.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Do.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Dr(this,B);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())v.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(jo,m,void 0)>=0)||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Dr(this,B)}};function Dr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,qo(u),Gi(u)}function qo(u){u.A||(u.A=!0,X(u,"complete"),X(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,X(this,"complete"),X(this,"abort"),Gi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),te.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Or(this):this.Xa())},s.Xa=function(){Or(this)};function Or(u){if(u.h&&typeof c<"u"){if(u.v&&si(u)==4)setTimeout(u.Ca.bind(u),0);else if(X(u,"readystatechange"),si(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=B===0){let tt=String(u.D).match(Tu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),A=!Ri.test(tt?tt.toLowerCase():"")}v=A}if(v)X(u,"complete"),X(u,"success");else{u.o=6;try{var U=si(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",qo(u)}}finally{Gi(u)}}}}function Gi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||X(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function si(u){return u.g?u.g.readyState:0}s.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Gh(m)}};function Ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(u){const m={};u=(u.g&&si(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(w(u[A]))continue;var v=_u(u[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Ht(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ns(u){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,u),this.Za=Ii("retryDelaySeedMs",1e4,u),this.Ta=Ii("forwardChannelMaxRetries",2,u),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Oo(u&&u.concurrentRequestLimit),this.Ba=new Is,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ns.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){Re(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Vu(this,null,this.W),Ci(this)};function Ho(u){if(Ta(u),u.I==3){var m=u.V++,v=Ne(u.J);if(Jt(v,"SID",u.M),Jt(v,"RID",m),Jt(v,"TYPE","terminate"),Vr(u,v),m=new ti(u,u.j,m),m.M=2,m.A=Rr(Ne(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Mu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),vi(m)}Ou(u)}function Ds(u){u.g&&(Go(u),u.g.cancel(),u.g=null)}function Ta(u){Ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),Sa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ci(u){if(!Vo(u.h)&&!u.m){u.m=!0;var m=u.Ea;ae||b(),xt||(ae(),xt=!0),C.add(m,u),u.D=0}}function Aa(u,m){return Ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=gi(y(u.Ea,u,m),Du(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new ti(this,this.j,u);let B=this.o;if(this.U&&(B?(B=D(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Ru(this,U,m),v=Ne(this.J),Jt(v,"RID",u),Jt(v,"CVER",22),this.G&&Jt(v,"X-HTTP-Session-Id",this.G),Vr(this,v),B&&(this.R?m="headers="+Fi(Pn(B))+"&"+m:this.u&&Nr(v,this.u,B)),Mo(this.h,U),this.Ra&&Jt(v,"TYPE","init"),this.S?(Jt(v,"$req",m),Jt(v,"SID","null"),U.U=!0,_i(U,v,null)):_i(U,v,m),this.I=2}}else this.I==3&&(u?Fo(this,u):this.i.length==0||Vo(this.h)||Fo(this))};function Fo(u,m){var v;m?v=m.l:v=u.V++;const A=Ne(u.J);Jt(A,"SID",u.M),Jt(A,"RID",v),Jt(A,"AID",u.K),Vr(u,A),u.u&&u.o&&Nr(A,u.u,u.o),v=new ti(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Ru(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Mo(u.h,v),_i(v,A,m)}function Vr(u,m){u.H&&Lt(u.H,function(v,A){Jt(m,A,v)}),u.l&&Lt({},function(v,A){Jt(m,A,v)})}function Ru(u,m,v){v=Math.min(u.i.length,v);const A=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let Rt=-1;for(;;){const Ae=["count="+v];Rt==-1?v>0?(Rt=U[0].g,Ae.push("ofs="+Rt)):Rt=0:Ae.push("ofs="+Rt);let Qt=!0;for(let he=0;he<v;he++){var B=U[he].g;const zn=U[he].map;if(B-=Rt,B<0)Rt=Math.max(0,U[he].g-100),Qt=!1;else try{B="req"+B+"_"||"";try{var tt=zn instanceof Map?zn:Object.entries(zn);for(const[Di,ri]of tt){let ai=ri;p(ri)&&(ai=As(ri)),Ae.push(B+Di+"="+encodeURIComponent(ai))}}catch(Di){throw Ae.push(B+"type="+encodeURIComponent("_badmap")),Di}}catch{A&&A(zn)}}if(Qt){tt=Ae.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function Iu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ae||b(),xt||(ae(),xt=!0),C.add(m,u),u.A=0}}function Mr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=gi(y(u.Da,u),Du(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=gi(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),Ds(this),Cu(this))};function Go(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Cu(u){u.g=new ti(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ne(u.na);Jt(m,"RID","rpc"),Jt(m,"SID",u.M),Jt(m,"AID",u.K),Jt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Jt(m,"TO",u.ia),Jt(m,"TYPE","xmlhttp"),Vr(u,m),u.u&&u.o&&Nr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Rr(Ne(m)),v.u=null,v.R=!0,ma(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ds(this),Mr(this),Re(19))};function Sa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Nu(u,m){var v=null;if(u.g==m){Sa(u),Go(u),u.g=null;var A=2}else if(Si(u.h,m))v=m.G,xo(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;A=da(),X(A,new pi(A,v)),Ci(u)}else Iu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(A==1&&Aa(u,m)||A==2&&Mr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Ni(u,5);break;case 4:Ni(u,10);break;case 3:Ni(u,6);break;default:Ni(u,2)}}}function Du(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ni(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),A=u.Ua;const U=!A;A=new bn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qe(A,"https"),Rr(A),U?ni(A.toString(),v):Bo(A.toString(),v)}else Re(2);u.I=0,u.l&&u.l.pa(m),Ou(u),Ta(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function Ou(u){if(u.I=0,u.ja=[],u.l){const m=Lo(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Vu(u,m,v){var A=v instanceof bn?Ne(v):new bn(v);if(A.g!="")m&&(A.g=m+"."+A.g),Ss(A,A.u);else{var U=d.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new bn(null);A&&qe(B,A),m&&(B.g=m),U&&Ss(B,U),v&&(B.h=v),A=B}return v=u.G,m=u.wa,v&&m&&Jt(A,v,m),Jt(A,"VER",u.ka),Vr(u,A),A}function Mu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new te(new wi({ab:v})):new te(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}s=xu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Os(){}Os.prototype.g=function(u,m){return new un(u,m)};function un(u,m){Nt.call(this),this.g=new Ns(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ki(this)}S(un,Nt),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Ho(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=As(u),u=v);m.i.push(new Ce(m.Ya++,u)),m.I==3&&Ci(m)},un.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,un.Z.N.call(this)};function Lu(u){Qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Lu,Qe);function Uu(){Ln.call(this),this.status=1}S(Uu,Ln);function Ki(u){this.g=u}S(Ki,xu),Ki.prototype.ra=function(){X(this.g,"a")},Ki.prototype.qa=function(u){X(this.g,new Lu(u))},Ki.prototype.pa=function(u){X(this.g,new Uu)},Ki.prototype.oa=function(){X(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,FT=function(){return new Os},HT=function(){return da()},qT=Te,gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,Jc=br,No.COMPLETE="complete",jT=No,mu.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,Ol=mu,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,BT=te}).apply(typeof jc<"u"?jc:typeof self<"u"?self:typeof window<"u"?window:{});class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let So="12.10.0";function qR(s){So=s}const ra=new Um("@firebase/firestore");function to(){return ra.logLevel}function at(s,...t){if(ra.logLevel<=Pt.DEBUG){const i=t.map(Jm);ra.debug(`Firestore (${So}): ${s}`,...i)}}function ps(s,...t){if(ra.logLevel<=Pt.ERROR){const i=t.map(Jm);ra.error(`Firestore (${So}): ${s}`,...i)}}function aa(s,...t){if(ra.logLevel<=Pt.WARN){const i=t.map(Jm);ra.warn(`Firestore (${So}): ${s}`,...i)}}function Jm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function gt(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,GT(s,r,i)}function GT(s,t,i){let r=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ps(r),new Error(r)}function Yt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||GT(t,l,r)}function bt(s,t){return s}const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends ys{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class QT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class HR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(sn.UNAUTHENTICATED)))}shutdown(){}}class FR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class GR{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Yt(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new fs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new fs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yt(typeof r.accessToken=="string",31837,{l:r}),new QT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class QR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class KR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new QR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Yt(this.o===void 0,3512);const r=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new qv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function XR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Zm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=XR(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function zt(s,t){return s<t?-1:s>t?1:0}function ym(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return nm(l)===nm(c)?zt(l,c):nm(l)?1:-1}return zt(s.length,t.length)}const JR=55296,ZR=57343;function nm(s){const t=s.charCodeAt(0);return t>=JR&&t<=ZR}function ho(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}const Hv="__name__";class Li{constructor(t,i,r){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&gt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Li.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Li?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Li.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return zt(t.length,i.length)}static compareSegments(t,i){const r=Li.isNumericId(t),l=Li.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Li.extractNumericId(t).compare(Li.extractNumericId(i)):ym(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ur.fromString(t.substring(4,t.length-2))}}class re extends Li{construct(t,i,r){return new re(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new st(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new re(i)}static emptyPath(){return new re([])}}const $R=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Li{construct(t,i,r){return new We(t,i,r)}static isValidIdentifier(t){return $R.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hv}static keyField(){return new We([Hv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new st(G.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new st(G.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new st(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new st(G.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(i)}static emptyPath(){return new We([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(re.fromString(t))}static fromName(t){return new ft(re.fromString(t).popFirst(5))}static empty(){return new ft(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return re.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new re(t.slice()))}}function $m(s,t,i){if(!i)throw new st(G.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function WR(s,t,i,r){if(t===!0&&r===!0)throw new st(G.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Fv(s){if(!ft.isDocumentKey(s))throw new st(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Gv(s){if(ft.isDocumentKey(s))throw new st(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function KT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Rh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function an(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new st(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Rh(s);throw new st(G.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ue(s,t){const i={typeString:s};return t&&(i.value=t),i}function nu(s,t){if(!KT(s))throw new st(G.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new st(G.INVALID_ARGUMENT,i);return!0}const Qv=-62135596800,Kv=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(t){return ue.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*Kv);return new ue(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new st(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Qv)throw new st(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Kv}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(nu(t,ue._jsonSchema))return new ue(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Qv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:Ue("string",ue._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new ue(0,0))}static max(){return new At(new ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Hl=-1;function tI(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=At.fromTimestamp(r===1e9?new ue(i+1,0):new ue(i,r));return new hr(l,ft.empty(),t)}function eI(s){return new hr(s.readTime,s.key,Hl)}class hr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new hr(At.min(),ft.empty(),Hl)}static max(){return new hr(At.max(),ft.empty(),Hl)}}function nI(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,t.documentKey),i!==0?i:zt(s.largestBatchId,t.largestBatchId))}const iI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function bo(s){if(s.code!==G.FAILED_PRECONDITION||s.message!==iI)throw s;at("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,r)=>{i(t)}))}static reject(t){return new J(((i,r)=>{r(t)}))}static waitFor(t){return new J(((i,r)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(t){let i=J.resolve(!1);for(const r of t)i=i.next((l=>l?J.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new J(((r,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((T=>{d[y]=T,++p,p===c&&r(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new J(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function rI(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function wo(s){return s.name==="IndexedDbTransactionError"}class Ih{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ih.ce=-1;const Wm=-1;function Ch(s){return s==null}function ch(s){return s===0&&1/s==-1/0}function aI(s){return typeof s=="number"&&Number.isInteger(s)&&!ch(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const YT="";function oI(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Yv(t)),t=lI(s.get(i),t);return Yv(t)}function lI(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case YT:i+="";break;default:i+=c}}return i}function Yv(s){return s+YT+""}function Xv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function _r(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function XT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class me{constructor(t,i){this.comparator=t,this.root=i||$e.EMPTY}insert(t,i){return new me(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new qc(this.root,t,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new qc(this.root,t,this.comparator,!0)}}class qc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??$e.RED,this.left=l??$e.EMPTY,this.right=c??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new $e(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return $e.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new $e(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Be{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Jv(this.data.getIterator())}getIteratorFrom(t){return new Jv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Be)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Be(this.comparator);return i.data=t,i}}class Jv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vn{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new Vn([])}unionWith(t){let i=new Be(We.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Vn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ho(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class JT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new JT("Invalid base64 string: "+c):c}})(t);return new tn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new tn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const uI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(s){if(Yt(!!s,39018),typeof s=="string"){let t=0;const i=uI.exec(s);if(Yt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:we(s.seconds),nanos:we(s.nanos)}}function we(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function dr(s){return typeof s=="string"?tn.fromBase64String(s):tn.fromUint8Array(s)}const ZT="server_timestamp",$T="__type__",WT="__previous_value__",t0="__local_write_time__";function tp(s){return(s?.mapValue?.fields||{})[$T]?.stringValue===ZT}function Nh(s){const t=s.mapValue.fields[WT];return tp(t)?Nh(t):t}function Fl(s){const t=fr(s.mapValue.fields[t0].timestampValue);return new ue(t.seconds,t.nanos)}class cI{constructor(t,i,r,l,c,d,p,_,y,T,S){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=S}}const hh="(default)";class Gl{constructor(t,i){this.projectId=t,this.database=i||hh}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===hh}isEqual(t){return t instanceof Gl&&t.projectId===this.projectId&&t.database===this.database}}function hI(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new st(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(s.options.projectId,t)}const e0="__type__",fI="__max__",Hc={mapValue:{}},n0="__vector__",fh="value";function mr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?tp(s)?4:mI(s)?9007199254740991:dI(s)?10:11:gt(28295,{value:s})}function qi(s,t){if(s===t)return!0;const i=mr(s);if(i!==mr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Fl(s).isEqual(Fl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=fr(l.timestampValue),p=fr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return dr(l.bytesValue).isEqual(dr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return we(l.geoPointValue.latitude)===we(c.geoPointValue.latitude)&&we(l.geoPointValue.longitude)===we(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return we(l.integerValue)===we(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=we(l.doubleValue),p=we(c.doubleValue);return d===p?ch(d)===ch(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return ho(s.arrayValue.values||[],t.arrayValue.values||[],qi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Xv(d)!==Xv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!qi(d[_],p[_])))return!1;return!0})(s,t);default:return gt(52216,{left:s})}}function Ql(s,t){return(s.values||[]).find((i=>qi(i,t)))!==void 0}function fo(s,t){if(s===t)return 0;const i=mr(s),r=mr(t);if(i!==r)return zt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return zt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=we(c.integerValue||c.doubleValue),_=we(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,t);case 3:return Zv(s.timestampValue,t.timestampValue);case 4:return Zv(Fl(s),Fl(t));case 5:return ym(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=dr(c),_=dr(d);return p.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const T=zt(p[y],_[y]);if(T!==0)return T}return zt(p.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=zt(we(c.latitude),we(d.latitude));return p!==0?p:zt(we(c.longitude),we(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return $v(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[fh]?.arrayValue,T=_[fh]?.arrayValue,S=zt(y?.values?.length||0,T?.values?.length||0);return S!==0?S:$v(y,T)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Hc.mapValue&&d===Hc.mapValue)return 0;if(c===Hc.mapValue)return 1;if(d===Hc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let S=0;S<_.length&&S<T.length;++S){const N=ym(_[S],T[S]);if(N!==0)return N;const F=fo(p[_[S]],y[T[S]]);if(F!==0)return F}return zt(_.length,T.length)})(s.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function Zv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return zt(s,t);const i=fr(s),r=fr(t),l=zt(i.seconds,r.seconds);return l!==0?l:zt(i.nanos,r.nanos)}function $v(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=fo(i[l],r[l]);if(c)return c}return zt(i.length,r.length)}function mo(s){return _m(s)}function _m(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=fr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return dr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ft.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=_m(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${_m(i.fields[d])}`;return l+"}"})(s.mapValue):gt(61005,{value:s})}function Zc(s){switch(mr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Nh(s);return t?16+Zc(t):16;case 5:return 2*s.stringValue.length;case 6:return dr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Zc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return _r(r.fields,((c,d)=>{l+=c.length+Zc(d)})),l})(s.mapValue);default:throw gt(13486,{value:s})}}function Wv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function vm(s){return!!s&&"integerValue"in s}function ep(s){return!!s&&"arrayValue"in s}function tE(s){return!!s&&"nullValue"in s}function eE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function $c(s){return!!s&&"mapValue"in s}function dI(s){return(s?.mapValue?.fields||{})[e0]?.stringValue===n0}function kl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return _r(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=kl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=kl(s.arrayValue.values[i]);return t}return{...s}}function mI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===fI}class Tn{constructor(t){this.value=t}static empty(){return new Tn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!$c(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=kl(i)}setAll(t){let i=We.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=kl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());$c(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return qi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];$c(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){_r(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new Tn(kl(this.value))}}function i0(s){const t=[];return _r(s.fields,((i,r)=>{const l=new We([i]);if($c(r)){const c=i0(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Vn(t)}class rn{constructor(t,i,r,l,c,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new rn(t,0,At.min(),At.min(),At.min(),Tn.empty(),0)}static newFoundDocument(t,i,r,l){return new rn(t,1,i,At.min(),r,l,0)}static newNoDocument(t,i){return new rn(t,2,i,At.min(),At.min(),Tn.empty(),0)}static newUnknownDocument(t,i){return new rn(t,3,i,At.min(),At.min(),Tn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dh{constructor(t,i){this.position=t,this.inclusive=i}}function nE(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=ft.comparator(ft.fromName(d.referenceValue),i.key):r=fo(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function iE(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!qi(s.position[i],t.position[i]))return!1;return!0}class Kl{constructor(t,i="asc"){this.field=t,this.dir=i}}function pI(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class s0{}class Le extends s0{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new yI(t,i,r):i==="array-contains"?new EI(t,r):i==="in"?new TI(t,r):i==="not-in"?new AI(t,r):i==="array-contains-any"?new SI(t,r):new Le(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new _I(t,r):new vI(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(fo(i,this.value)):i!==null&&mr(this.value)===mr(i)&&this.matchesComparison(fo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends s0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new di(t,i)}matches(t){return r0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function r0(s){return s.op==="and"}function a0(s){return gI(s)&&r0(s)}function gI(s){for(const t of s.filters)if(t instanceof di)return!1;return!0}function Em(s){if(s instanceof Le)return s.field.canonicalString()+s.op.toString()+mo(s.value);if(a0(s))return s.filters.map((t=>Em(t))).join(",");{const t=s.filters.map((i=>Em(i))).join(",");return`${s.op}(${t})`}}function o0(s,t){return s instanceof Le?(function(r,l){return l instanceof Le&&r.op===l.op&&r.field.isEqual(l.field)&&qi(r.value,l.value)})(s,t):s instanceof di?(function(r,l){return l instanceof di&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&o0(d,l.filters[p])),!0):!1})(s,t):void gt(19439)}function l0(s){return s instanceof Le?(function(i){return`${i.field.canonicalString()} ${i.op} ${mo(i.value)}`})(s):s instanceof di?(function(i){return i.op.toString()+" {"+i.getFilters().map(l0).join(" ,")+"}"})(s):"Filter"}class yI extends Le{constructor(t,i,r){super(t,i,r),this.key=ft.fromName(r.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class _I extends Le{constructor(t,i){super(t,"in",i),this.keys=u0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class vI extends Le{constructor(t,i){super(t,"not-in",i),this.keys=u0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function u0(s,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class EI extends Le{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return ep(i)&&Ql(i.arrayValue,this.value)}}class TI extends Le{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ql(this.value.arrayValue,i)}}class AI extends Le{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ql(this.value.arrayValue,i)}}class SI extends Le{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!ep(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Ql(this.value.arrayValue,r)))}}class bI{constructor(t,i=null,r=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function sE(s,t=null,i=[],r=[],l=null,c=null,d=null){return new bI(s,t,i,r,l,c,d)}function np(s){const t=bt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Em(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Ch(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>mo(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>mo(r))).join(",")),t.Te=i}return t.Te}function ip(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!pI(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!o0(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!iE(s.startAt,t.startAt)&&iE(s.endAt,t.endAt)}function Tm(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class ca{constructor(t,i=null,r=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function wI(s,t,i,r,l,c,d,p){return new ca(s,t,i,r,l,c,d,p)}function Dh(s){return new ca(s)}function rE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function RI(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function c0(s){return s.collectionGroup!==null}function Pl(s){const t=bt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Be(We.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Kl(c,r))})),i.has(We.keyField().canonicalString())||t.Ie.push(new Kl(We.keyField(),r))}return t.Ie}function ki(s){const t=bt(s);return t.Ee||(t.Ee=II(t,Pl(s))),t.Ee}function II(s,t){if(s.limitType==="F")return sE(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Kl(l.field,c)}));const i=s.endAt?new dh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new dh(s.startAt.position,s.startAt.inclusive):null;return sE(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function Am(s,t){const i=s.filters.concat([t]);return new ca(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function CI(s,t){const i=s.explicitOrderBy.concat([t]);return new ca(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function Sm(s,t,i){return new ca(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Oh(s,t){return ip(ki(s),ki(t))&&s.limitType===t.limitType}function h0(s){return`${np(ki(s))}|lt:${s.limitType}`}function eo(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>l0(l))).join(", ")}]`),Ch(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>mo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>mo(l))).join(",")),`Target(${r})`})(ki(s))}; limitType=${s.limitType})`}function Vh(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ft.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of Pl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,_){const y=nE(d,p,_);return d.inclusive?y<=0:y<0})(r.startAt,Pl(r),l)||r.endAt&&!(function(d,p,_){const y=nE(d,p,_);return d.inclusive?y>=0:y>0})(r.endAt,Pl(r),l))})(s,t)}function NI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function f0(s){return(t,i)=>{let r=!1;for(const l of Pl(s)){const c=DI(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function DI(s,t,i){const r=s.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?fo(_,y):gt(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return gt(19790,{direction:s.dir})}}class ha{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){_r(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return XT(this.inner)}size(){return this.innerSize}}const OI=new me(ft.comparator);function gs(){return OI}const d0=new me(ft.comparator);function Vl(...s){let t=d0;for(const i of s)t=t.insert(i.key,i);return t}function m0(s){let t=d0;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function $r(){return zl()}function p0(){return zl()}function zl(){return new ha((s=>s.toString()),((s,t)=>s.isEqual(t)))}const VI=new me(ft.comparator),MI=new Be(ft.comparator);function Bt(...s){let t=MI;for(const i of s)t=t.add(i);return t}const xI=new Be(zt);function LI(){return xI}function sp(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(t)?"-0":t}}function g0(s){return{integerValue:""+s}}function UI(s,t){return aI(t)?g0(t):sp(s,t)}class Mh{constructor(){this._=void 0}}function kI(s,t,i){return s instanceof Yl?(function(l,c){const d={fields:{[$T]:{stringValue:ZT},[t0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&tp(c)&&(c=Nh(c)),c&&(d.fields[WT]=c),{mapValue:d}})(i,t):s instanceof Xl?_0(s,t):s instanceof Jl?v0(s,t):(function(l,c){const d=y0(l,c),p=aE(d)+aE(l.Ae);return vm(d)&&vm(l.Ae)?g0(p):sp(l.serializer,p)})(s,t)}function PI(s,t,i){return s instanceof Xl?_0(s,t):s instanceof Jl?v0(s,t):i}function y0(s,t){return s instanceof mh?(function(r){return vm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class Yl extends Mh{}class Xl extends Mh{constructor(t){super(),this.elements=t}}function _0(s,t){const i=E0(t);for(const r of s.elements)i.some((l=>qi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Jl extends Mh{constructor(t){super(),this.elements=t}}function v0(s,t){let i=E0(t);for(const r of s.elements)i=i.filter((l=>!qi(l,r)));return{arrayValue:{values:i}}}class mh extends Mh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function aE(s){return we(s.integerValue||s.doubleValue)}function E0(s){return ep(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class zI{constructor(t,i){this.field=t,this.transform=i}}function BI(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Xl&&l instanceof Xl||r instanceof Jl&&l instanceof Jl?ho(r.elements,l.elements,qi):r instanceof mh&&l instanceof mh?qi(r.Ae,l.Ae):r instanceof Yl&&l instanceof Yl})(s.transform,t.transform)}class jI{constructor(t,i){this.version=t,this.transformResults=i}}class hn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new hn}static exists(t){return new hn(void 0,t)}static updateTime(t){return new hn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Wc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class xh{}function T0(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Lh(s.key,hn.none()):new iu(s.key,s.data,hn.none());{const i=s.data,r=Tn.empty();let l=new Be(We.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new vr(s.key,r,new Vn(l.toArray()),hn.none())}}function qI(s,t,i){s instanceof iu?(function(l,c,d){const p=l.value.clone(),_=lE(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof vr?(function(l,c,d){if(!Wc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=lE(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(A0(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Bl(s,t,i,r){return s instanceof iu?(function(c,d,p,_){if(!Wc(c.precondition,d))return p;const y=c.value.clone(),T=uE(c.fieldTransforms,_,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,r):s instanceof vr?(function(c,d,p,_){if(!Wc(c.precondition,d))return p;const y=uE(c.fieldTransforms,_,d),T=d.data;return T.setAll(A0(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,r):(function(c,d,p){return Wc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function HI(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=y0(r.transform,l||null);c!=null&&(i===null&&(i=Tn.empty()),i.set(r.field,c))}return i||null}function oE(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&ho(r,l,((c,d)=>BI(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class iu extends xh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class vr extends xh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function A0(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function lE(s,t,i){const r=new Map;Yt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);r.set(c.field,PI(d,p,i[l]))}return r}function uE(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,kI(c,d,t))}return r}class Lh extends xh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FI extends xh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class GI{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&qI(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Bl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Bl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=p0();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=T0(d,p);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Bt())}isEqual(t){return this.batchId===t.batchId&&ho(this.mutations,t.mutations,((i,r)=>oE(i,r)))&&ho(this.baseMutations,t.baseMutations,((i,r)=>oE(i,r)))}}class rp{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Yt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return VI})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new rp(t,i,r,l)}}class QI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class KI{constructor(t,i){this.count=t,this.unchangedNames=i}}var xe,qt;function YI(s){switch(s){case G.OK:return gt(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function S0(s){if(s===void 0)return ps("GRPC error has no .code"),G.UNKNOWN;switch(s){case xe.OK:return G.OK;case xe.CANCELLED:return G.CANCELLED;case xe.UNKNOWN:return G.UNKNOWN;case xe.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case xe.INTERNAL:return G.INTERNAL;case xe.UNAVAILABLE:return G.UNAVAILABLE;case xe.UNAUTHENTICATED:return G.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case xe.NOT_FOUND:return G.NOT_FOUND;case xe.ALREADY_EXISTS:return G.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return G.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case xe.ABORTED:return G.ABORTED;case xe.OUT_OF_RANGE:return G.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return G.UNIMPLEMENTED;case xe.DATA_LOSS:return G.DATA_LOSS;default:return gt(39323,{code:s})}}(qt=xe||(xe={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function XI(){return new TextEncoder}const JI=new ur([4294967295,4294967295],0);function cE(s){const t=XI().encode(s),i=new zT;return i.update(t),new Uint8Array(i.digest())}function hE(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ur([i,r],0),new ur([l,c],0)]}class ap{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ml(`Invalid padding: ${i}`);if(r<0)throw new Ml(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ur.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(ur.fromNumber(r)));return l.compare(JI)===1&&(l=new ur([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=cE(t),[r,l]=hE(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new ap(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=cE(t),[r,l]=hE(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,su.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Uh(At.min(),l,new me(zt),gs(),Bt())}}class su{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new su(r,i,Bt(),Bt(),Bt())}}class th{constructor(t,i,r,l){this.Se=t,this.removedTargetIds=i,this.key=r,this.De=l}}class b0{constructor(t,i){this.targetId=t,this.Ce=i}}class w0{constructor(t,i,r=tn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class fE{constructor(){this.ve=0,this.Fe=dE(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Bt(),i=Bt(),r=Bt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:gt(38017,{changeType:c})}})),new su(this.Me,this.xe,t,i,r)}Ke(){this.Oe=!1,this.Fe=dE()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ZI{constructor(t){this.Ge=t,this.ze=new Map,this.je=gs(),this.He=Fc(),this.Je=Fc(),this.Ze=new me(zt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Tm(c))if(r===0){const d=new ft(c.path);this.et(i,d,rn.newNoDocument(d,At.min()))}else Yt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=dr(r).toUint8Array()}catch(_){if(_ instanceof JT)return aa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new ap(d,l,c)}catch(_){return aa(_ instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Tm(p.target)){const _=new ft(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,rn.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let r=Bt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Uh(t,i,this.Ze,this.je,r);return this.je=gs(),this.He=Fc(),this.Je=Fc(),this.Ze=new me(zt),l}Ye(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new fE,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Be(zt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Be(zt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new fE),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Fc(){return new me(ft.comparator)}function dE(){return new me(ft.comparator)}const $I={asc:"ASCENDING",desc:"DESCENDING"},WI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tC={and:"AND",or:"OR"};class eC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function bm(s,t){return s.useProto3Json||Ch(t)?t:{value:t}}function ph(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function R0(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function nC(s,t){return ph(s,t.toTimestamp())}function Pi(s){return Yt(!!s,49232),At.fromTimestamp((function(i){const r=fr(i);return new ue(r.seconds,r.nanos)})(s))}function op(s,t){return wm(s,t).canonicalString()}function wm(s,t){const i=(function(l){return new re(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function I0(s){const t=re.fromString(s);return Yt(V0(t),10190,{key:t.toString()}),t}function Rm(s,t){return op(s.databaseId,t.path)}function im(s,t){const i=I0(t);if(i.get(1)!==s.databaseId.projectId)throw new st(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new st(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(N0(i))}function C0(s,t){return op(s.databaseId,t)}function iC(s){const t=I0(s);return t.length===4?re.emptyPath():N0(t)}function Im(s){return new re(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function N0(s){return Yt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function mE(s,t,i){return{name:Rm(s,t),fields:i.value.mapValue.fields}}function sC(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(Yt(T===void 0||typeof T=="string",58123),tn.fromBase64String(T||"")):(Yt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),tn.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?G.UNKNOWN:S0(y.code);return new st(T,y.message||"")})(d);i=new w0(r,l,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=im(s,r.document.name),c=Pi(r.document.updateTime),d=r.document.createTime?Pi(r.document.createTime):At.min(),p=new Tn({mapValue:{fields:r.document.fields}}),_=rn.newFoundDocument(l,c,d,p),y=r.targetIds||[],T=r.removedTargetIds||[];i=new th(y,T,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=im(s,r.document),c=r.readTime?Pi(r.readTime):At.min(),d=rn.newNoDocument(l,c),p=r.removedTargetIds||[];i=new th([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=im(s,r.document),c=r.removedTargetIds||[];i=new th([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new KI(l,c),p=r.targetId;i=new b0(p,d)}}return i}function rC(s,t){let i;if(t instanceof iu)i={update:mE(s,t.key,t.value)};else if(t instanceof Lh)i={delete:Rm(s,t.key)};else if(t instanceof vr)i={update:mE(s,t.key,t.data),updateMask:mC(t.fieldMask)};else{if(!(t instanceof FI))return gt(16599,{dt:t.type});i={verify:Rm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof Yl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Xl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Jl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof mh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:nC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(s,t.precondition)),i}function aC(s,t){return s&&s.length>0?(Yt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Pi(l.updateTime):Pi(c);return d.isEqual(At.min())&&(d=Pi(c)),new jI(d,l.transformResults||[])})(i,t)))):[]}function oC(s,t){return{documents:[C0(s,t.path)]}}function lC(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=C0(s,l);const c=(function(y){if(y.length!==0)return O0(di.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(N){return{field:no(N.field),direction:hC(N.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=bm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function uC(s){let t=iC(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Yt(r===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const N=D0(S);return N instanceof di&&a0(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((N=>(function($){return new Kl(io($.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(N)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let N;return N=typeof S=="object"?S.value:S,Ch(N)?null:N})(i.limit));let _=null;i.startAt&&(_=(function(S){const N=!!S.before,F=S.values||[];return new dh(F,N)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const N=!S.before,F=S.values||[];return new dh(F,N)})(i.endAt)),wI(t,l,d,c,p,"F",_,y)}function cC(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function D0(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=io(i.unaryFilter.field);return Le.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=io(i.unaryFilter.field);return Le.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=io(i.unaryFilter.field);return Le.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=io(i.unaryFilter.field);return Le.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Le.create(io(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return di.create(i.compositeFilter.filters.map((r=>D0(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(s):gt(30097,{filter:s})}function hC(s){return $I[s]}function fC(s){return WI[s]}function dC(s){return tC[s]}function no(s){return{fieldPath:s.canonicalString()}}function io(s){return We.fromServerFormat(s.fieldPath)}function O0(s){return s instanceof Le?(function(i){if(i.op==="=="){if(eE(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NAN"}};if(tE(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(eE(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NAN"}};if(tE(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(i.field),op:fC(i.op),value:i.value}}})(s):s instanceof di?(function(i){const r=i.getFilters().map((l=>O0(l)));return r.length===1?r[0]:{compositeFilter:{op:dC(i.op),filters:r}}})(s):gt(54877,{filter:s})}function mC(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function V0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function M0(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class sr{constructor(t,i,r,l,c=At.min(),d=At.min(),p=tn.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new sr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class pC{constructor(t){this.yt=t}}function gC(s){const t=uC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Sm(t,t.limit,"L"):t}class yC{constructor(){this.Sn=new _C}addToCollectionParentIndex(t,i){return this.Sn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(hr.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(hr.min())}updateCollectionGroup(t,i,r){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class _C{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Be(re.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Be(re.comparator)).toArray()}}const pE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},x0=41943040;class En{static withCacheSize(t){return new En(t,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(x0,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class po{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new po(0)}static ar(){return new po(-1)}}const gE="LruGarbageCollector",vC=1048576;function yE([s,t],[i,r]){const l=zt(s,i);return l===0?zt(t,r):l}class EC{constructor(t){this.Pr=t,this.buffer=new Be(yE),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();yE(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class TC{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(gE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){wo(i)?at(gE,"Ignoring IndexedDB error during garbage collection: ",i):await bo(i)}await this.Ar(3e5)}))}}class AC{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(Ih.ce);const r=new EC(i);return this.Vr.forEachTarget(t,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.Vr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(pE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pE):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let r,l,c,d,p,_,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(r=S,p=Date.now(),this.removeTargets(t,r,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(y=Date.now(),to()<=Pt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function SC(s,t){return new AC(s,t)}class bC{constructor(){this.changes=new ha((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class wC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class RC{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Bl(r.mutation,l,Vn.empty(),ue.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Bt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Bt()){const l=$r();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=Vl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=$r();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Bt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let c=gs();const d=zl(),p=(function(){return zl()})();return i.forEach(((_,y)=>{const T=r.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof vr)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Bl(T.mutation,y,T.mutation.getFieldMask(),ue.now())):d.set(y.key,Vn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>p.set(y,new wC(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=zl();let l=new me(((d,p)=>d-p)),c=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let T=r.get(_)||Vn.empty();T=p.applyToLocalView(y,T),r.set(_,T);const S=(l.get(p.batchId)||Bt()).add(_);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,T=_.value,S=p0();T.forEach((N=>{if(!c.has(N)){const F=T0(i.get(N),r.get(N));F!==null&&S.set(N,F),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return RI(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):c0(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):J.resolve($r());let p=Hl,_=c;return d.next((y=>J.forEach(y,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(T)?J.resolve():this.remoteDocumentCache.getEntry(t,T).next((N=>{_=_.insert(T,N)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Bt()))).next((T=>({batchId:p,changes:m0(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((r=>{let l=Vl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=Vl();return this.indexManager.getCollectionParents(t,c).next((p=>J.forEach(p,(_=>{const y=(function(S,N){return new ca(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((T=>{T.forEach(((S,N)=>{d=d.insert(S,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,rn.newInvalidDocument(T)))}));let p=Vl();return d.forEach(((_,y)=>{const T=c.get(_);T!==void 0&&Bl(T.mutation,y,Vn.empty(),ue.now()),Vh(i,y)&&(p=p.insert(_,y))})),p}))}}class IC{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Pi(l.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:gC(l.bundledQuery),readTime:Pi(l.readTime)}})(i)),J.resolve()}}class CC{constructor(){this.overlays=new me(ft.comparator),this.Lr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const r=$r();return J.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.bt(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),J.resolve()}getOverlaysForCollection(t,i,r){const l=$r(),c=i.length+1,d=new ft(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return J.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new me(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let T=c.get(y.largestBatchId);T===null&&(T=$r(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=$r(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return J.resolve(p)}bt(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new QI(i,r));let c=this.Lr.get(i);c===void 0&&(c=Bt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}class NC{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class lp{constructor(){this.kr=new Be(Fe.Kr),this.qr=new Be(Fe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const r=new Fe(t,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Wr(new Fe(t,i))}Qr(t,i){t.forEach((r=>this.removeReference(r,i)))}Gr(t){const i=new ft(new re([])),r=new Fe(i,t),l=new Fe(i,t+1),c=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ft(new re([])),r=new Fe(i,t),l=new Fe(i,t+1);let c=Bt();return this.qr.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Fe(t,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Fe{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ft.comparator(t.key,i.key)||zt(t.Hr,i.Hr)}static Ur(t,i){return zt(t.Hr,i.Hr)||ft.comparator(t.key,i.key)}}class DC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Be(Fe.Kr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new GI(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Fe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.Xr(r),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Wm:this.Yn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Fe(i,0),l=new Fe(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Be(zt);return i.forEach((l=>{const c=new Fe(l,0),d=new Fe(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{r=r.add(p.Hr)}))})),J.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;ft.isDocumentKey(c)||(c=c.child(""));const d=new Fe(new ft(c),0);let p=new Be(zt);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),J.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((r=>{const l=this.Zr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Yt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return J.forEach(i.mutations,(l=>{const c=new Fe(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,i){const r=new Fe(i,0),l=this.Jr.firstAfterOrEqual(r);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class OC{constructor(t){this.ti=t,this.docs=(function(){return new me(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(i))}getEntries(t,i){let r=gs();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():rn.newInvalidDocument(l))})),J.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=gs();const d=i.path,p=new ft(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||nI(eI(T),r)<=0||(l.has(T.key)||Vh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,r,l){gt(9500)}ni(t,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new VC(this)}getSize(t){return J.resolve(this.size)}}class VC extends bC{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(r)})),J.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class MC{constructor(t){this.persistence=t,this.ri=new ha((i=>np(i)),ip),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.ii=0,this.si=new lp,this.targetCount=0,this.oi=po._r()}forEachTarget(t,i){return this.ri.forEach(((r,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),J.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new po(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.lr(i),J.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const r=this.ri.get(i)||null;return J.resolve(r)}addMatchingKeys(t,i,r){return this.si.$r(i,r),J.resolve()}removeMatchingKeys(t,i,r){this.si.Qr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const r=this.si.jr(i);return J.resolve(r)}containsKey(t,i){return J.resolve(this.si.containsKey(i))}}class L0{constructor(t,i){this._i={},this.overlays={},this.ai=new Ih(0),this.ui=!1,this.ui=!0,this.ci=new NC,this.referenceDelegate=t(this),this.li=new MC(this),this.indexManager=new yC,this.remoteDocumentCache=(function(l){return new OC(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new pC(i),this.Pi=new IC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new CC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this._i[t.toKey()];return r||(r=new DC(i,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,r){at("MemoryPersistence","Starting transaction:",t);const l=new xC(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return J.or(Object.values(this._i).map((r=>()=>r.containsKey(t,i))))}}class xC extends sI{constructor(t){super(),this.currentSequenceNumber=t}}class up{constructor(t){this.persistence=t,this.Ri=new lp,this.Ai=null}static Vi(t){return new up(t)}get di(){if(this.Ai)return this.Ai;throw gt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),J.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(r=>{const l=ft.fromPath(r);return this.mi(t,l).next((c=>{c||i.removeEntry(l,At.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class gh{constructor(t,i){this.persistence=t,this.fi=new ha((r=>oI(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=SC(this,i)}static Vi(t,i){return new gh(t,i)}Ti(){}Ii(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}pr(t){let i=0;return this.mr(t,(r=>{i++})).next((()=>i))}mr(t,i){return J.forEach(this.fi,((r,l)=>this.wr(t,r,l).next((c=>c?J.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(r++,c.removeEntry(d,At.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.fi.set(r,t.currentSequenceNumber),J.resolve()}removeReference(t,i,r){return this.fi.set(r,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Zc(t.data.value)),i}wr(t,i,r){return J.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return J.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class cp{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Ts=r,this.Is=l}static Es(t,i){let r=Bt(),l=Bt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new cp(t,i.fromCache,r,l)}}class LC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class UC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return w1()?8:rI(on())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new LC;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,r,l){return r.documentReadCount<this.Vs?(to()<=Pt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",eo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(to()<=Pt.DEBUG&&at("QueryEngine","Query:",eo(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(to()<=Pt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",eo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ki(i))):J.resolve())}gs(t,i){if(rE(i))return J.resolve(null);let r=ki(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Sm(i,null,"F"),r=ki(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=Bt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((_=>{const y=this.bs(i,p);return this.Ss(i,y,d,_.readTime)?this.gs(t,Sm(i,null,"F")):this.Ds(t,y,i,_)}))))})))))}ps(t,i,r,l){return rE(i)||l.isEqual(At.min())?J.resolve(null):this.fs.getDocuments(t,r).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,r,l)?J.resolve(null):(to()<=Pt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),eo(i)),this.Ds(t,d,i,tI(l,Hl)).next((p=>p)))}))}bs(t,i){let r=new Be(f0(t));return i.forEach(((l,c)=>{Vh(t,c)&&(r=r.add(c))})),r}Ss(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,r){return to()<=Pt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",eo(i)),this.fs.getDocumentsMatchingQuery(t,i,hr.min(),r)}Ds(t,i,r,l){return this.fs.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const hp="LocalStore",kC=3e8;class PC{constructor(t,i,r,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new me(zt),this.Fs=new ha((c=>np(c)),ip),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new RC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function zC(s,t,i,r){return new PC(s,t,i,r)}async function U0(s,t){const i=bt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let _=Bt();for(const y of l){d.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of c){p.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function BC(s,t){const i=bt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,T){const S=y.batch,N=S.keys();let F=J.resolve();return N.forEach(($=>{F=F.next((()=>T.getEntry(_,$))).next((W=>{const et=y.docVersions.get($);Yt(et!==null,48541),W.version.compareTo(et)<0&&(S.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),T.addEntry(W)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=Bt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function k0(s){const t=bt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function jC(s,t){const i=bt(s),r=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((T,S)=>{const N=l.get(S);if(!N)return;p.push(i.li.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,T.addedDocuments,S))));let F=N.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?F=F.withResumeToken(tn.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):T.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(T.resumeToken,r)),l=l.insert(S,F),(function(W,et,dt){return W.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=kC?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(N,F,T)&&p.push(i.li.updateTargetData(c,F))}));let _=gs(),y=Bt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(qC(c,d,t.documentUpdates).next((T=>{_=T.Bs,y=T.Ls}))),!r.isEqual(At.min())){const T=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(T)}return J.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function qC(s,t,i){let r=Bt(),l=Bt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=gs();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(At.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):at(hp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function HC(s,t){const i=bt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Wm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function FC(s,t){const i=bt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.li.getTargetData(r,t).next((c=>c?(l=c,J.resolve(l)):i.li.allocateTargetId(r).next((d=>(l=new sr(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(t,r.targetId)),r}))}async function Cm(s,t,i){const r=bt(s),l=r.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!wo(d))throw d;at(hp,`Failed to update sequence numbers for target ${t}: ${d}`)}r.vs=r.vs.remove(t),r.Fs.delete(l.target)}function _E(s,t,i){const r=bt(s);let l=At.min(),c=Bt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,T){const S=bt(_),N=S.Fs.get(T);return N!==void 0?J.resolve(S.vs.get(N)):S.li.getTargetData(y,T)})(r,d,ki(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?c:Bt()))).next((p=>(GC(r,NI(t),p),{documents:p,ks:c})))))}function GC(s,t,i){let r=s.Ms.get(t)||At.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(t,r)}class vE{constructor(){this.activeTargetIds=LI()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class QC{constructor(){this.vo=new vE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,r){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new vE,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class KC{Mo(t){}shutdown(){}}const EE="ConnectivityMonitor";class TE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(EE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(EE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Gc=null;function Nm(){return Gc===null?Gc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gc++,"0x"+Gc.toString(16)}const sm="RestConnection",YC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class XC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===hh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(t,i,r,l,c){const d=Nm(),p=this.Qo(t,i.toUriEncodedString());at(sm,`Sending RPC '${t}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(p),T=vo(y);return this.zo(t,p,_,r,T).then((S=>(at(sm,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw aa(sm,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}jo(t,i,r,l,c,d){return this.Wo(t,i,r,l,c)}Go(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+So})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const r=YC[t];let l=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class JC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const nn="WebChannelConnection",Dl=(s,t,i)=>{s.listen(t,(r=>{try{i(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class oo extends XC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!oo.c_){const t=HT();Dl(t,qT.STAT_EVENT,(i=>{i.stat===gm.PROXY?at(nn,"STAT_EVENT: detected buffering proxy"):i.stat===gm.NOPROXY&&at(nn,"STAT_EVENT: detected no buffering proxy")})),oo.c_=!0}}zo(t,i,r,l,c){const d=Nm();return new Promise(((p,_)=>{const y=new BT;y.setWithCredentials(!0),y.listenOnce(jT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Jc.NO_ERROR:const S=y.getResponseJson();at(nn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Jc.TIMEOUT:at(nn,`RPC '${t}' ${d} timed out`),_(new st(G.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const N=y.getStatus();if(at(nn,`RPC '${t}' ${d} failed with status:`,N,"response text:",y.getResponseText()),N>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const $=F?.error;if($&&$.status&&$.message){const W=(function(dt){const _t=dt.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(_t)>=0?_t:G.UNKNOWN})($.status);_(new st(W,$.message))}else _(new st(G.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new st(G.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(nn,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);at(nn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",T,r,15)}))}T_(t,i,r){const l=Nm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const y=c.join("");at(nn,`Creating RPC '${t}' stream ${l}: ${y}`,p);const T=d.createWebChannel(y,p);this.I_(T);let S=!1,N=!1;const F=new JC({Ho:$=>{N?at(nn,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(S||(at(nn,`Opening RPC '${t}' stream ${l} transport.`),T.open(),S=!0),at(nn,`RPC '${t}' stream ${l} sending:`,$),T.send($))},Jo:()=>T.close()});return Dl(T,Ol.EventType.OPEN,(()=>{N||(at(nn,`RPC '${t}' stream ${l} transport opened.`),F.i_())})),Dl(T,Ol.EventType.CLOSE,(()=>{N||(N=!0,at(nn,`RPC '${t}' stream ${l} transport closed`),F.o_(),this.E_(T))})),Dl(T,Ol.EventType.ERROR,($=>{N||(N=!0,aa(nn,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),F.o_(new st(G.UNAVAILABLE,"The operation could not be completed")))})),Dl(T,Ol.EventType.MESSAGE,($=>{if(!N){const W=$.data[0];Yt(!!W,16349);const et=W,dt=et?.error||et[0]?.error;if(dt){at(nn,`RPC '${t}' stream ${l} received error:`,dt);const _t=dt.status;let ut=(function(xt){const C=xe[xt];if(C!==void 0)return S0(C)})(_t),vt=dt.message;_t==="NOT_FOUND"&&vt.includes("database")&&vt.includes("does not exist")&&vt.includes(this.databaseId.database)&&aa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ut===void 0&&(ut=G.INTERNAL,vt="Unknown error status: "+_t+" with message "+dt.message),N=!0,F.o_(new st(ut,vt)),T.close()}else at(nn,`RPC '${t}' stream ${l} received:`,W),F.__(W)}})),oo.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,r){super.Go(t,i,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return FT()}}function ZC(s){return new oo(s)}function rm(){return typeof document<"u"?document:null}function kh(s){return new eC(s,!0)}oo.c_=!1;class P0{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=r,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const AE="PersistentStream";class z0{constructor(t,i,r,l,c,d,p,_){this.Ci=t,this.b_=r,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new P0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===G.RESOURCE_EXHAUSTED?(ps(i.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new st(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(AE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(at(AE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $C extends z0{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=sC(this.serializer,t),r=(function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?Pi(d.readTime):At.min()})(t);return this.listener.J_(i,r)}Z_(t){const i={};i.database=Im(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Tm(_)?{documents:oC(c,_)}:{query:lC(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=R0(c,d.resumeToken);const y=bm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){p.readTime=ph(c,d.snapshotVersion.toTimestamp());const y=bm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const r=cC(this.serializer,t);r&&(i.labels=r),this.K_(i)}X_(t){const i={};i.database=Im(this.serializer),i.removeTarget=t,this.K_(i)}}class WC extends z0{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=aC(t.writeResults,t.commitTime),r=Pi(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Im(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>rC(this.serializer,r)))};this.K_(i)}}class t2{}class e2 extends t2{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new st(G.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,wm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new st(G.UNKNOWN,c.toString())}))}jo(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,wm(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(G.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function n2(s,t,i,r){return new e2(s,t,i,r)}class i2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class s2{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{fa(this)&&(at(oa,"Restarting streams for network reachability change."),await(async function(_){const y=bt(_);y.Ea.add(4),await ru(y),y.Va.set("Unknown"),y.Ea.delete(4),await Ph(y)})(this))}))})),this.Va=new i2(r,l)}}async function Ph(s){if(fa(s))for(const t of s.Ra)await t(!0)}async function ru(s){for(const t of s.Ra)await t(!1)}function B0(s,t){const i=bt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),pp(i)?mp(i):Ro(i).O_()&&dp(i,t))}function fp(s,t){const i=bt(s),r=Ro(i);i.Ia.delete(t),r.O_()&&j0(i,t),i.Ia.size===0&&(r.O_()?r.L_():fa(i)&&i.Va.set("Unknown"))}function dp(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ro(s).Z_(t)}function j0(s,t){s.da.$e(t),Ro(s).X_(t)}function mp(s){s.da=new ZI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Ro(s).start(),s.Va.ua()}function pp(s){return fa(s)&&!Ro(s).x_()&&s.Ia.size>0}function fa(s){return bt(s).Ea.size===0}function q0(s){s.da=void 0}async function r2(s){s.Va.set("Online")}async function a2(s){s.Ia.forEach(((t,i)=>{dp(s,t)}))}async function o2(s,t){q0(s),pp(s)?(s.Va.ha(t),mp(s)):s.Va.set("Unknown")}async function l2(s,t,i){if(s.Va.set("Online"),t instanceof w0&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,t)}catch(r){at(oa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await yh(s,r)}else if(t instanceof th?s.da.Xe(t):t instanceof b0?s.da.st(t):s.da.tt(t),!i.isEqual(At.min()))try{const r=await k0(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(tn.EMPTY_BYTE_STRING,T.snapshotVersion)),j0(c,_);const S=new sr(T.target,_,y,T.sequenceNumber);dp(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){at(oa,"Failed to raise snapshot:",r),await yh(s,r)}}async function yh(s,t,i){if(!wo(t))throw t;s.Ea.add(1),await ru(s),s.Va.set("Offline"),i||(i=()=>k0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(oa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ph(s)}))}function H0(s,t){return t().catch((i=>yh(s,i,t)))}async function zh(s){const t=bt(s),i=pr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Wm;for(;u2(t);)try{const l=await HC(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,c2(t,l)}catch(l){await yh(t,l)}F0(t)&&G0(t)}function u2(s){return fa(s)&&s.Ta.length<10}function c2(s,t){s.Ta.push(t);const i=pr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function F0(s){return fa(s)&&!pr(s).x_()&&s.Ta.length>0}function G0(s){pr(s).start()}async function h2(s){pr(s).ra()}async function f2(s){const t=pr(s);for(const i of s.Ta)t.ea(i.mutations)}async function d2(s,t,i){const r=s.Ta.shift(),l=rp.from(r,t,i);await H0(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await zh(s)}async function m2(s,t){t&&pr(s).Y_&&await(async function(r,l){if((function(d){return YI(d)&&d!==G.ABORTED})(l.code)){const c=r.Ta.shift();pr(r).B_(),await H0(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await zh(r)}})(s,t),F0(s)&&G0(s)}async function SE(s,t){const i=bt(s);i.asyncQueue.verifyOperationInProgress(),at(oa,"RemoteStore received new credentials");const r=fa(i);i.Ea.add(3),await ru(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ph(i)}async function p2(s,t){const i=bt(s);t?(i.Ea.delete(2),await Ph(i)):t||(i.Ea.add(2),await ru(i),i.Va.set("Unknown"))}function Ro(s){return s.ma||(s.ma=(function(i,r,l){const c=bt(i);return c.sa(),new $C(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:r2.bind(null,s),Yo:a2.bind(null,s),t_:o2.bind(null,s),J_:l2.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),pp(s)?mp(s):s.Va.set("Unknown")):(await s.ma.stop(),q0(s))}))),s.ma}function pr(s){return s.fa||(s.fa=(function(i,r,l){const c=bt(i);return c.sa(),new WC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:h2.bind(null,s),t_:m2.bind(null,s),ta:f2.bind(null,s),na:d2.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await zh(s)):(await s.fa.stop(),s.Ta.length>0&&(at(oa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class gp{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,p=new gp(t,i,d,l,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(G.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yp(s,t){if(ps("AsyncQueue",`${t}: ${s}`),wo(s))return new st(G.UNAVAILABLE,`${t}: ${s}`);throw s}class lo{static emptySet(t){return new lo(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ft.comparator(i.key,r.key):(i,r)=>ft.comparator(i.key,r.key),this.keyedMap=Vl(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof lo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new lo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class bE{constructor(){this.ga=new me(ft.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class go{constructor(t,i,r,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new go(t,i,lo.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Oh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class g2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class y2{constructor(){this.queries=wE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=bt(i),c=l.queries;l.queries=wE(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(r)}))})(this,new st(G.ABORTED,"Firestore shutting down"))}}function wE(){return new ha((s=>h0(s)),Oh)}async function _p(s,t){const i=bt(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(r=2):(c=new g2,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=yp(d,`Initialization of query '${eo(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Ep(i)}async function vp(s,t){const i=bt(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function _2(s,t){const i=bt(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(r=!0);d.wa=l}}r&&Ep(i)}function v2(s,t,i){const r=bt(s),l=r.queries.get(t);if(l)for(const c of l.ba)c.onError(i);r.queries.delete(t)}function Ep(s){s.Ca.forEach((t=>{t.next()}))}var Dm,RE;(RE=Dm||(Dm={})).Ma="default",RE.Cache="cache";class Tp{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new go(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=go.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Dm.Cache}}class Q0{constructor(t){this.key=t}}class K0{constructor(t){this.key=t}}class E2{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Bt(),this.mutatedKeys=Bt(),this.eu=f0(t),this.tu=new lo(this.eu)}get nu(){return this.Za}ru(t,i){const r=i?i.iu:new bE,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,S)=>{const N=l.get(T),F=Vh(this.query,S)?S:null,$=!!N&&this.mutatedKeys.has(N.key),W=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let et=!1;N&&F?N.data.isEqual(F.data)?$!==W&&(r.track({type:3,doc:F}),et=!0):this.su(N,F)||(r.track({type:2,doc:F}),et=!0,(_&&this.eu(F,_)>0||y&&this.eu(F,y)<0)&&(p=!0)):!N&&F?(r.track({type:0,doc:F}),et=!0):N&&!F&&(r.track({type:1,doc:N}),et=!0,(_||y)&&(p=!0)),et&&(F?(d=d.add(F),c=W?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,S)=>(function(F,$){const W=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:et})}};return W(F)-W($)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new go(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Bt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return t.forEach((r=>{this.Ya.has(r)||i.push(new K0(r))})),this.Ya.forEach((r=>{t.has(r)||i.push(new Q0(r))})),i}cu(t){this.Za=t.ks,this.Ya=Bt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ap="SyncEngine";class T2{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class A2{constructor(t){this.key=t,this.hu=!1}}class S2{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ha((p=>h0(p)),Oh),this.Iu=new Map,this.Eu=new Set,this.Ru=new me(ft.comparator),this.Au=new Map,this.Vu=new lp,this.du={},this.mu=new Map,this.fu=po.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function b2(s,t,i=!0){const r=W0(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await Y0(r,t,i,!0),l}async function w2(s,t){const i=W0(s);await Y0(i,t,!0,!1)}async function Y0(s,t,i,r){const l=await FC(s.localStore,ki(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await R2(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&B0(s.remoteStore,l),p}async function R2(s,t,i,r,l){s.pu=(S,N,F)=>(async function(W,et,dt,_t){let ut=et.view.ru(dt);ut.Ss&&(ut=await _E(W.localStore,et.query,!1).then((({documents:C})=>et.view.ru(C,ut))));const vt=_t&&_t.targetChanges.get(et.targetId),ae=_t&&_t.targetMismatches.get(et.targetId)!=null,xt=et.view.applyChanges(ut,W.isPrimaryClient,vt,ae);return CE(W,et.targetId,xt.au),xt.snapshot})(s,S,N,F);const c=await _E(s.localStore,t,!0),d=new E2(t,c.ks),p=d.ru(c.documents),_=su.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);CE(s,i,y.au);const T=new T2(t,i,d);return s.Tu.set(t,T),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function I2(s,t,i){const r=bt(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Oh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Cm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&fp(r.remoteStore,l.targetId),Om(r,l.targetId)})).catch(bo)):(Om(r,l.targetId),await Cm(r.localStore,l.targetId,!0))}async function C2(s,t){const i=bt(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),fp(i.remoteStore,r.targetId))}async function N2(s,t,i){const r=U2(s);try{const l=await(function(d,p){const _=bt(d),y=ue.now(),T=p.reduce(((F,$)=>F.add($.key)),Bt());let S,N;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let $=gs(),W=Bt();return _.xs.getEntries(F,T).next((et=>{$=et,$.forEach(((dt,_t)=>{_t.isValidDocument()||(W=W.add(dt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,$))).next((et=>{S=et;const dt=[];for(const _t of p){const ut=HI(_t,S.get(_t.key).overlayedDocument);ut!=null&&dt.push(new vr(_t.key,ut,i0(ut.value.mapValue),hn.exists(!0)))}return _.mutationQueue.addMutationBatch(F,y,dt,p)})).next((et=>{N=et;const dt=et.applyToLocalDocumentSet(S,W);return _.documentOverlayCache.saveOverlays(F,et.batchId,dt)}))})).then((()=>({batchId:N.batchId,changes:m0(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new me(zt)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(r,l.batchId,i),await au(r,l.changes),await zh(r.remoteStore)}catch(l){const c=yp(l,"Failed to persist write");i.reject(c)}}async function X0(s,t){const i=bt(s);try{const r=await jC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Yt(d.hu,14607):l.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await au(i,r,t)}catch(r){await bo(r)}}function IE(s,t,i){const r=bt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=bt(d);_.onlineState=p;let y=!1;_.queries.forEach(((T,S)=>{for(const N of S.ba)N.va(p)&&(y=!0)})),y&&Ep(_)})(r.eventManager,t),l.length&&r.Pu.J_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function D2(s,t,i){const r=bt(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new me(ft.comparator);d=d.insert(c,rn.newNoDocument(c,At.min()));const p=Bt().add(c),_=new Uh(At.min(),new Map,new me(zt),d,p);await X0(r,_),r.Ru=r.Ru.remove(c),r.Au.delete(t),Sp(r)}else await Cm(r.localStore,t,!1).then((()=>Om(r,t,i))).catch(bo)}async function O2(s,t){const i=bt(s),r=t.batch.batchId;try{const l=await BC(i.localStore,t);Z0(i,r,null),J0(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await au(i,l)}catch(l){await bo(l)}}async function V2(s,t,i){const r=bt(s);try{const l=await(function(d,p){const _=bt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return _.mutationQueue.lookupMutationBatch(y,p).next((S=>(Yt(S!==null,37113),T=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>_.localDocuments.getDocuments(y,T)))}))})(r.localStore,t);Z0(r,t,i),J0(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await au(r,l)}catch(l){await bo(l)}}function J0(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function Z0(s,t,i){const r=bt(s);let l=r.du[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.du[r.currentUser.toKey()]=l}}function Om(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((r=>{s.Vu.containsKey(r)||$0(s,r)}))}function $0(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(fp(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),Sp(s))}function CE(s,t,i){for(const r of i)r instanceof Q0?(s.Vu.addReference(r.key,t),M2(s,r)):r instanceof K0?(at(Ap,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,t),s.Vu.containsKey(r.key)||$0(s,r.key)):gt(19791,{wu:r})}function M2(s,t){const i=t.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(at(Ap,"New document in limbo: "+i),s.Eu.add(r),Sp(s))}function Sp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ft(re.fromString(t)),r=s.fu.next();s.Au.set(r,new A2(i)),s.Ru=s.Ru.insert(i,r),B0(s.remoteStore,new sr(ki(Dh(i.path)),r,"TargetPurposeLimboResolution",Ih.ce))}}async function au(s,t,i){const r=bt(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(y){l.push(y);const T=cp.Es(_.targetId,y);c.push(T)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(_,y){const T=bt(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(y,(N=>J.forEach(N.Ts,(F=>T.persistence.referenceDelegate.addReference(S,N.targetId,F))).next((()=>J.forEach(N.Is,(F=>T.persistence.referenceDelegate.removeReference(S,N.targetId,F)))))))))}catch(S){if(!wo(S))throw S;at(hp,"Failed to update sequence numbers: "+S)}for(const S of y){const N=S.targetId;if(!S.fromCache){const F=T.vs.get(N),$=F.snapshotVersion,W=F.withLastLimboFreeSnapshotVersion($);T.vs=T.vs.insert(N,W)}}})(r.localStore,c))}async function x2(s,t){const i=bt(s);if(!i.currentUser.isEqual(t)){at(Ap,"User change. New user:",t.toKey());const r=await U0(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new st(G.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await au(i,r.Ns)}}function L2(s,t){const i=bt(s),r=i.Au.get(t);if(r&&r.hu)return Bt().add(r.key);{let l=Bt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function W0(s){const t=bt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=X0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=L2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=D2.bind(null,t),t.Pu.J_=_2.bind(null,t.eventManager),t.Pu.yu=v2.bind(null,t.eventManager),t}function U2(s){const t=bt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=O2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=V2.bind(null,t),t}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=kh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return zC(this.persistence,new UC,t.initialUser,this.serializer)}Cu(t){return new L0(up.Vi,this.serializer)}Du(t){return new QC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class k2 extends _h{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Yt(this.persistence.referenceDelegate instanceof gh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new TC(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new L0((r=>gh.Vi(r,i)),this.serializer)}}class Vm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>IE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=x2.bind(null,this.syncEngine),await p2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new y2})()}createDatastore(t){const i=kh(t.databaseInfo.databaseId),r=ZC(t.databaseInfo);return n2(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,p){return new s2(r,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>IE(this.syncEngine,i,0)),(function(){return TE.v()?new TE:new KC})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,T){const S=new S2(l,c,d,p,_,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=bt(i);at(oa,"RemoteStore shutting down."),r.Ea.add(5),await ru(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Vm.provider={build:()=>new Vm};class bp{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ps("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const gr="FirestoreClient";class P2{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=l,this.user=sn.UNAUTHENTICATED,this.clientId=Zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{at(gr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(gr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=yp(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function am(s,t){s.asyncQueue.verifyOperationInProgress(),at(gr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await U0(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function NE(s,t){s.asyncQueue.verifyOperationInProgress();const i=await z2(s);at(gr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>SE(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>SE(t.remoteStore,l))),s._onlineComponents=t}async function z2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(gr,"Using user provided OfflineComponentProvider");try{await am(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===G.FAILED_PRECONDITION||l.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;aa("Error using user provided cache. Falling back to memory cache: "+i),await am(s,new _h)}}else at(gr,"Using default OfflineComponentProvider"),await am(s,new k2(void 0));return s._offlineComponents}async function tA(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(gr,"Using user provided OnlineComponentProvider"),await NE(s,s._uninitializedComponentsProvider._online)):(at(gr,"Using default OnlineComponentProvider"),await NE(s,new Vm))),s._onlineComponents}function B2(s){return tA(s).then((t=>t.syncEngine))}async function vh(s){const t=await tA(s),i=t.eventManager;return i.onListen=b2.bind(null,t.syncEngine),i.onUnlisten=I2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=w2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=C2.bind(null,t.syncEngine),i}function j2(s,t,i,r){const l=new bp(r),c=new Tp(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>_p(await vh(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>vp(await vh(s),c)))}}function q2(s,t,i={}){const r=new fs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const T=new bp({next:N=>{T.Nu(),d.enqueueAndForget((()=>vp(c,S)));const F=N.docs.has(p);!F&&N.fromCache?y.reject(new st(G.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&N.fromCache&&_&&_.source==="server"?y.reject(new st(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),S=new Tp(Dh(p.path),T,{includeMetadataChanges:!0,Ka:!0});return _p(c,S)})(await vh(s),s.asyncQueue,t,i,r))),r.promise}function H2(s,t,i={}){const r=new fs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const T=new bp({next:N=>{T.Nu(),d.enqueueAndForget((()=>vp(c,S))),N.fromCache&&_.source==="server"?y.reject(new st(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(N)},error:N=>y.reject(N)}),S=new Tp(p,T,{includeMetadataChanges:!0,Ka:!0});return _p(c,S)})(await vh(s),s.asyncQueue,t,i,r))),r.promise}function F2(s,t){const i=new fs;return s.asyncQueue.enqueueAndForget((async()=>N2(await B2(s),t,i))),i.promise}function eA(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const G2="ComponentProvider",DE=new Map;function Q2(s,t,i,r,l){return new cI(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,eA(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const nA="firestore.googleapis.com",OE=!0;class VE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new st(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nA,this.ssl=OE}else this.host=t.host,this.ssl=t.ssl??OE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=x0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<vC)throw new st(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}WR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eA(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new st(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new st(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new st(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ou{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new HR;switch(r.type){case"firstParty":return new KR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=DE.get(i);r&&(at(G2,"Removing Datastore"),DE.delete(i),r.terminate())})(this),Promise.resolve()}}function K2(s,t,i,r={}){s=an(s,ou);const l=vo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(XE(`https://${p}`),JE("Firestore",!0)),c.host!==nA&&c.host!==p&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:r};if(!na(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=sn.MOCK_USER;else{y=g1(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new st(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new sn(S)}s._authCredentials=new FR(new QT(y,T))}}class _s{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new _s(this.firestore,t,this._query)}}class ve{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ve(this.firestore,t,this._key)}toJSON(){return{type:ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(nu(i,ve._jsonSchema))return new ve(t,r||null,new ft(re.fromString(i.referencePath)))}}ve._jsonSchemaVersion="firestore/documentReference/1.0",ve._jsonSchema={type:Ue("string",ve._jsonSchemaVersion),referencePath:Ue("string")};class cr extends _s{constructor(t,i,r){super(t,i,Dh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ve(this.firestore,null,new ft(t))}withConverter(t){return new cr(this.firestore,t,this._path)}}function fn(s,t,...i){if(s=ke(s),$m("collection","path",t),s instanceof ou){const r=re.fromString(t,...i);return Gv(r),new cr(s,null,r)}{if(!(s instanceof ve||s instanceof cr))throw new st(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(re.fromString(t,...i));return Gv(r),new cr(s.firestore,null,r)}}function Y2(s,t){if(s=an(s,ou),$m("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new st(G.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new _s(s,null,(function(r){return new ca(re.emptyPath(),r)})(t))}function de(s,t,...i){if(s=ke(s),arguments.length===1&&(t=Zm.newId()),$m("doc","path",t),s instanceof ou){const r=re.fromString(t,...i);return Fv(r),new ve(s,null,new ft(r))}{if(!(s instanceof ve||s instanceof cr))throw new st(G.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(re.fromString(t,...i));return Fv(r),new ve(s.firestore,s instanceof cr?s.converter:null,new ft(r))}}const ME="AsyncQueue";class xE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new P0(this,"async_queue_retry"),this._c=()=>{const r=rm();r&&at(ME,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=rm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=rm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!wo(t))throw t;at(ME,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",LE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=gp.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:LE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function LE(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Hi extends ou{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new xE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new xE(t),this._firestoreClient=void 0,await t}}}function X2(s,t){const i=typeof s=="object"?s:tT(),r=typeof s=="string"?s:hh,l=Pm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=m1("firestore");c&&K2(l,...c)}return l}function lu(s){if(s._terminated)throw new st(G.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||J2(s),s._firestoreClient}function J2(s){const t=s._freezeSettings(),i=Q2(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new P2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xn(tn.fromBase64String(t))}catch(i){throw new st(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Xn(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(nu(t,Xn._jsonSchema))return Xn.fromBase64String(t.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Ue("string",Xn._jsonSchemaVersion),bytes:Ue("string")};class Bh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new st(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class jh{constructor(t){this._methodName=t}}class zi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new st(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new st(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(t){if(nu(t,zi._jsonSchema))return new zi(t.latitude,t.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Ue("string",zi._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};class fi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(nu(t,fi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new fi(t.vectorValues);throw new st(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:Ue("string",fi._jsonSchemaVersion),vectorValues:Ue("object")};const Z2=/^__.*__$/;class $2{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new vr(t,this.data,this.fieldMask,i,this.fieldTransforms):new iu(t,this.data,i,this.fieldTransforms)}}class iA{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new vr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function sA(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{dataSource:s})}}class wp{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new wp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const i=this.path?.child(t),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Eh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(sA(this.dataSource)&&Z2.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class W2{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||kh(t)}createContext(t,i,r,l=!1){return new wp({dataSource:t,methodName:i,targetDoc:r,path:We.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uu(s){const t=s._freezeSettings(),i=kh(s._databaseId);return new W2(s._databaseId,!!t.ignoreUndefinedProperties,i)}function Rp(s,t,i,r,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);Cp("Data must be an object, but it was:",d,r);const p=oA(r,d);let _,y;if(c.merge)_=new Vn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const N=la(t,S,i);if(!d.contains(N))throw new st(G.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);cA(T,N)||T.push(N)}_=new Vn(T),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new $2(new Tn(p),_,y)}class qh extends jh{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof qh}}class Ip extends jh{_toFieldTransform(t){return new zI(t.path,new Yl)}isEqual(t){return t instanceof Ip}}function rA(s,t,i,r){const l=s.createContext(1,t,i);Cp("Data must be an object, but it was:",l,r);const c=[],d=Tn.empty();_r(r,((_,y)=>{const T=uA(t,_,i);y=ke(y);const S=l.childContextForFieldPath(T);if(y instanceof qh)c.push(T);else{const N=cu(y,S);N!=null&&(c.push(T),d.set(T,N))}}));const p=new Vn(c);return new iA(d,p,l.fieldTransforms)}function aA(s,t,i,r,l,c){const d=s.createContext(1,t,i),p=[la(t,r,i)],_=[l];if(c.length%2!=0)throw new st(G.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)p.push(la(t,c[N])),_.push(c[N+1]);const y=[],T=Tn.empty();for(let N=p.length-1;N>=0;--N)if(!cA(y,p[N])){const F=p[N];let $=_[N];$=ke($);const W=d.childContextForFieldPath(F);if($ instanceof qh)y.push(F);else{const et=cu($,W);et!=null&&(y.push(F),T.set(F,et))}}const S=new Vn(y);return new iA(T,S,d.fieldTransforms)}function tN(s,t,i,r=!1){return cu(i,s.createContext(r?4:3,t))}function cu(s,t){if(lA(s=ke(s)))return Cp("Unsupported field value:",t,s),oA(s,t);if(s instanceof jh)return(function(r,l){if(!sA(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let _=cu(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UI(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ue.fromDate(r);return{timestampValue:ph(l.serializer,c)}}if(r instanceof ue){const c=new ue(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ph(l.serializer,c)}}if(r instanceof zi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xn)return{bytesValue:R0(l.serializer,r._byteString)};if(r instanceof ve){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:op(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof fi)return(function(d,p){const _=d instanceof fi?d.toArray():d;return{mapValue:{fields:{[e0]:{stringValue:n0},[fh]:{arrayValue:{values:_.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return sp(p.serializer,T)}))}}}}}})(r,l);if(M0(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Rh(r)}`)})(s,t)}function oA(s,t){const i={};return XT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_r(s,((r,l)=>{const c=cu(l,t.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function lA(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ue||s instanceof zi||s instanceof Xn||s instanceof ve||s instanceof jh||s instanceof fi||M0(s))}function Cp(s,t,i){if(!lA(i)||!KT(i)){const r=Rh(i);throw r==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+r)}}function la(s,t,i){if((t=ke(t))instanceof Bh)return t._internalPath;if(typeof t=="string")return uA(s,t);throw Eh("Field path arguments must be of type string or ",s,!1,void 0,i)}const eN=new RegExp("[~\\*/\\[\\]]");function uA(s,t,i){if(t.search(eN)>=0)throw Eh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Bh(...t.split("."))._internalPath}catch{throw Eh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Eh(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new st(G.INVALID_ARGUMENT,p+s+_)}function cA(s,t){return s.some((i=>i.isEqual(t)))}class nN{convertValue(t,i="none"){switch(mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return we(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(dr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return _r(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[fh].arrayValue?.values?.map((r=>we(r.doubleValue)));return new fi(i)}convertGeoPoint(t){return new zi(we(t.latitude),we(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Nh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Fl(t));default:return null}}convertTimestamp(t){const i=fr(t);return new ue(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=re.fromString(t);Yt(V0(r),9688,{name:t});const l=new Gl(r.get(1),r.get(3)),c=new ft(r.popFirst(5));return l.isEqual(i)||ps(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class Np extends nN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ve(this.firestore,null,i)}}function ce(){return new Ip("serverTimestamp")}const UE="@firebase/firestore",kE="4.12.0";function PE(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class hA{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new iN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(la("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class iN extends hA{data(){return super.data()}}function fA(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new st(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dp{}class dA extends Dp{}function ua(s,t,...i){let r=[];t instanceof Dp&&r.push(t),r=r.concat(i),(function(c){const d=c.filter((_=>_ instanceof Op)).length,p=c.filter((_=>_ instanceof Hh)).length;if(d>1||d>0&&p>0)throw new st(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Hh extends dA{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new Hh(t,i,r)}_apply(t){const i=this._parse(t);return mA(t._query,i),new _s(t.firestore,t.converter,Am(t._query,i))}_parse(t){const i=uu(t.firestore);return(function(c,d,p,_,y,T,S){let N;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new st(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){BE(S,T);const $=[];for(const W of S)$.push(zE(_,c,W));N={arrayValue:{values:$}}}else N=zE(_,c,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||BE(S,T),N=tN(p,d,S,T==="in"||T==="not-in");return Le.create(y,T,N)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function yo(s,t,i){const r=t,l=la("where",s);return Hh._create(l,r,i)}class Op extends Dp{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Op(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:di.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const _ of p)mA(d,_),d=Am(d,_)})(t._query,i),new _s(t.firestore,t.converter,Am(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vp extends dA{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Vp(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new st(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new st(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kl(c,d)})(t._query,this._field,this._direction);return new _s(t.firestore,t.converter,CI(t._query,i))}}function Mp(s,t="asc"){const i=t,r=la("orderBy",s);return Vp._create(r,i)}function zE(s,t,i){if(typeof(i=ke(i))=="string"){if(i==="")throw new st(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!c0(t)&&i.indexOf("/")!==-1)throw new st(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(re.fromString(i));if(!ft.isDocumentKey(r))throw new st(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wv(s,new ft(r))}if(i instanceof ve)return Wv(s,i._key);throw new st(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rh(i)}.`)}function BE(s,t){if(!Array.isArray(s)||s.length===0)throw new st(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function mA(s,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new st(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function xp(s,t,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,r}class xl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Wr extends hA{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(la("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Wr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Wr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wr._jsonSchema={type:Ue("string",Wr._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class eh extends Wr{data(t={}){return super.data(t)}}class ta{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new xl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new eh(this._firestore,this._userDataWriter,r.key,r,new xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new eh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new xl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new eh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new xl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:sN(p.type),doc:_,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ta._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function sN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}ta._jsonSchemaVersion="firestore/querySnapshot/1.0",ta._jsonSchema={type:Ue("string",ta._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class rN{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=uu(t)}set(t,i,r){this._verifyNotCommitted();const l=om(t,this._firestore),c=xp(l.converter,i,r),d=Rp(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,r);return this._mutations.push(d.toMutation(l._key,hn.none())),this}update(t,i,r,...l){this._verifyNotCommitted();const c=om(t,this._firestore);let d;return d=typeof(i=ke(i))=="string"||i instanceof Bh?aA(this._dataReader,"WriteBatch.update",c._key,i,r,l):rA(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,hn.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=om(t,this._firestore);return this._mutations=this._mutations.concat(new Lh(i._key,hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new st(G.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function om(s,t){if((s=ke(s)).firestore!==t)throw new st(G.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function yr(s){s=an(s,ve);const t=an(s.firestore,Hi),i=lu(t);return q2(i,s._key).then((r=>gA(t,s,r)))}function ea(s){s=an(s,_s);const t=an(s.firestore,Hi),i=lu(t),r=new Np(t);return fA(s._query),H2(i,s._query).then((l=>new ta(t,r,s,l)))}function Fh(s,t,i){s=an(s,ve);const r=an(s.firestore,Hi),l=xp(s.converter,t,i),c=uu(r);return hu(r,[Rp(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,hn.none())])}function Jn(s,t,i,...r){s=an(s,ve);const l=an(s.firestore,Hi),c=uu(l);let d;return d=typeof(t=ke(t))=="string"||t instanceof Bh?aA(c,"updateDoc",s._key,t,i,r):rA(c,"updateDoc",s._key,t),hu(l,[d.toMutation(s._key,hn.exists(!0))])}function pA(s){return hu(an(s.firestore,Hi),[new Lh(s._key,hn.none())])}function Lp(s,t){const i=an(s.firestore,Hi),r=de(s),l=xp(s.converter,t),c=uu(s.firestore);return hu(i,[Rp(c,"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,hn.exists(!1))]).then((()=>r))}function _o(s,...t){s=ke(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||PE(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(PE(t[r])){const y=t[r];t[r]=y.next?.bind(y),t[r+1]=y.error?.bind(y),t[r+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof ve)d=an(s.firestore,Hi),p=Dh(s._key.path),c={next:y=>{t[r]&&t[r](gA(d,s,y))},error:t[r+1],complete:t[r+2]};else{const y=an(s,_s);d=an(y.firestore,Hi),p=y._query;const T=new Np(d);c={next:S=>{t[r]&&t[r](new ta(d,T,y,S))},error:t[r+1],complete:t[r+2]},fA(s._query)}const _=lu(d);return j2(_,p,l,c)}function hu(s,t){const i=lu(s);return F2(i,t)}function gA(s,t,i){const r=i.docs.get(t._key),l=new Np(s);return new Wr(s,l,t._key,r,new xl(i.hasPendingWrites,i.fromCache),t.converter)}function Th(s){return s=an(s,Hi),lu(s),new rN(s,(t=>hu(s,t)))}(function(t,i=!0){qR(Eo),uo(new ia("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new Hi(new GR(r.getProvider("auth-internal")),new YR(d,r.getProvider("app-check-internal")),hI(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),or(UE,kE,t),or(UE,kE,"esm2020")})();const aN={apiKey:"AIzaSyCCCZM-yAJhKmZ0fvnZAi86PNMFfXTD5v8",authDomain:"listapp-52494.firebaseapp.com",projectId:"listapp-52494",storageBucket:"listapp-52494.firebasestorage.app",messagingSenderId:"151979640665",appId:"1:151979640665:web:d3898a479a200e615cee48"},Mm=WE(aN),wt=X2(Mm);let Bi;try{Bi=ET(Mm,{persistence:[VT,RT,Qm],popupRedirectResolver:PT})}catch{Bi=PR(Mm)}const xm=new us;xm.setCustomParameters({prompt:"select_account"});function oN(){if(typeof navigator>"u")return!1;const s=navigator.userAgent||"";return/iPhone|iPad|iPod/i.test(s)}function lN(){if(typeof window>"u")return!1;const s=window.matchMedia?.("(display-mode: standalone)")?.matches,t=window.navigator?.standalone===!0;return oN()&&(s||t)}function yA(s,t){const i=Number.isFinite(s?.order)?s.order:Number.MAX_SAFE_INTEGER,r=Number.isFinite(t?.order)?t.order:Number.MAX_SAFE_INTEGER;if(i!==r)return i-r;const l=s?.createdAt?.seconds??0,c=t?.createdAt?.seconds??0;if(l!==c)return l-c;const d=s?.createdAt?.nanoseconds??0,p=t?.createdAt?.nanoseconds??0;return d!==p?d-p:s.id.localeCompare(t.id)}async function Up(s){const t=de(wt,"users",s.uid),i=await yr(t),r={uid:s.uid,email:s.email??"",emailLower:(s.email??"").toLowerCase(),displayName:s.displayName??"Utente",photoURL:s.photoURL??"",lastSeenAt:ce()};if(!i.exists()){await Fh(t,{...r,createdAt:ce()});return}await Jn(t,r)}async function uN(){try{const s=await Kw(Bi,xm);await Up(s.user);return}catch(s){const t=s?.code||"",i=s?.message||"",r=t.includes("popup-blocked")||t.includes("cancelled-popup-request"),l=t.includes("popup-closed-by-user"),c=t.includes("operation-not-supported-in-this-environment");if(l)throw s;if(lN()&&(r||c))throw new Error("Popup Google bloccato su iPhone web app. Apri in Safari e fai login da browser.");try{await Ww(Bi,xm);return}catch{throw new Error(i||"Login Google non riuscito.")}}}async function cN(){const s=await eR(Bi);s?.user&&await Up(s.user)}function hN(){return Nw(Bi)}async function fN(s){s&&await Up(s)}async function dN(s,t){const i=t.trim();if(!i)throw new Error("Inserisci un nome spazio.");const r=await Lp(fn(wt,"spaces"),{name:i,ownerId:s.uid,createdAt:ce(),updatedAt:ce()});await Fh(de(wt,"spaces",r.id,"members",s.uid),{uid:s.uid,role:"owner",email:s.email??"",emailLower:(s.email??"").toLowerCase(),displayName:s.displayName??"Owner",addedAt:ce()})}async function mN(s,t){const i=t.trim();if(!i)throw new Error("Inserisci un nome spazio valido.");await Jn(de(wt,"spaces",s),{name:i,updatedAt:ce()})}async function pN(s,t){const i=t.trim().toLowerCase();if(!i)throw new Error("Inserisci una email valida.");const r=ua(fn(wt,"users"),yo("emailLower","==",i)),l=await ea(r);if(l.empty)throw new Error("Utente non trovato. Deve fare almeno un login prima.");const c=l.docs[0],d=await yr(de(wt,"spaces",s));if(!d.exists())throw new Error("Spazio non trovato.");const p=c.id,_=Bi.currentUser?.uid??"";if(p===_)throw new Error("Non puoi invitare te stesso.");if((await yr(de(wt,"spaces",s,"members",p))).exists())throw new Error("Questo utente e gia membro dello spazio.");await Fh(de(wt,"invitations",`${s}_${p}`),{spaceId:s,spaceName:d.data().name??"Spazio",invitedUid:p,invitedEmailLower:i,invitedByUid:_,invitedByName:Bi.currentUser?.displayName??Bi.currentUser?.email??"Proprietario",status:"pending",createdAt:ce(),respondedAt:null})}async function gN(s,t){try{const i=de(wt,"invitations",s),r=await yr(i);if(!r.exists())throw new Error("Invito non trovato.");const l=r.data();if(l.invitedUid!==t.uid)throw new Error("Invito non valido per questo utente.");if(l.status!=="pending")throw new Error("Invito gia gestito.");const c=de(wt,"spaces",l.spaceId,"members",t.uid);try{await Fh(c,{uid:t.uid,role:"editor",email:t.email??"",emailLower:(t.email??"").toLowerCase(),displayName:t.displayName??"Editor",invitationId:s,addedAt:ce()})}catch(d){const p=d?.code?` [${d.code}]`:"";throw new Error(`Accetta invito fallito (creazione membro)${p}`)}try{await Jn(i,{status:"accepted",respondedAt:ce()})}catch(d){const p=d?.code?` [${d.code}]`:"";throw new Error(`Accetta invito fallito (update invito)${p}`)}}catch(i){throw i}}async function yN(s,t){const i=de(wt,"invitations",s),r=await yr(i);if(!r.exists())throw new Error("Invito non trovato.");const l=r.data();if(l.invitedUid!==t)throw new Error("Invito non valido per questo utente.");l.status==="pending"&&await Jn(i,{status:"declined",respondedAt:ce()})}async function _N(s,t,i){if(!["viewer","editor"].includes(i))throw new Error("Ruolo non valido.");const r=de(wt,"spaces",s,"members",t),l=await yr(r);if(!l.exists())throw new Error("Membro non trovato.");if(l.data().role==="owner")throw new Error("Non puoi modificare il ruolo owner.");await Jn(r,{role:i,updatedAt:ce()})}async function vN(s,t){const i=de(wt,"spaces",s,"members",t),r=await yr(i);if(r.exists()){if(r.data().role==="owner")throw new Error("Non puoi rimuovere il proprietario.");await pA(i)}}async function EN(s,t,i){const r=i.trim();if(!r)throw new Error("Inserisci un nome lista.");await Lp(fn(wt,"lists"),{name:r,spaceId:t,createdBy:s.uid,createdAt:ce(),updatedAt:ce()})}async function TN(s,t){const i=t.trim();if(!i)throw new Error("Inserisci un nome lista valido.");await Jn(de(wt,"lists",s),{name:i,updatedAt:ce()})}async function AN(s,t,i){const r=i.trim();if(!r)throw new Error("Inserisci un elemento.");const l=await ea(fn(wt,"lists",t,"items"));let c=0;l.docs.forEach(d=>{const p=d.data().order;Number.isFinite(p)&&p>c&&(c=p)}),await Lp(fn(wt,"lists",t,"items"),{text:r,completed:!1,completedAt:null,createdBy:s.uid,createdAt:ce(),updatedAt:ce(),order:c+1}),await Jn(de(wt,"lists",t),{updatedAt:ce()})}async function SN(s,t,i){const r=i.trim();if(!r)throw new Error("Inserisci un testo valido.");await Jn(de(wt,"lists",s,"items",t),{text:r,updatedAt:ce()})}async function jE(s,t,i){if(!["up","down"].includes(i))return;const l=(await ea(fn(wt,"lists",s,"items"))).docs.map(N=>({id:N.id,...N.data()}));l.sort(yA);const c=l.findIndex(N=>N.id===t);if(c===-1)return;const d=i==="up"?c-1:c+1;if(d<0||d>=l.length)return;const p=l[c],_=l[d],y=Number.isFinite(p.order)?p.order:c+1,T=Number.isFinite(_.order)?_.order:d+1,S=Th(wt);S.update(de(wt,"lists",s,"items",p.id),{order:T,updatedAt:ce()}),S.update(de(wt,"lists",s,"items",_.id),{order:y,updatedAt:ce()}),await S.commit(),await Jn(de(wt,"lists",s),{updatedAt:ce()})}async function bN(s,t,i){await Jn(de(wt,"lists",s,"items",t),{completed:i,completedAt:i?ce():null,updatedAt:ce()}),await Jn(de(wt,"lists",s),{updatedAt:ce()})}async function wN(s,t){await pA(de(wt,"lists",s,"items",t)),await Jn(de(wt,"lists",s),{updatedAt:ce()})}async function RN(s){const t=fn(wt,"lists",s,"items"),i=await ea(t),r=Th(wt);i.docs.forEach(l=>r.delete(l.ref)),r.delete(de(wt,"lists",s)),await r.commit()}async function IN(s){const t=await ea(fn(wt,"spaces",s,"members")),i=await ea(ua(fn(wt,"lists"),yo("spaceId","==",s)));for(const l of i.docs){const c=await ea(fn(wt,"lists",l.id,"items")),d=Th(wt);c.docs.forEach(p=>d.delete(p.ref)),d.delete(l.ref),await d.commit()}const r=Th(wt);t.docs.forEach(l=>r.delete(l.ref)),r.delete(de(wt,"spaces",s)),await r.commit()}function CN(s,t,i){const r=new Map,l=new Map,c=()=>{const S=[...new Map([...r,...l]).values()].sort((N,F)=>{const $=N?.updatedAt?.seconds??0;return(F?.updatedAt?.seconds??0)-$});t(S)},d=ua(Y2(wt,"members"),yo("uid","==",s),Mp("addedAt","desc")),p=ua(fn(wt,"spaces"),yo("ownerId","==",s)),_=_o(d,async T=>{const S=T.docs.map($=>$.ref.parent.parent).filter(Boolean),N=[...new Map(S.map($=>[$.path,$])).values()],F=await Promise.all(N.map(async $=>{const W=await yr($);return W.exists()?{id:W.id,...W.data()}:null}));r.clear(),F.filter(Boolean).forEach($=>r.set($.id,$)),c()},i),y=_o(p,T=>{l.clear(),T.docs.forEach(S=>l.set(S.id,{id:S.id,...S.data()})),c()},i);return()=>{_(),y()}}function NN(s,t,i){const r=ua(fn(wt,"spaces",s,"members"),Mp("addedAt","asc"));return _o(r,l=>t(l.docs.map(c=>({id:c.id,...c.data()}))),i)}function DN(s,t,i){const r=ua(fn(wt,"invitations"),yo("invitedUid","==",s));return _o(r,l=>{const c=l.docs.map(d=>({id:d.id,...d.data()})).filter(d=>d.status==="pending").sort((d,p)=>{const _=d?.createdAt?.seconds??0,y=p?.createdAt?.seconds??0;if(_!==y)return y-_;const T=d?.createdAt?.nanoseconds??0;return(p?.createdAt?.nanoseconds??0)-T});t(c)},i)}function ON(s,t,i){const r=ua(fn(wt,"lists"),yo("spaceId","==",s),Mp("updatedAt","desc"));return _o(r,l=>t(l.docs.map(c=>({id:c.id,...c.data()}))),i)}function VN(s,t,i){const r=fn(wt,"lists",s,"items");return _o(r,l=>{const c=l.docs.map(d=>({id:d.id,...d.data()}));c.sort(yA),t(c)},i)}const qE="1.0.0";function MN(){const[s,t]=Mt.useState(null),[i,r]=Mt.useState(!0),[l,c]=Mt.useState([]),[d,p]=Mt.useState([]),[_,y]=Mt.useState([]),[T,S]=Mt.useState(""),[N,F]=Mt.useState([]),[$,W]=Mt.useState(""),[et,dt]=Mt.useState([]),[_t,ut]=Mt.useState(""),[vt,ae]=Mt.useState(!1),[xt,C]=Mt.useState(()=>localStorage.getItem("theme")==="dark"),[b,I]=Mt.useState(!1),[M,V]=Mt.useState([]),[L,w]=Mt.useState(""),[Wt,pe]=Mt.useState(""),[q,nt]=Mt.useState(""),[ct,Lt]=Mt.useState(""),[Ht,D]=Mt.useState(!1),[K,it]=Mt.useState(""),[rt,mt]=Mt.useState(!1),[Et,Dt]=Mt.useState(""),[Ee,Xt]=Mt.useState(""),[Zn,Mn]=Mt.useState("");Mt.useEffect(()=>(cN().catch(X=>ut(X.message||"Errore login redirect")),Cw(Bi,X=>{t(X),X&&fN(X).catch(Tt=>ut(Tt.message)),r(!1)})),[]),Mt.useEffect(()=>{const X=document.documentElement;xt?(X.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark")):(X.removeAttribute("data-theme"),localStorage.setItem("theme","light"))},[xt]),Mt.useEffect(()=>{if(!s){c([]),S("");return}const X=CN(s.uid,Tt=>{ut(""),c(Tt),S(Ge=>Ge&&Tt.some(Ts=>Ts.id===Ge)?Ge:Tt[0]?.id??"")},Tt=>ut(Tt.message));return()=>X()},[s]),Mt.useEffect(()=>{if(!s){y([]);return}const X=DN(s.uid,Tt=>{ut(""),y(Tt)},Tt=>ut(Tt.message));return()=>X()},[s]),Mt.useEffect(()=>{if(!T){F([]),W("");return}const X=ON(T,Tt=>{ut(""),F(Tt),W(Ge=>Ge&&Tt.some(Ts=>Ts.id===Ge)?Ge:Tt[0]?.id??"")},Tt=>ut(Tt.message));return()=>{X()}},[T]),Mt.useEffect(()=>{if(!$){dt([]);return}const X=VN($,Tt=>{ut(""),dt(Tt)},Tt=>ut(Tt.message));return()=>X()},[$]);const Pe=Mt.useMemo(()=>l.find(X=>X.id===T)??null,[l,T]),ge=Mt.useMemo(()=>N.find(X=>X.id===$)??null,[N,$]),xn=et.filter(X=>X.completed).length,vs=Mt.useMemo(()=>b?et.filter(X=>!X.completed):et,[et,b]),An=Pe?.ownerId===s?.uid,Es=ge?M.includes(ge.id):!1;Mt.useEffect(()=>{if(!T||!An){p([]);return}const X=NN(T,Tt=>{ut(""),p(Tt)},Tt=>ut(Tt.message));return()=>X()},[T,An]),Mt.useEffect(()=>{D(!1),it(Pe?.name??"")},[Pe?.id]),Mt.useEffect(()=>{mt(!1),Dt(ge?.name??""),Xt(""),Mn("")},[ge?.id]);function Er(X){V(Tt=>Tt.includes(X)?Tt.filter(Ge=>Ge!==X):[...Tt,X])}async function Nt(X){ut(""),ae(!0);try{await X()}catch(Tt){ut(Tt.message||"Errore inatteso")}finally{ae(!1)}}return i?Z.jsx("div",{className:"center",children:"Caricamento..."}):s?Z.jsxs("main",{className:"layout",children:[Z.jsxs("header",{className:"topbar",children:[Z.jsxs("div",{children:[Z.jsxs("h1",{className:"appTitle",children:["Liste ",Z.jsxs("span",{className:"versionTag",children:["v",qE]})]}),Z.jsxs("p",{children:[s.displayName," | ",s.email]})]}),Z.jsxs("details",{className:"menuDropdown",children:[Z.jsx("summary",{className:"ghost menuSummary","aria-label":"Menu",children:Z.jsx("span",{className:"menuHamburger","aria-hidden":"true"})}),Z.jsxs("div",{className:"menuPanel",children:[Z.jsx("button",{className:"ghost",onClick:()=>window.location.reload(),children:"Aggiorna"}),Z.jsx("button",{className:"ghost",onClick:()=>C(X=>!X),children:xt?"Light mode":"Dark mode"}),Z.jsx("button",{className:"ghost",onClick:()=>hN(),children:"Logout"})]})]})]}),_.length?Z.jsxs("section",{className:"panel",children:[Z.jsx("h2",{children:"Inviti ricevuti"}),Z.jsx("div",{className:"membersList",children:_.map(X=>Z.jsxs("div",{className:"memberRow",children:[Z.jsxs("div",{children:[Z.jsx("strong",{children:X.spaceName||"Spazio"}),Z.jsxs("p",{className:"hint",children:["Da: ",X.invitedByName||X.invitedByUid||"proprietario"]})]}),Z.jsxs("div",{className:"memberActions",children:[Z.jsx("button",{disabled:vt,onClick:()=>Nt(async()=>{await gN(X.id,s),S(X.spaceId||"")}),children:"Accetta"}),Z.jsx("button",{className:"ghost",disabled:vt,onClick:()=>Nt(()=>yN(X.id,s.uid)),children:"Rifiuta"})]})]},X.id))})]}):null,Z.jsxs("section",{className:"panel",children:[Z.jsx("h2",{children:"Spazi condivisi (cartelle)"}),Z.jsxs("div",{className:"row",children:[Z.jsx("input",{value:L,onChange:X=>w(X.target.value),placeholder:"Es. Casa con Luca"}),Z.jsx("button",{disabled:vt||!L.trim(),onClick:()=>Nt(async()=>{await dN(s,L),w("")}),children:"Crea spazio"})]}),Z.jsx("div",{className:"chips",children:l.map(X=>Z.jsx("button",{className:X.id===T?"chip active":"chip",onClick:()=>S(X.id),children:X.name},X.id))})]}),Pe?Z.jsxs("section",{className:"panel",children:[Z.jsxs("div",{className:"titleRow",children:[Ht?Z.jsxs("div",{className:"inlineEditor",children:[Z.jsx("input",{value:K,onChange:X=>it(X.target.value)}),Z.jsx("button",{disabled:vt||!K.trim(),onClick:()=>Nt(async()=>{await mN(Pe.id,K),D(!1)}),children:"Salva"}),Z.jsx("button",{className:"ghost",onClick:()=>D(!1),children:"Annulla"})]}):Z.jsxs("h2",{children:["Condividi spazio: ",Pe.name]}),Z.jsxs("div",{className:"topActions",children:[An&&!Ht?Z.jsx("button",{className:"ghost",onClick:()=>D(!0),children:"Rinomina"}):null,An?Z.jsx("button",{className:"danger iconBtn",title:"Elimina spazio","aria-label":"Elimina spazio",disabled:vt,onClick:()=>Nt(async()=>{window.confirm("Eliminare questo spazio e tutte le sue liste?")&&(await IN(Pe.id),S(""),W(""))}),children:"-"}):null]})]}),An?Z.jsxs(Z.Fragment,{children:[Z.jsxs("div",{className:"row",children:[Z.jsx("input",{value:Wt,onChange:X=>pe(X.target.value),placeholder:"email utente da invitare",type:"email"}),Z.jsx("button",{disabled:vt||!Wt.trim(),onClick:()=>Nt(async()=>{await pN(Pe.id,Wt),pe("")}),children:"Invita"})]}),Z.jsx("div",{className:"membersList",children:d.map(X=>Z.jsxs("div",{className:"memberRow",children:[Z.jsxs("div",{children:[Z.jsx("strong",{children:X.displayName||X.email||X.id}),Z.jsx("p",{className:"hint",children:X.email||X.id})]}),X.role==="owner"?Z.jsx("span",{className:"roleBadge",children:"owner"}):Z.jsxs("div",{className:"memberActions",children:[Z.jsxs("select",{value:X.role||"editor",onChange:Tt=>Nt(()=>_N(Pe.id,X.id,Tt.target.value)),children:[Z.jsx("option",{value:"editor",children:"editor"}),Z.jsx("option",{value:"viewer",children:"viewer"})]}),Z.jsx("button",{className:"danger iconBtn",title:"Rimuovi membro","aria-label":"Rimuovi membro",onClick:()=>Nt(()=>vN(Pe.id,X.id)),children:"-"})]})]},X.id))}),Z.jsx("p",{className:"hint",children:"Gestione membri disponibile solo al proprietario."})]}):Z.jsx("p",{className:"hint",children:"Solo il proprietario puo invitare persone, gestire ruoli o eliminare lo spazio."})]}):null,Pe?Z.jsxs("section",{className:"panel",children:[Z.jsx("h2",{children:"Liste nello spazio"}),Z.jsxs("div",{className:"row",children:[Z.jsx("input",{value:q,onChange:X=>nt(X.target.value),placeholder:"Es. Lista spesa"}),Z.jsx("button",{disabled:vt||!q.trim(),onClick:()=>Nt(async()=>{await EN(s,Pe.id,q),nt("")}),children:"Nuova lista"})]}),Z.jsx("div",{className:"chips",children:N.map(X=>Z.jsxs("button",{className:X.id===$?"chip active":"chip",onClick:()=>W(X.id),children:[X.name,M.includes(X.id)?" (chiusa)":""]},X.id))})]}):null,ge?Z.jsxs("section",{className:"panel",children:[Z.jsxs("div",{className:"titleRow",children:[rt?Z.jsxs("div",{className:"inlineEditor",children:[Z.jsx("input",{value:Et,onChange:X=>Dt(X.target.value)}),Z.jsx("button",{disabled:vt||!Et.trim(),onClick:()=>Nt(async()=>{await TN(ge.id,Et),mt(!1)}),children:"Salva"}),Z.jsx("button",{className:"ghost",onClick:()=>mt(!1),children:"Annulla"})]}):Z.jsxs("h2",{children:[ge.name," (",xn,"/",et.length,")"]}),Z.jsxs("div",{className:"topActions compactActions",children:[rt?null:Z.jsx("button",{className:"ghost",onClick:()=>mt(!0),children:"Rinomina"}),Z.jsx("button",{className:"ghost",onClick:()=>Er(ge.id),children:Es?"Espandi":"Chiudi"}),Z.jsx("button",{className:"danger iconBtn",title:"Elimina lista","aria-label":"Elimina lista",disabled:vt,onClick:()=>Nt(async()=>{window.confirm("Eliminare questa lista e tutti i suoi elementi?")&&(await RN(ge.id),W(""))}),children:"-"})]})]}),Es?Z.jsx("p",{className:"hint",children:'Lista chiusa. Premi "Espandi" per visualizzare elementi e azioni.'}):Z.jsxs(Z.Fragment,{children:[Z.jsxs("div",{className:"row",children:[Z.jsx("input",{value:ct,onChange:X=>Lt(X.target.value),placeholder:"Aggiungi elemento"}),Z.jsx("button",{disabled:vt||!ct.trim(),onClick:()=>Nt(async()=>{await AN(s,ge.id,ct),Lt("")}),children:"Aggiungi"})]}),Z.jsxs("label",{className:"toggle",children:[Z.jsx("input",{type:"checkbox",checked:b,onChange:X=>I(X.target.checked)}),"Mostra solo non completati"]}),Z.jsx("ul",{className:"items",children:vs.map((X,Tt)=>Z.jsx("li",{children:Ee===X.id?Z.jsxs("div",{className:"inlineEditor grow",children:[Z.jsx("input",{value:Zn,onChange:Ge=>Mn(Ge.target.value)}),Z.jsx("button",{disabled:vt||!Zn.trim(),onClick:()=>Nt(async()=>{await SN(ge.id,X.id,Zn),Xt(""),Mn("")}),children:"Salva"}),Z.jsx("button",{className:"ghost",onClick:()=>{Xt(""),Mn("")},children:"Annulla"})]}):Z.jsxs(Z.Fragment,{children:[Z.jsxs("label",{children:[Z.jsx("input",{type:"checkbox",checked:!!X.completed,onChange:Ge=>Nt(()=>bN(ge.id,X.id,Ge.target.checked))}),Z.jsx("span",{className:X.completed?"done":"",children:X.text})]}),Z.jsxs("div",{className:"itemActions",children:[Z.jsx("button",{className:"ghost iconBtn small",title:"Sposta su","aria-label":"Sposta su",disabled:vt||Tt===0,onClick:()=>Nt(()=>jE(ge.id,X.id,"up")),children:"^"}),Z.jsx("button",{className:"ghost iconBtn small",title:"Sposta giu","aria-label":"Sposta giu",disabled:vt||Tt===vs.length-1,onClick:()=>Nt(()=>jE(ge.id,X.id,"down")),children:"v"}),Z.jsx("button",{className:"ghost",onClick:()=>{Xt(X.id),Mn(X.text||"")},children:"Rinomina"}),Z.jsx("button",{className:"danger iconBtn small",title:"Elimina elemento","aria-label":"Elimina elemento",disabled:vt,onClick:()=>Nt(()=>wN(ge.id,X.id)),children:"-"})]})]})},X.id))})]})]}):null,_t?Z.jsx("p",{className:"error",children:_t}):null]}):Z.jsxs("main",{className:"auth",children:[Z.jsxs("h1",{className:"appTitle",children:["Liste ",Z.jsxs("span",{className:"versionTag",children:["v",qE]})]}),Z.jsx("p",{children:"Liste condivise in tempo reale, installabili su iPhone come web app."}),Z.jsx("button",{onClick:()=>Nt(()=>uN()),disabled:vt,children:"Entra con Google"}),_t?Z.jsx("p",{className:"error",children:_t}):null]})}r1.createRoot(document.getElementById("root")).render(Z.jsx($S.StrictMode,{children:Z.jsx(MN,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js?v=4").catch(()=>{})});
