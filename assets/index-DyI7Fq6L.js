(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function BS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Bd={exports:{}},vl={};var W_;function qS(){if(W_)return vl;W_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return vl.Fragment=t,vl.jsx=i,vl.jsxs=i,vl}var tv;function jS(){return tv||(tv=1,Bd.exports=qS()),Bd.exports}var ht=jS(),qd={exports:{}},Et={};var ev;function HS(){if(ev)return Et;ev=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.iterator;function G(V){return V===null||typeof V!="object"?null:(V=D&&V[D]||V["@@iterator"],typeof V=="function"?V:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,tt={};function ft(V,Y,et){this.props=V,this.context=Y,this.refs=tt,this.updater=et||J}ft.prototype.isReactComponent={},ft.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},ft.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function _t(){}_t.prototype=ft.prototype;function pt(V,Y,et){this.props=V,this.context=Y,this.refs=tt,this.updater=et||J}var kt=pt.prototype=new _t;kt.constructor=pt,Z(kt,ft.prototype),kt.isPureReactComponent=!0;var ee=Array.isArray;function Ct(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(V,Y,et){var rt=et.ref;return{$$typeof:r,type:V,key:Y,ref:rt!==void 0?rt:null,props:et}}function M(V,Y){return I(V.type,Y,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function L(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(et){return Y[et]})}var w=/\/+/g;function Lt(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):Y.toString(36)}function at(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ct,Ct):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function B(V,Y,et,rt,yt){var bt=typeof V;(bt==="undefined"||bt==="boolean")&&(V=null);var xt=!1;if(V===null)xt=!0;else switch(bt){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(V.$$typeof){case r:case t:xt=!0;break;case T:return xt=V._init,B(xt(V._payload),Y,et,rt,yt)}}if(xt)return yt=yt(V),xt=rt===""?"."+Lt(V,0):rt,ee(yt)?(et="",xt!=null&&(et=xt.replace(w,"$&/")+"/"),B(yt,Y,et,"",function(ls){return ls})):yt!=null&&(N(yt)&&(yt=M(yt,et+(yt.key==null||V&&V.key===yt.key?"":(""+yt.key).replace(w,"$&/")+"/")+xt)),Y.push(yt)),1;xt=0;var Ve=rt===""?".":rt+":";if(ee(V))for(var ae=0;ae<V.length;ae++)rt=V[ae],bt=Ve+Lt(rt,ae),xt+=B(rt,Y,et,bt,yt);else if(ae=G(V),typeof ae=="function")for(V=ae.call(V),ae=0;!(rt=V.next()).done;)rt=rt.value,bt=Ve+Lt(rt,ae++),xt+=B(rt,Y,et,bt,yt);else if(bt==="object"){if(typeof V.then=="function")return B(at(V),Y,et,rt,yt);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return xt}function $(V,Y,et){if(V==null)return V;var rt=[],yt=0;return B(V,rt,"","",function(bt){return Y.call(et,bt,yt++)}),rt}function lt(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(et){(V._status===0||V._status===-1)&&(V._status=1,V._result=et)},function(et){(V._status===0||V._status===-1)&&(V._status=2,V._result=et)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var zt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ft={map:$,forEach:function(V,Y,et){$(V,function(){Y.apply(this,arguments)},et)},count:function(V){var Y=0;return $(V,function(){Y++}),Y},toArray:function(V){return $(V,function(Y){return Y})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Et.Activity=S,Et.Children=Ft,Et.Component=ft,Et.Fragment=i,Et.Profiler=l,Et.PureComponent=pt,Et.StrictMode=s,Et.Suspense=v,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Et.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},Et.cache=function(V){return function(){return V.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(V,Y,et){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var rt=Z({},V.props),yt=V.key;if(Y!=null)for(bt in Y.key!==void 0&&(yt=""+Y.key),Y)!b.call(Y,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Y.ref===void 0||(rt[bt]=Y[bt]);var bt=arguments.length-2;if(bt===1)rt.children=et;else if(1<bt){for(var xt=Array(bt),Ve=0;Ve<bt;Ve++)xt[Ve]=arguments[Ve+2];rt.children=xt}return I(V.type,yt,rt)},Et.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Et.createElement=function(V,Y,et){var rt,yt={},bt=null;if(Y!=null)for(rt in Y.key!==void 0&&(bt=""+Y.key),Y)b.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(yt[rt]=Y[rt]);var xt=arguments.length-2;if(xt===1)yt.children=et;else if(1<xt){for(var Ve=Array(xt),ae=0;ae<xt;ae++)Ve[ae]=arguments[ae+2];yt.children=Ve}if(V&&V.defaultProps)for(rt in xt=V.defaultProps,xt)yt[rt]===void 0&&(yt[rt]=xt[rt]);return I(V,bt,yt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(V){return{$$typeof:p,render:V}},Et.isValidElement=N,Et.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:lt}},Et.memo=function(V,Y){return{$$typeof:y,type:V,compare:Y===void 0?null:Y}},Et.startTransition=function(V){var Y=C.T,et={};C.T=et;try{var rt=V(),yt=C.S;yt!==null&&yt(et,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ct,zt)}catch(bt){zt(bt)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),C.T=Y}},Et.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Et.use=function(V){return C.H.use(V)},Et.useActionState=function(V,Y,et){return C.H.useActionState(V,Y,et)},Et.useCallback=function(V,Y){return C.H.useCallback(V,Y)},Et.useContext=function(V){return C.H.useContext(V)},Et.useDebugValue=function(){},Et.useDeferredValue=function(V,Y){return C.H.useDeferredValue(V,Y)},Et.useEffect=function(V,Y){return C.H.useEffect(V,Y)},Et.useEffectEvent=function(V){return C.H.useEffectEvent(V)},Et.useId=function(){return C.H.useId()},Et.useImperativeHandle=function(V,Y,et){return C.H.useImperativeHandle(V,Y,et)},Et.useInsertionEffect=function(V,Y){return C.H.useInsertionEffect(V,Y)},Et.useLayoutEffect=function(V,Y){return C.H.useLayoutEffect(V,Y)},Et.useMemo=function(V,Y){return C.H.useMemo(V,Y)},Et.useOptimistic=function(V,Y){return C.H.useOptimistic(V,Y)},Et.useReducer=function(V,Y,et){return C.H.useReducer(V,Y,et)},Et.useRef=function(V){return C.H.useRef(V)},Et.useState=function(V){return C.H.useState(V)},Et.useSyncExternalStore=function(V,Y,et){return C.H.useSyncExternalStore(V,Y,et)},Et.useTransition=function(){return C.H.useTransition()},Et.version="19.2.4",Et}var nv;function Vm(){return nv||(nv=1,qd.exports=HS()),qd.exports}var Ce=Vm();const GS=BS(Ce);var jd={exports:{}},El={},Hd={exports:{}},Gd={};var iv;function FS(){return iv||(iv=1,(function(r){function t(B,$){var lt=B.length;B.push($);t:for(;0<lt;){var zt=lt-1>>>1,Ft=B[zt];if(0<l(Ft,$))B[zt]=$,B[lt]=Ft,lt=zt;else break t}}function i(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var $=B[0],lt=B.pop();if(lt!==$){B[0]=lt;t:for(var zt=0,Ft=B.length,V=Ft>>>1;zt<V;){var Y=2*(zt+1)-1,et=B[Y],rt=Y+1,yt=B[rt];if(0>l(et,lt))rt<Ft&&0>l(yt,et)?(B[zt]=yt,B[rt]=lt,zt=rt):(B[zt]=et,B[Y]=lt,zt=Y);else if(rt<Ft&&0>l(yt,lt))B[zt]=yt,B[rt]=lt,zt=rt;else break t}}return $}function l(B,$){var lt=B.sortIndex-$.sortIndex;return lt!==0?lt:B.id-$.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var v=[],y=[],T=1,S=null,D=3,G=!1,J=!1,Z=!1,tt=!1,ft=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function kt(B){for(var $=i(y);$!==null;){if($.callback===null)s(y);else if($.startTime<=B)s(y),$.sortIndex=$.expirationTime,t(v,$);else break;$=i(y)}}function ee(B){if(Z=!1,kt(B),!J)if(i(v)!==null)J=!0,Ct||(Ct=!0,L());else{var $=i(y);$!==null&&at(ee,$.startTime-B)}}var Ct=!1,C=-1,b=5,I=-1;function M(){return tt?!0:!(r.unstable_now()-I<b)}function N(){if(tt=!1,Ct){var B=r.unstable_now();I=B;var $=!0;try{t:{J=!1,Z&&(Z=!1,_t(C),C=-1),G=!0;var lt=D;try{e:{for(kt(B),S=i(v);S!==null&&!(S.expirationTime>B&&M());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,D=S.priorityLevel;var Ft=zt(S.expirationTime<=B);if(B=r.unstable_now(),typeof Ft=="function"){S.callback=Ft,kt(B),$=!0;break e}S===i(v)&&s(v),kt(B)}else s(v);S=i(v)}if(S!==null)$=!0;else{var V=i(y);V!==null&&at(ee,V.startTime-B),$=!1}}break t}finally{S=null,D=lt,G=!1}$=void 0}}finally{$?L():Ct=!1}}}var L;if(typeof pt=="function")L=function(){pt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Lt=w.port2;w.port1.onmessage=N,L=function(){Lt.postMessage(null)}}else L=function(){ft(N,0)};function at(B,$){C=ft(function(){B(r.unstable_now())},$)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(B){B.callback=null},r.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<B?Math.floor(1e3/B):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(B){switch(D){case 1:case 2:case 3:var $=3;break;default:$=D}var lt=D;D=$;try{return B()}finally{D=lt}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(B,$){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var lt=D;D=B;try{return $()}finally{D=lt}},r.unstable_scheduleCallback=function(B,$,lt){var zt=r.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?zt+lt:zt):lt=zt,B){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=lt+Ft,B={id:T++,callback:$,priorityLevel:B,startTime:lt,expirationTime:Ft,sortIndex:-1},lt>zt?(B.sortIndex=lt,t(y,B),i(v)===null&&B===i(y)&&(Z?(_t(C),C=-1):Z=!0,at(ee,lt-zt))):(B.sortIndex=Ft,t(v,B),J||G||(J=!0,Ct||(Ct=!0,L()))),B},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(B){var $=D;return function(){var lt=D;D=$;try{return B.apply(this,arguments)}finally{D=lt}}}})(Gd)),Gd}var rv;function QS(){return rv||(rv=1,Hd.exports=FS()),Hd.exports}var Fd={exports:{}},Xe={};var sv;function KS(){if(sv)return Xe;sv=1;var r=Vm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:v,containerInfo:y,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xe.createPortal=function(v,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,T)},Xe.flushSync=function(v){var y=d.T,T=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=y,s.p=T,s.d.f()}},Xe.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(v,y))},Xe.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Xe.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:G}):T==="script"&&s.d.X(v,{crossOrigin:S,integrity:D,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xe.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);s.d.M(v,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(v)},Xe.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin);s.d.L(v,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xe.preloadModule=function(v,y){if(typeof v=="string")if(y){var T=p(y.as,y.crossOrigin);s.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(v)},Xe.requestFormReset=function(v){s.d.r(v)},Xe.unstable_batchedUpdates=function(v,y){return v(y)},Xe.useFormState=function(v,y,T){return d.H.useFormState(v,y,T)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.4",Xe}var av;function YS(){if(av)return Fd.exports;av=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Fd.exports=KS(),Fd.exports}var ov;function XS(){if(ov)return El;ov=1;var r=QS(),t=Vm(),i=YS();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(s(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),kt=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Lt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case ft:return"Profiler";case tt:return"StrictMode";case ee:return"Suspense";case Ct:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case pt:return e.displayName||"Context";case _t:return(e._context.displayName||"Context")+".Consumer";case kt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:Lt(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return Lt(e(n))}catch{}}return null}var at=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},zt=[],Ft=-1;function V(e){return{current:e}}function Y(e){0>Ft||(e.current=zt[Ft],zt[Ft]=null,Ft--)}function et(e,n){Ft++,zt[Ft]=e.current,e.current=n}var rt=V(null),yt=V(null),bt=V(null),xt=V(null);function Ve(e,n){switch(et(bt,n),et(yt,e),et(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?A_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=A_(n),e=S_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(rt),et(rt,e)}function ae(){Y(rt),Y(yt),Y(bt)}function ls(e){e.memoizedState!==null&&et(xt,e);var n=rt.current,a=S_(n,e.type);n!==a&&(et(yt,e),et(rt,a))}function ta(e){yt.current===e&&(Y(rt),Y(yt)),xt.current===e&&(Y(xt),gl._currentValue=lt)}var ea,na;function si(e){if(ea===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ea=n&&n[1]||"",na=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ea+e+na}var go=!1;function us(e,n){if(!e||go)return"";go=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(j){var z=j}Reflect.construct(e,[],K)}else{try{K.call()}catch(j){z=j}e.call(K.prototype)}}else{try{throw Error()}catch(j){z=j}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),k=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===k.length)for(o=R.length-1,h=k.length-1;1<=o&&0<=h&&R[o]!==k[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==k[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==k[h]){var H=`
`+R[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{go=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?si(a):""}function po(e,n){switch(e.tag){case 26:case 27:case 5:return si(e.type);case 16:return si("Lazy");case 13:return e.child!==n&&n!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return us(e.type,!1);case 11:return us(e.type.render,!1);case 1:return us(e.type,!0);case 31:return si("Activity");default:return""}}function yo(e){try{var n="",a=null;do n+=po(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ve=Object.prototype.hasOwnProperty,Me=r.unstable_scheduleCallback,cr=r.unstable_cancelCallback,qh=r.unstable_shouldYield,lu=r.unstable_requestPaint,en=r.unstable_now,cs=r.unstable_getCurrentPriorityLevel,_o=r.unstable_ImmediatePriority,vo=r.unstable_UserBlockingPriority,hr=r.unstable_NormalPriority,jh=r.unstable_LowPriority,uu=r.unstable_IdlePriority,cu=r.log,hu=r.unstable_setDisableYieldValue,qn=null,Be=null;function Rn(e){if(typeof cu=="function"&&hu(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(qn,e)}catch{}}var de=Math.clz32?Math.clz32:du,fu=Math.log,ia=Math.LN2;function du(e){return e>>>=0,e===0?32:31-(fu(e)/ia|0)|0}var ai=256,hs=262144,Ee=4194304;function oi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function li(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=oi(o):(g&=E,g!==0?h=oi(g):a||(a=E&~e,a!==0&&(h=oi(a))))):(E=o&~f,E!==0?h=oi(E):g!==0?h=oi(g):a||(a=o&~e,a!==0&&(h=oi(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function jn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Hh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mu(){var e=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),e}function ui(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function fs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Gh(e,n,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,k=e.hiddenUpdates;for(a=g&~a;0<a;){var H=31-de(a),K=1<<H;E[H]=0,R[H]=-1;var z=k[H];if(z!==null)for(k[H]=null,H=0;H<z.length;H++){var j=z[H];j!==null&&(j.lane&=-536870913)}a&=~K}o!==0&&ds(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ds(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-de(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Eo(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-de(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function To(e,n){var a=n&-n;return a=(a&42)!==0?1:ms(a),(a&(e.suspendedLanes|n))!==0?0:a}function ms(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Li(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function gu(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:Q_(e.type))}function Hn(e,n){var a=$.p;try{return $.p=e,n()}finally{$.p=a}}var Gn=Math.random().toString(36).slice(2),Te="__reactFiber$"+Gn,xe="__reactProps$"+Gn,ci="__reactContainer$"+Gn,ra="__reactEvents$"+Gn,Fh="__reactListeners$"+Gn,pu="__reactHandles$"+Gn,yu="__reactResources$"+Gn,hi="__reactMarker$"+Gn;function sa(e){delete e[Te],delete e[xe],delete e[ra],delete e[Fh],delete e[pu]}function fi(e){var n=e[Te];if(n)return n;for(var a=e.parentNode;a;){if(n=a[ci]||a[Te]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=N_(e);e!==null;){if(a=e[Te])return a;e=N_(e)}return n}e=a,a=e.parentNode}return null}function In(e){if(e=e[Te]||e[ci]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function pn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function di(e){var n=e[yu];return n||(n=e[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ae(e){e[hi]=!0}var Ao=new Set,So={};function mi(e,n){gi(e,n),gi(e+"Capture",n)}function gi(e,n){for(So[e]=n,e=0;e<n.length;e++)Ao.add(n[e])}var bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},Ro={};function _u(e){return ve.call(Ro,e)?!0:ve.call(wo,e)?!1:bo.test(e)?Ro[e]=!0:(wo[e]=!0,!1)}function aa(e,n,a){if(_u(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function yn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Se(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Pe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Io(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=fr(e)?"checked":"value";e._valueTracker=Io(e,n,""+e[n])}}function gs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=fr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ps=/[\n"\\]/g;function on(e){return e.replace(ps,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function oa(e,n,a,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Pe(n)):e.value!==""+Pe(n)&&(e.value=""+Pe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Co(e,g,Pe(n)):a!=null?Co(e,g,Pe(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Pe(E):e.removeAttribute("name")}function vu(e,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}a=a!=null?""+Pe(a):"",n=n!=null?""+Pe(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Qt(e)}function Co(e,n,a){n==="number"&&pi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function dr(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Pe(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Eu(e,n,a){if(n!=null&&(n=""+Pe(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Pe(a):""}function mr(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(at(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Pe(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Qt(e)}function ln(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||Tu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function No(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Do(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Do(e,f,n[f])}function la(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(e){return gr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Fn(){}var Oo=null;function Cn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pr=null,yi=null;function ys(e){var n=In(e);if(n&&(e=n.stateNode)){var a=e[xe]||null;t:switch(e=n.stateNode,n.type){case"input":if(oa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[xe]||null;if(!h)throw Error(s(90));oa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&gs(o)}break t;case"textarea":Eu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&dr(e,!!a.multiple,n,!1)}}}var ca=!1;function yr(e,n,a){if(ca)return e(n,a);ca=!0;try{var o=e(n);return o}finally{if(ca=!1,(pr!==null||yi!==null)&&(gc(),pr&&(n=pr,e=yi,yi=pr=null,ys(n),e)))for(n=0;n<e.length;n++)ys(e[n])}}function Qn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[xe]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_s=!1;if(Dn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){_s=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{_s=!1}var _i=null,Vo=null,vs=null;function Mo(){if(vs)return vs;var e,n=Vo,a=n.length,o,h="value"in _i?_i.value:_i.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return vs=h.slice(e,1<o?1-o:void 0)}function Es(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function xi(){return!0}function Kn(){return!1}function qe(e){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xi:Kn,this.isPropagationStopped=Kn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),n}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=qe(Pi),_r=S({},Pi,{view:0,detail:0}),Uo=qe(_r),vr,ha,Ei,fa=S({},_r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(vr=e.screenX-Ei.screenX,ha=e.screenY-Ei.screenY):ha=vr=0,Ei=e),vr)},movementY:function(e){return"movementY"in e?e.movementY:ha}}),Lo=qe(fa),Ts=S({},fa,{dataTransfer:0}),Su=qe(Ts),bu=S({},_r,{relatedTarget:0}),As=qe(bu),xo=S({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),wu=qe(xo),da=S({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ru=qe(da),Iu=S({},Pi,{data:0}),Ti=qe(Iu),Cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ou(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Nu[e])?!!n[e]:!1}function Er(){return Ou}var nn=S({},_r,{key:function(e){if(e.key){var n=Cu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Du[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(e){return e.type==="keypress"?Es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vu=qe(nn),Mu=S({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=qe(Mu),u=S({},_r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),m=qe(u),_=S({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=qe(_),x=S({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=qe(x),W=S({},Pi,{newState:0,oldState:0}),At=qe(W),me=[9,13,27,32],jt=Dn&&"CompositionEvent"in window,oe=null;Dn&&"documentMode"in document&&(oe=document.documentMode);var Nn=Dn&&"TextEvent"in window&&!oe,Ai=Dn&&(!jt||oe&&8<oe&&11>=oe),Yn=" ",Xn=!1;function Ss(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function cA(e,n){switch(e){case"compositionend":return ma(n);case"keypress":return n.which!==32?null:(Xn=!0,Yn);case"textInput":return e=n.data,e===Yn&&Xn?null:e;default:return null}}function hA(e,n){if(ga)return e==="compositionend"||!jt&&Ss(e,n)?(e=Mo(),vs=Vo=_i=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ai&&n.locale!=="ko"?null:n.data;default:return null}}var fA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!fA[e.type]:n==="textarea"}function Ug(e,n,a,o){pr?yi?yi.push(o):yi=[o]:pr=o,n=Ac(n,"onChange"),0<n.length&&(a=new vi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Po=null,ko=null;function dA(e){p_(e,0)}function Uu(e){var n=pn(e);if(gs(n))return e}function Lg(e,n){if(e==="change")return n}var xg=!1;if(Dn){var Qh;if(Dn){var Kh="oninput"in document;if(!Kh){var Pg=document.createElement("div");Pg.setAttribute("oninput","return;"),Kh=typeof Pg.oninput=="function"}Qh=Kh}else Qh=!1;xg=Qh&&(!document.documentMode||9<document.documentMode)}function kg(){Po&&(Po.detachEvent("onpropertychange",zg),ko=Po=null)}function zg(e){if(e.propertyName==="value"&&Uu(ko)){var n=[];Ug(n,ko,e,Cn(e)),yr(dA,n)}}function mA(e,n,a){e==="focusin"?(kg(),Po=n,ko=a,Po.attachEvent("onpropertychange",zg)):e==="focusout"&&kg()}function gA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uu(ko)}function pA(e,n){if(e==="click")return Uu(n)}function yA(e,n){if(e==="input"||e==="change")return Uu(n)}function _A(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var _n=typeof Object.is=="function"?Object.is:_A;function zo(e,n){if(_n(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ve.call(n,h)||!_n(e[h],n[h]))return!1}return!0}function Bg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qg(e,n){var a=Bg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Bg(a)}}function jg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?jg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Hg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=pi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=pi(e.document)}return n}function Yh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var vA=Dn&&"documentMode"in document&&11>=document.documentMode,pa=null,Xh=null,Bo=null,Jh=!1;function Gg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jh||pa==null||pa!==pi(o)||(o=pa,"selectionStart"in o&&Yh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Bo&&zo(Bo,o)||(Bo=o,o=Ac(Xh,"onSelect"),0<o.length&&(n=new vi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=pa)))}function bs(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ya={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},Zh={},Fg={};Dn&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function ws(e){if(Zh[e])return Zh[e];if(!ya[e])return e;var n=ya[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Fg)return Zh[e]=n[a];return e}var Qg=ws("animationend"),Kg=ws("animationiteration"),Yg=ws("animationstart"),EA=ws("transitionrun"),TA=ws("transitionstart"),AA=ws("transitioncancel"),Xg=ws("transitionend"),Jg=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function Jn(e,n){Jg.set(e,n),mi(n,[e])}var Lu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},On=[],_a=0,Wh=0;function xu(){for(var e=_a,n=Wh=_a=0;n<e;){var a=On[n];On[n++]=null;var o=On[n];On[n++]=null;var h=On[n];On[n++]=null;var f=On[n];if(On[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Zg(a,h,f)}}function Pu(e,n,a,o){On[_a++]=e,On[_a++]=n,On[_a++]=a,On[_a++]=o,Wh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function tf(e,n,a,o){return Pu(e,n,a,o),ku(e)}function Rs(e,n){return Pu(e,null,null,n),ku(e)}function Zg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function ku(e){if(50<ll)throw ll=0,cd=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var va={};function SA(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,n,a,o){return new SA(e,n,a,o)}function ef(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zi(e,n){var a=e.alternate;return a===null?(a=vn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function $g(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function zu(e,n,a,o,h,f){var g=0;if(o=e,typeof e=="function")ef(e)&&(g=1);else if(typeof e=="string")g=CS(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=vn(31,a,n,h),e.elementType=I,e.lanes=f,e;case Z:return Is(a.children,h,f,n);case tt:g=8,h|=24;break;case ft:return e=vn(12,a,n,h|2),e.elementType=ft,e.lanes=f,e;case ee:return e=vn(13,a,n,h),e.elementType=ee,e.lanes=f,e;case Ct:return e=vn(19,a,n,h),e.elementType=Ct,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:g=10;break t;case _t:g=9;break t;case kt:g=11;break t;case C:g=14;break t;case b:g=16,o=null;break t}g=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=vn(g,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Is(e,n,a,o){return e=vn(7,e,o,n),e.lanes=a,e}function nf(e,n,a){return e=vn(6,e,null,n),e.lanes=a,e}function Wg(e){var n=vn(18,null,null,0);return n.stateNode=e,n}function rf(e,n,a){return n=vn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var tp=new WeakMap;function Vn(e,n){if(typeof e=="object"&&e!==null){var a=tp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:yo(n)},tp.set(e,n),n)}return{value:e,source:n,stack:yo(n)}}var Ea=[],Ta=0,Bu=null,qo=0,Mn=[],Un=0,Tr=null,Si=1,bi="";function Bi(e,n){Ea[Ta++]=qo,Ea[Ta++]=Bu,Bu=e,qo=n}function ep(e,n,a){Mn[Un++]=Si,Mn[Un++]=bi,Mn[Un++]=Tr,Tr=e;var o=Si;e=bi;var h=32-de(o)-1;o&=~(1<<h),a+=1;var f=32-de(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Si=1<<32-de(n)+h|a<<h|o,bi=f+e}else Si=1<<f|a<<h|o,bi=e}function sf(e){e.return!==null&&(Bi(e,1),ep(e,1,0))}function af(e){for(;e===Bu;)Bu=Ea[--Ta],Ea[Ta]=null,qo=Ea[--Ta],Ea[Ta]=null;for(;e===Tr;)Tr=Mn[--Un],Mn[Un]=null,bi=Mn[--Un],Mn[Un]=null,Si=Mn[--Un],Mn[Un]=null}function np(e,n){Mn[Un++]=Si,Mn[Un++]=bi,Mn[Un++]=Tr,Si=n.id,bi=n.overflow,Tr=e}var je=null,ne=null,Ut=!1,Ar=null,Ln=!1,of=Error(s(519));function Sr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jo(Vn(n,e)),of}function ip(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Te]=e,n[xe]=o,a){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<cl.length;a++)It(cl[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),vu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),mr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||E_(n.textContent,a)?(o.popover!=null&&(It("beforetoggle",n),It("toggle",n)),o.onScroll!=null&&It("scroll",n),o.onScrollEnd!=null&&It("scrollend",n),o.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||Sr(e,!0)}function rp(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:je=je.return}}function Aa(e){if(e!==je)return!1;if(!Ut)return rp(e),Ut=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||wd(e.type,e.memoizedProps)),a=!a),a&&ne&&Sr(e),rp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=D_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=D_(e)}else n===27?(n=ne,Pr(e.type)?(e=Nd,Nd=null,ne=e):ne=n):ne=je?Pn(e.stateNode.nextSibling):null;return!0}function Cs(){ne=je=null,Ut=!1}function lf(){var e=Ar;return e!==null&&(fn===null?fn=e:fn.push.apply(fn,e),Ar=null),e}function jo(e){Ar===null?Ar=[e]:Ar.push(e)}var uf=V(null),Ds=null,qi=null;function br(e,n,a){et(uf,n._currentValue),n._currentValue=a}function ji(e){e._currentValue=uf.current,Y(uf)}function cf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function hf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),cf(f.return,a,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),cf(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Sa(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=h.type;_n(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===xt.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(gl):e=[gl])}h=h.return}e!==null&&hf(n,e,a,o),n.flags|=262144}function qu(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ns(e){Ds=e,qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return sp(Ds,e)}function ju(e,n){return Ds===null&&Ns(e),sp(e,n)}function sp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},qi===null){if(e===null)throw Error(s(308));qi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else qi=qi.next=n;return a}var bA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},wA=r.unstable_scheduleCallback,RA=r.unstable_NormalPriority,be={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ff(){return{controller:new bA,data:new Map,refCount:0}}function Ho(e){e.refCount--,e.refCount===0&&wA(RA,function(){e.controller.abort()})}var Go=null,df=0,ba=0,wa=null;function IA(e,n){if(Go===null){var a=Go=[];df=0,ba=pd(),wa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return df++,n.then(ap,ap),n}function ap(){if(--df===0&&Go!==null){wa!==null&&(wa.status="fulfilled");var e=Go;Go=null,ba=0,wa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function CA(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var op=B.S;B.S=function(e,n){Gy=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&IA(e,n),op!==null&&op(e,n)};var Os=V(null);function mf(){var e=Os.current;return e!==null?e:Wt.pooledCache}function Hu(e,n){n===null?et(Os,Os.current):et(Os,n.pool)}function lp(){var e=mf();return e===null?null:{parent:be._currentValue,pool:e}}var Ra=Error(s(460)),gf=Error(s(474)),Gu=Error(s(542)),Fu={then:function(){}};function up(e){return e=e.status,e==="fulfilled"||e==="rejected"}function cp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Fn,Fn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,fp(e),e;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,fp(e),e}throw Ms=n,Ra}}function Vs(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ms=a,Ra):a}}var Ms=null;function hp(){if(Ms===null)throw Error(s(459));var e=Ms;return Ms=null,e}function fp(e){if(e===Ra||e===Gu)throw Error(s(483))}var Ia=null,Fo=0;function Qu(e){var n=Fo;return Fo+=1,Ia===null&&(Ia=[]),cp(Ia,e,n)}function Qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ku(e,n){throw n.$$typeof===D?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function dp(e){function n(U,O){if(e){var P=U.deletions;P===null?(U.deletions=[O],U.flags|=16):P.push(O)}}function a(U,O){if(!e)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function o(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=zi(U,O),U.index=0,U.sibling=null,U}function f(U,O,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<O?(U.flags|=67108866,O):P):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,P,Q){return O===null||O.tag!==6?(O=nf(P,U.mode,Q),O.return=U,O):(O=h(O,P),O.return=U,O)}function R(U,O,P,Q){var ut=P.type;return ut===Z?H(U,O,P.props.children,Q,P.key):O!==null&&(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Vs(ut)===O.type)?(O=h(O,P.props),Qo(O,P),O.return=U,O):(O=zu(P.type,P.key,P.props,null,U.mode,Q),Qo(O,P),O.return=U,O)}function k(U,O,P,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=rf(P,U.mode,Q),O.return=U,O):(O=h(O,P.children||[]),O.return=U,O)}function H(U,O,P,Q,ut){return O===null||O.tag!==7?(O=Is(P,U.mode,Q,ut),O.return=U,O):(O=h(O,P),O.return=U,O)}function K(U,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=nf(""+O,U.mode,P),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case G:return P=zu(O.type,O.key,O.props,null,U.mode,P),Qo(P,O),P.return=U,P;case J:return O=rf(O,U.mode,P),O.return=U,O;case b:return O=Vs(O),K(U,O,P)}if(at(O)||L(O))return O=Is(O,U.mode,P,null),O.return=U,O;if(typeof O.then=="function")return K(U,Qu(O),P);if(O.$$typeof===pt)return K(U,ju(U,O),P);Ku(U,O)}return null}function z(U,O,P,Q){var ut=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ut!==null?null:E(U,O,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===ut?R(U,O,P,Q):null;case J:return P.key===ut?k(U,O,P,Q):null;case b:return P=Vs(P),z(U,O,P,Q)}if(at(P)||L(P))return ut!==null?null:H(U,O,P,Q,null);if(typeof P.then=="function")return z(U,O,Qu(P),Q);if(P.$$typeof===pt)return z(U,O,ju(U,P),Q);Ku(U,P)}return null}function j(U,O,P,Q,ut){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(P)||null,E(O,U,""+Q,ut);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:return U=U.get(Q.key===null?P:Q.key)||null,R(O,U,Q,ut);case J:return U=U.get(Q.key===null?P:Q.key)||null,k(O,U,Q,ut);case b:return Q=Vs(Q),j(U,O,P,Q,ut)}if(at(Q)||L(Q))return U=U.get(P)||null,H(O,U,Q,ut,null);if(typeof Q.then=="function")return j(U,O,P,Qu(Q),ut);if(Q.$$typeof===pt)return j(U,O,P,ju(O,Q),ut);Ku(O,Q)}return null}function st(U,O,P,Q){for(var ut=null,Bt=null,ot=O,wt=O=0,Nt=null;ot!==null&&wt<P.length;wt++){ot.index>wt?(Nt=ot,ot=null):Nt=ot.sibling;var qt=z(U,ot,P[wt],Q);if(qt===null){ot===null&&(ot=Nt);break}e&&ot&&qt.alternate===null&&n(U,ot),O=f(qt,O,wt),Bt===null?ut=qt:Bt.sibling=qt,Bt=qt,ot=Nt}if(wt===P.length)return a(U,ot),Ut&&Bi(U,wt),ut;if(ot===null){for(;wt<P.length;wt++)ot=K(U,P[wt],Q),ot!==null&&(O=f(ot,O,wt),Bt===null?ut=ot:Bt.sibling=ot,Bt=ot);return Ut&&Bi(U,wt),ut}for(ot=o(ot);wt<P.length;wt++)Nt=j(ot,U,wt,P[wt],Q),Nt!==null&&(e&&Nt.alternate!==null&&ot.delete(Nt.key===null?wt:Nt.key),O=f(Nt,O,wt),Bt===null?ut=Nt:Bt.sibling=Nt,Bt=Nt);return e&&ot.forEach(function(jr){return n(U,jr)}),Ut&&Bi(U,wt),ut}function dt(U,O,P,Q){if(P==null)throw Error(s(151));for(var ut=null,Bt=null,ot=O,wt=O=0,Nt=null,qt=P.next();ot!==null&&!qt.done;wt++,qt=P.next()){ot.index>wt?(Nt=ot,ot=null):Nt=ot.sibling;var jr=z(U,ot,qt.value,Q);if(jr===null){ot===null&&(ot=Nt);break}e&&ot&&jr.alternate===null&&n(U,ot),O=f(jr,O,wt),Bt===null?ut=jr:Bt.sibling=jr,Bt=jr,ot=Nt}if(qt.done)return a(U,ot),Ut&&Bi(U,wt),ut;if(ot===null){for(;!qt.done;wt++,qt=P.next())qt=K(U,qt.value,Q),qt!==null&&(O=f(qt,O,wt),Bt===null?ut=qt:Bt.sibling=qt,Bt=qt);return Ut&&Bi(U,wt),ut}for(ot=o(ot);!qt.done;wt++,qt=P.next())qt=j(ot,U,wt,qt.value,Q),qt!==null&&(e&&qt.alternate!==null&&ot.delete(qt.key===null?wt:qt.key),O=f(qt,O,wt),Bt===null?ut=qt:Bt.sibling=qt,Bt=qt);return e&&ot.forEach(function(zS){return n(U,zS)}),Ut&&Bi(U,wt),ut}function $t(U,O,P,Q){if(typeof P=="object"&&P!==null&&P.type===Z&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var ut=P.key;O!==null;){if(O.key===ut){if(ut=P.type,ut===Z){if(O.tag===7){a(U,O.sibling),Q=h(O,P.props.children),Q.return=U,U=Q;break t}}else if(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Vs(ut)===O.type){a(U,O.sibling),Q=h(O,P.props),Qo(Q,P),Q.return=U,U=Q;break t}a(U,O);break}else n(U,O);O=O.sibling}P.type===Z?(Q=Is(P.props.children,U.mode,Q,P.key),Q.return=U,U=Q):(Q=zu(P.type,P.key,P.props,null,U.mode,Q),Qo(Q,P),Q.return=U,U=Q)}return g(U);case J:t:{for(ut=P.key;O!==null;){if(O.key===ut)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(U,O.sibling),Q=h(O,P.children||[]),Q.return=U,U=Q;break t}else{a(U,O);break}else n(U,O);O=O.sibling}Q=rf(P,U.mode,Q),Q.return=U,U=Q}return g(U);case b:return P=Vs(P),$t(U,O,P,Q)}if(at(P))return st(U,O,P,Q);if(L(P)){if(ut=L(P),typeof ut!="function")throw Error(s(150));return P=ut.call(P),dt(U,O,P,Q)}if(typeof P.then=="function")return $t(U,O,Qu(P),Q);if(P.$$typeof===pt)return $t(U,O,ju(U,P),Q);Ku(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(U,O.sibling),Q=h(O,P),Q.return=U,U=Q):(a(U,O),Q=nf(P,U.mode,Q),Q.return=U,U=Q),g(U)):a(U,O)}return function(U,O,P,Q){try{Fo=0;var ut=$t(U,O,P,Q);return Ia=null,ut}catch(ot){if(ot===Ra||ot===Gu)throw ot;var Bt=vn(29,ot,null,U.mode);return Bt.lanes=Q,Bt.return=U,Bt}}}var Us=dp(!0),mp=dp(!1),wr=!1;function pf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ir(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=ku(e),Zg(e,null,a),n}return Pu(e,o,n,a),ku(e)}function Ko(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Eo(e,a)}}function _f(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var vf=!1;function Yo(){if(vf){var e=wa;if(e!==null)throw e}}function Xo(e,n,a,o){vf=!1;var h=e.updateQueue;wr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,k=R.next;R.next=null,g===null?f=k:g.next=k,g=R;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=k:E.next=k,H.lastBaseUpdate=R))}if(f!==null){var K=h.baseState;g=0,H=k=R=null,E=f;do{var z=E.lane&-536870913,j=z!==E.lane;if(j?(Dt&z)===z:(o&z)===z){z!==0&&z===ba&&(vf=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=e,dt=E;z=n;var $t=a;switch(dt.tag){case 1:if(st=dt.payload,typeof st=="function"){K=st.call($t,K,z);break t}K=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=dt.payload,z=typeof st=="function"?st.call($t,K,z):st,z==null)break t;K=S({},K,z);break t;case 2:wr=!0}}z=E.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[z]:j.push(z))}else j={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(k=H=j,R=K):H=H.next=j,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;j=E,E=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);H===null&&(R=K),h.baseState=R,h.firstBaseUpdate=k,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Vr|=g,e.lanes=g,e.memoizedState=K}}function gp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function pp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)gp(a[e],n)}var Ca=V(null),Yu=V(0);function yp(e,n){e=Zi,et(Yu,e),et(Ca,n),Zi=e|n.baseLanes}function Ef(){et(Yu,Zi),et(Ca,Ca.current)}function Tf(){Zi=Yu.current,Y(Ca),Y(Yu)}var En=V(null),xn=null;function Cr(e){var n=e.alternate;et(ge,ge.current&1),et(En,e),xn===null&&(n===null||Ca.current!==null||n.memoizedState!==null)&&(xn=e)}function Af(e){et(ge,ge.current),et(En,e),xn===null&&(xn=e)}function _p(e){e.tag===22?(et(ge,ge.current),et(En,e),xn===null&&(xn=e)):Dr()}function Dr(){et(ge,ge.current),et(En,En.current)}function Tn(e){Y(En),xn===e&&(xn=null),Y(ge)}var ge=V(0);function Xu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Cd(a)||Dd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Hi=0,St=null,Jt=null,we=null,Ju=!1,Da=!1,Ls=!1,Zu=0,Jo=0,Na=null,DA=0;function ce(){throw Error(s(321))}function Sf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!_n(e[a],n[a]))return!1;return!0}function bf(e,n,a,o,h,f){return Hi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=e===null||e.memoizedState===null?ey:zf,Ls=!1,f=a(o,h),Ls=!1,Da&&(f=Ep(n,a,o,h)),vp(e),f}function vp(e){B.H=Wo;var n=Jt!==null&&Jt.next!==null;if(Hi=0,we=Jt=St=null,Ju=!1,Jo=0,Na=null,n)throw Error(s(300));e===null||Re||(e=e.dependencies,e!==null&&qu(e)&&(Re=!0))}function Ep(e,n,a,o){St=e;var h=0;do{if(Da&&(Na=null),Jo=0,Da=!1,25<=h)throw Error(s(301));if(h+=1,we=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}B.H=ny,f=n(a,o)}while(Da);return f}function NA(){var e=B.H,n=e.useState()[0];return n=typeof n.then=="function"?Zo(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(St.flags|=1024),n}function wf(){var e=Zu!==0;return Zu=0,e}function Rf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function If(e){if(Ju){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ju=!1}Hi=0,we=Jt=St=null,Da=!1,Jo=Zu=0,Na=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?St.memoizedState=we=e:we=we.next=e,we}function pe(){if(Jt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=we===null?St.memoizedState:we.next;if(n!==null)we=n,Jt=e;else{if(e===null)throw St.alternate===null?Error(s(467)):Error(s(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},we===null?St.memoizedState=we=e:we=we.next=e}return we}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(e){var n=Jo;return Jo+=1,Na===null&&(Na=[]),e=cp(Na,e,n),n=St,(we===null?n.memoizedState:we.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?ey:zf),e}function Wu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zo(e);if(e.$$typeof===pt)return He(e)}throw Error(s(438,String(e)))}function Cf(e){var n=null,a=St.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=$u(),St.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=M;return n.index++,a}function Gi(e,n){return typeof n=="function"?n(e):n}function tc(e){var n=pe();return Df(n,Jt,e)}function Df(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,k=n,H=!1;do{var K=k.lane&-536870913;if(K!==k.lane?(Dt&K)===K:(Hi&K)===K){var z=k.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),K===ba&&(H=!0);else if((Hi&z)===z){k=k.next,z===ba&&(H=!0);continue}else K={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=K,g=f):R=R.next=K,St.lanes|=z,Vr|=z;K=k.action,Ls&&a(f,K),f=k.hasEagerState?k.eagerState:a(f,K)}else z={lane:K,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=z,g=f):R=R.next=z,St.lanes|=K,Vr|=K;k=k.next}while(k!==null&&k!==n);if(R===null?g=f:R.next=E,!_n(f,e.memoizedState)&&(Re=!0,H&&(a=wa,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Nf(e){var n=pe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);_n(f,n.memoizedState)||(Re=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Tp(e,n,a){var o=St,h=pe(),f=Ut;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!_n((Jt||h).memoizedState,a);if(g&&(h.memoizedState=a,Re=!0),h=h.queue,Mf(bp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||we!==null&&we.memoizedState.tag&1){if(o.flags|=2048,Oa(9,{destroy:void 0},Sp.bind(null,o,h,a,n),null),Wt===null)throw Error(s(349));f||(Hi&127)!==0||Ap(o,n,a)}return a}function Ap(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=St.updateQueue,n===null?(n=$u(),St.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Sp(e,n,a,o){n.value=a,n.getSnapshot=o,wp(n)&&Rp(e)}function bp(e,n,a){return a(function(){wp(n)&&Rp(e)})}function wp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!_n(e,a)}catch{return!0}}function Rp(e){var n=Rs(e,2);n!==null&&dn(n,e,2)}function Of(e){var n=rn();if(typeof e=="function"){var a=e;if(e=a(),Ls){Rn(!0);try{a()}finally{Rn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},n}function Ip(e,n,a,o){return e.baseState=a,Df(e,Jt,typeof o=="function"?o:Gi)}function OA(e,n,a,o,h){if(ic(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};B.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Cp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Cp(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=B.T,g={};B.T=g;try{var E=a(h,o),R=B.S;R!==null&&R(g,E),Dp(e,n,E)}catch(k){Vf(e,n,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),B.T=f}}else try{f=a(h,o),Dp(e,n,f)}catch(k){Vf(e,n,k)}}function Dp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Np(e,n,o)},function(o){return Vf(e,n,o)}):Np(e,n,a)}function Np(e,n,a){n.status="fulfilled",n.value=a,Op(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Cp(e,a)))}function Vf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Op(n),n=n.next;while(n!==o)}e.action=null}function Op(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Vp(e,n){return n}function Mp(e,n){if(Ut){var a=Wt.formState;if(a!==null){t:{var o=St;if(Ut){if(ne){e:{for(var h=ne,f=Ln;h.nodeType!==8;){if(!f){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=Pn(h.nextSibling),o=h.data==="F!";break t}}Sr(o)}o=!1}o&&(n=a[0])}}return a=rn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vp,lastRenderedState:n},a.queue=o,a=$p.bind(null,St,o),o.dispatch=a,o=Of(!1),f=kf.bind(null,St,!1,o.queue),o=rn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=OA.bind(null,St,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Up(e){var n=pe();return Lp(n,Jt,e)}function Lp(e,n,a){if(n=Df(e,n,Vp)[0],e=tc(Gi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Zo(n)}catch(g){throw g===Ra?Gu:g}else o=n;n=pe();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(St.flags|=2048,Oa(9,{destroy:void 0},VA.bind(null,h,a),null)),[o,f,e]}function VA(e,n){e.action=n}function xp(e){var n=pe(),a=Jt;if(a!==null)return Lp(n,a,e);pe(),n=n.memoizedState,a=pe();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Oa(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=$u(),St.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Pp(){return pe().memoizedState}function ec(e,n,a,o){var h=rn();St.flags|=e,h.memoizedState=Oa(1|n,{destroy:void 0},a,o===void 0?null:o)}function nc(e,n,a,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&Sf(o,Jt.memoizedState.deps)?h.memoizedState=Oa(n,f,a,o):(St.flags|=e,h.memoizedState=Oa(1|n,f,a,o))}function kp(e,n){ec(8390656,8,e,n)}function Mf(e,n){nc(2048,8,e,n)}function MA(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=$u(),St.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function zp(e){var n=pe().memoizedState;return MA({ref:n,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Bp(e,n){return nc(4,2,e,n)}function qp(e,n){return nc(4,4,e,n)}function jp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Hp(e,n,a){a=a!=null?a.concat([e]):null,nc(4,4,jp.bind(null,n,e),a)}function Uf(){}function Gp(e,n){var a=pe();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Sf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Fp(e,n){var a=pe();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Sf(n,o[1]))return o[0];if(o=e(),Ls){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[o,n],o}function Lf(e,n,a){return a===void 0||(Hi&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Qy(),St.lanes|=e,Vr|=e,a)}function Qp(e,n,a,o){return _n(a,n)?a:Ca.current!==null?(e=Lf(e,a,o),_n(e,n)||(Re=!0),e):(Hi&42)===0||(Hi&1073741824)!==0&&(Dt&261930)===0?(Re=!0,e.memoizedState=a):(e=Qy(),St.lanes|=e,Vr|=e,n)}function Kp(e,n,a,o,h){var f=$.p;$.p=f!==0&&8>f?f:8;var g=B.T,E={};B.T=E,kf(e,!1,n,a);try{var R=h(),k=B.S;if(k!==null&&k(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=CA(R,o);$o(e,n,H,bn(e))}else $o(e,n,o,bn(e))}catch(K){$o(e,n,{then:function(){},status:"rejected",reason:K},bn())}finally{$.p=f,g!==null&&E.types!==null&&(g.types=E.types),B.T=g}}function UA(){}function xf(e,n,a,o){if(e.tag!==5)throw Error(s(476));var h=Yp(e).queue;Kp(e,h,n,lt,a===null?UA:function(){return Xp(e),a(o)})}function Yp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:lt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Xp(e){var n=Yp(e);n.next===null&&(n=e.alternate.memoizedState),$o(e,n.next.queue,{},bn())}function Pf(){return He(gl)}function Jp(){return pe().memoizedState}function Zp(){return pe().memoizedState}function LA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=bn();e=Rr(a);var o=Ir(n,e,a);o!==null&&(dn(o,n,a),Ko(o,n,a)),n={cache:ff()},e.payload=n;return}n=n.return}}function xA(e,n,a){var o=bn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ic(e)?Wp(n,a):(a=tf(e,n,a,o),a!==null&&(dn(a,e,o),ty(a,n,o)))}function $p(e,n,a){var o=bn();$o(e,n,a,o)}function $o(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ic(e))Wp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,_n(E,g))return Pu(e,n,h,0),Wt===null&&xu(),!1}catch{}if(a=tf(e,n,h,o),a!==null)return dn(a,e,o),ty(a,n,o),!0}return!1}function kf(e,n,a,o){if(o={lane:2,revertLane:pd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ic(e)){if(n)throw Error(s(479))}else n=tf(e,a,o,2),n!==null&&dn(n,e,2)}function ic(e){var n=e.alternate;return e===St||n!==null&&n===St}function Wp(e,n){Da=Ju=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function ty(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Eo(e,a)}}var Wo={readContext:He,use:Wu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Wo.useEffectEvent=ce;var ey={readContext:He,use:Wu,useCallback:function(e,n){return rn().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:kp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,ec(4194308,4,jp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return ec(4194308,4,e,n)},useInsertionEffect:function(e,n){ec(4,2,e,n)},useMemo:function(e,n){var a=rn();n=n===void 0?null:n;var o=e();if(Ls){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=rn();if(a!==void 0){var h=a(n);if(Ls){Rn(!0);try{a(n)}finally{Rn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=xA.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=rn();return e={current:e},n.memoizedState=e},useState:function(e){e=Of(e);var n=e.queue,a=$p.bind(null,St,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Uf,useDeferredValue:function(e,n){var a=rn();return Lf(a,e,n)},useTransition:function(){var e=Of(!1);return e=Kp.bind(null,St,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=St,h=rn();if(Ut){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Wt===null)throw Error(s(349));(Dt&127)!==0||Ap(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,kp(bp.bind(null,o,f,e),[e]),o.flags|=2048,Oa(9,{destroy:void 0},Sp.bind(null,o,f,a,n),null),a},useId:function(){var e=rn(),n=Wt.identifierPrefix;if(Ut){var a=bi,o=Si;a=(o&~(1<<32-de(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Zu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=DA++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Pf,useFormState:Mp,useActionState:Mp,useOptimistic:function(e){var n=rn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=kf.bind(null,St,!0,a),a.dispatch=n,[e,n]},useMemoCache:Cf,useCacheRefresh:function(){return rn().memoizedState=LA.bind(null,St)},useEffectEvent:function(e){var n=rn(),a={impl:e};return n.memoizedState=a,function(){if((Ht&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},zf={readContext:He,use:Wu,useCallback:Gp,useContext:He,useEffect:Mf,useImperativeHandle:Hp,useInsertionEffect:Bp,useLayoutEffect:qp,useMemo:Fp,useReducer:tc,useRef:Pp,useState:function(){return tc(Gi)},useDebugValue:Uf,useDeferredValue:function(e,n){var a=pe();return Qp(a,Jt.memoizedState,e,n)},useTransition:function(){var e=tc(Gi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Zo(e),n]},useSyncExternalStore:Tp,useId:Jp,useHostTransitionStatus:Pf,useFormState:Up,useActionState:Up,useOptimistic:function(e,n){var a=pe();return Ip(a,Jt,e,n)},useMemoCache:Cf,useCacheRefresh:Zp};zf.useEffectEvent=zp;var ny={readContext:He,use:Wu,useCallback:Gp,useContext:He,useEffect:Mf,useImperativeHandle:Hp,useInsertionEffect:Bp,useLayoutEffect:qp,useMemo:Fp,useReducer:Nf,useRef:Pp,useState:function(){return Nf(Gi)},useDebugValue:Uf,useDeferredValue:function(e,n){var a=pe();return Jt===null?Lf(a,e,n):Qp(a,Jt.memoizedState,e,n)},useTransition:function(){var e=Nf(Gi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Zo(e),n]},useSyncExternalStore:Tp,useId:Jp,useHostTransitionStatus:Pf,useFormState:xp,useActionState:xp,useOptimistic:function(e,n){var a=pe();return Jt!==null?Ip(a,Jt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Cf,useCacheRefresh:Zp};ny.useEffectEvent=zp;function Bf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var qf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=bn(),h=Rr(o);h.payload=n,a!=null&&(h.callback=a),n=Ir(e,h,o),n!==null&&(dn(n,e,o),Ko(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=bn(),h=Rr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ir(e,h,o),n!==null&&(dn(n,e,o),Ko(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=bn(),o=Rr(a);o.tag=2,n!=null&&(o.callback=n),n=Ir(e,o,a),n!==null&&(dn(n,e,a),Ko(n,e,a))}};function iy(e,n,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!zo(a,o)||!zo(h,f):!0}function ry(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&qf.enqueueReplaceState(n,n.state,null)}function xs(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function sy(e){Lu(e)}function ay(e){console.error(e)}function oy(e){Lu(e)}function rc(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ly(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(e,n,a){return a=Rr(a),a.tag=3,a.payload={element:null},a.callback=function(){rc(e,n)},a}function uy(e){return e=Rr(e),e.tag=3,e}function cy(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){ly(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){ly(n,a,o),typeof h!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function PA(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Sa(n,a,h,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return xn===null?pc():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Fu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),dd(e,o,h)),!1;case 22:return a.flags|=65536,o===Fu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),dd(e,o,h)),!1}throw Error(s(435,a.tag))}return dd(e,o,h),pc(),!1}if(Ut)return n=En.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==of&&(e=Error(s(422),{cause:o}),jo(Vn(e,a)))):(o!==of&&(n=Error(s(423),{cause:o}),jo(Vn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Vn(o,a),h=jf(e.stateNode,o,h),_f(e,h),he!==4&&(he=2)),!1;var f=Error(s(520),{cause:o});if(f=Vn(f,a),ol===null?ol=[f]:ol.push(f),he!==4&&(he=2),n===null)return!0;o=Vn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=jf(a.stateNode,o,e),_f(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Mr===null||!Mr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=uy(h),cy(h,e,a,o),_f(a,h),!1}a=a.return}while(a!==null);return!1}var Hf=Error(s(461)),Re=!1;function Ge(e,n,a,o){n.child=e===null?mp(n,null,a,o):Us(n,e.child,a,o)}function hy(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Ns(n),o=bf(e,n,a,g,f,h),E=wf(),e!==null&&!Re?(Rf(e,n,h),Fi(e,n,h)):(Ut&&E&&sf(n),n.flags|=1,Ge(e,n,o,h),n.child)}function fy(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!ef(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,dy(e,n,f,o,h)):(e=zu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Zf(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:zo,a(g,o)&&e.ref===n.ref)return Fi(e,n,h)}return n.flags|=1,e=zi(f,o),e.ref=n.ref,e.return=n,n.child=e}function dy(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(zo(f,o)&&e.ref===n.ref)if(Re=!1,n.pendingProps=o=f,Zf(e,h))(e.flags&131072)!==0&&(Re=!0);else return n.lanes=e.lanes,Fi(e,n,h)}return Gf(e,n,a,o,h)}function my(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return gy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Hu(n,f!==null?f.cachePool:null),f!==null?yp(n,f):Ef(),_p(n);else return o=n.lanes=536870912,gy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Hu(n,f.cachePool),yp(n,f),Dr(),n.memoizedState=null):(e!==null&&Hu(n,null),Ef(),Dr());return Ge(e,n,h,a),n.child}function tl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function gy(e,n,a,o,h){var f=mf();return f=f===null?null:{parent:be._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Hu(n,null),Ef(),_p(n),e!==null&&Sa(e,n,o,!0),n.childLanes=h,null}function sc(e,n){return n=oc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function py(e,n,a){return Us(n,e.child,null,a),e=sc(n,n.pendingProps),e.flags|=2,Tn(n),n.memoizedState=null,e}function kA(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=sc(n,o),n.lanes=536870912,tl(null,e);if(Af(n),(e=ne)?(e=C_(e,Ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Tr!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Wg(e),a.return=n,n.child=a,je=n,ne=null)):e=null,e===null)throw Sr(n);return n.lanes=536870912,null}return sc(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Af(n),h)if(n.flags&256)n.flags&=-257,n=py(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Re||Sa(e,n,a,!1),h=(a&e.childLanes)!==0,Re||h){if(o=Wt,o!==null&&(g=To(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Rs(e,g),dn(o,e,g),Hf;pc(),n=py(e,n,a)}else e=f.treeContext,ne=Pn(g.nextSibling),je=n,Ut=!0,Ar=null,Ln=!1,e!==null&&np(n,e),n=sc(n,o),n.flags|=4096;return n}return e=zi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ac(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Gf(e,n,a,o,h){return Ns(n),a=bf(e,n,a,o,void 0,h),o=wf(),e!==null&&!Re?(Rf(e,n,h),Fi(e,n,h)):(Ut&&o&&sf(n),n.flags|=1,Ge(e,n,a,h),n.child)}function yy(e,n,a,o,h,f){return Ns(n),n.updateQueue=null,a=Ep(n,o,a,h),vp(e),o=wf(),e!==null&&!Re?(Rf(e,n,f),Fi(e,n,f)):(Ut&&o&&sf(n),n.flags|=1,Ge(e,n,a,f),n.child)}function _y(e,n,a,o,h){if(Ns(n),n.stateNode===null){var f=va,g=a.contextType;typeof g=="object"&&g!==null&&(f=He(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=qf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},pf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?He(g):va,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Bf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&qf.enqueueReplaceState(f,f.state,null),Xo(n,o,f,h),Yo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=xs(a,E);f.props=R;var k=f.context,H=a.contextType;g=va,typeof H=="object"&&H!==null&&(g=He(H));var K=a.getDerivedStateFromProps;H=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==g)&&ry(n,f,o,g),wr=!1;var z=n.memoizedState;f.state=z,Xo(n,o,f,h),Yo(),k=n.memoizedState,E||z!==k||wr?(typeof K=="function"&&(Bf(n,a,K,o),k=n.memoizedState),(R=wr||iy(n,a,R,o,z,k,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=k),f.props=o,f.state=k,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,yf(e,n),g=n.memoizedProps,H=xs(a,g),f.props=H,K=n.pendingProps,z=f.context,k=a.contextType,R=va,typeof k=="object"&&k!==null&&(R=He(k)),E=a.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||z!==R)&&ry(n,f,o,R),wr=!1,z=n.memoizedState,f.state=z,Xo(n,o,f,h),Yo();var j=n.memoizedState;g!==K||z!==j||wr||e!==null&&e.dependencies!==null&&qu(e.dependencies)?(typeof E=="function"&&(Bf(n,a,E,o),j=n.memoizedState),(H=wr||iy(n,a,H,o,z,j,R)||e!==null&&e.dependencies!==null&&qu(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=R,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,ac(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Us(n,e.child,null,h),n.child=Us(n,null,a,h)):Ge(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Fi(e,n,h),e}function vy(e,n,a,o){return Cs(),n.flags|=256,Ge(e,n,a,o),n.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(e){return{baseLanes:e,cachePool:lp()}}function Kf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Sn),e}function Ey(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?Cr(n):Dr(),(e=ne)?(e=C_(e,Ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Tr!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Wg(e),a.return=n,n.child=a,je=n,ne=null)):e=null,e===null)throw Sr(n);return Dd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Dr(),h=n.mode,E=oc({mode:"hidden",children:E},h),o=Is(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Qf(a),o.childLanes=Kf(e,g,a),n.memoizedState=Ff,tl(null,o)):(Cr(n),Yf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Cr(n),n.flags&=-257,n=Xf(e,n,a)):n.memoizedState!==null?(Dr(),n.child=e.child,n.flags|=128,n=null):(Dr(),E=o.fallback,h=n.mode,o=oc({mode:"visible",children:o.children},h),E=Is(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Us(n,e.child,null,a),o=n.child,o.memoizedState=Qf(a),o.childLanes=Kf(e,g,a),n.memoizedState=Ff,n=tl(null,o));else if(Cr(n),Dd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var k=g.dgst;g=k,o=Error(s(419)),o.stack="",o.digest=g,jo({value:o,source:null,stack:null}),n=Xf(e,n,a)}else if(Re||Sa(e,n,a,!1),g=(a&e.childLanes)!==0,Re||g){if(g=Wt,g!==null&&(o=To(g,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,Rs(e,o),dn(g,e,o),Hf;Cd(E)||pc(),n=Xf(e,n,a)}else Cd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ne=Pn(E.nextSibling),je=n,Ut=!0,Ar=null,Ln=!1,e!==null&&np(n,e),n=Yf(n,o.children),n.flags|=4096);return n}return h?(Dr(),E=o.fallback,h=n.mode,R=e.child,k=R.sibling,o=zi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,k!==null?E=zi(k,E):(E=Is(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,tl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Qf(a):(h=E.cachePool,h!==null?(R=be._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=lp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Kf(e,g,a),n.memoizedState=Ff,tl(e.child,o)):(Cr(n),a=e.child,e=a.sibling,a=zi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=a,n.memoizedState=null,a)}function Yf(e,n){return n=oc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function oc(e,n){return e=vn(22,e,null,n),e.lanes=0,e}function Xf(e,n,a){return Us(n,e.child,null,a),e=Yf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ty(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),cf(e.return,n,a)}function Jf(e,n,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function Ay(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=ge.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(ge,g),Ge(e,n,o,a),o=Ut?qo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ty(e,a,n);else if(e.tag===19)Ty(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Xu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Jf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Xu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Jf(n,!0,a,null,f,o);break;case"together":Jf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Fi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Vr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Sa(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=zi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=zi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Zf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&qu(e)))}function zA(e,n,a){switch(n.tag){case 3:Ve(n,n.stateNode.containerInfo),br(n,be,e.memoizedState.cache),Cs();break;case 27:case 5:ls(n);break;case 4:Ve(n,n.stateNode.containerInfo);break;case 10:br(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Af(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Cr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ey(e,n,a):(Cr(n),e=Fi(e,n,a),e!==null?e.sibling:null);Cr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Sa(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Ay(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(ge,ge.current),o)break;return null;case 22:return n.lanes=0,my(e,n,a,n.pendingProps);case 24:br(n,be,e.memoizedState.cache)}return Fi(e,n,a)}function Sy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Re=!0;else{if(!Zf(e,a)&&(n.flags&128)===0)return Re=!1,zA(e,n,a);Re=(e.flags&131072)!==0}else Re=!1,Ut&&(n.flags&1048576)!==0&&ep(n,qo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Vs(n.elementType),n.type=e,typeof e=="function")ef(e)?(o=xs(e,o),n.tag=1,n=_y(null,n,e,o,a)):(n.tag=0,n=Gf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===kt){n.tag=11,n=hy(null,n,e,o,a);break t}else if(h===C){n.tag=14,n=fy(null,n,e,o,a);break t}}throw n=Lt(e)||e,Error(s(306,n,""))}}return n;case 0:return Gf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=xs(o,n.pendingProps),_y(e,n,o,h,a);case 3:t:{if(Ve(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,yf(e,n),Xo(n,o,null,a);var g=n.memoizedState;if(o=g.cache,br(n,be,o),o!==f.cache&&hf(n,[be],a,!0),Yo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=vy(e,n,o,a);break t}else if(o!==h){h=Vn(Error(s(424)),n),jo(h),n=vy(e,n,o,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=Pn(e.firstChild),je=n,Ut=!0,Ar=null,Ln=!0,a=mp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Cs(),o===h){n=Fi(e,n,a);break t}Ge(e,n,o,a)}n=n.child}return n;case 26:return ac(e,n),e===null?(a=U_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ut||(a=n.type,e=n.pendingProps,o=Sc(bt.current).createElement(a),o[Te]=n,o[xe]=e,Fe(o,a,e),Ae(o),n.stateNode=o):n.memoizedState=U_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ls(n),e===null&&Ut&&(o=n.stateNode=O_(n.type,n.pendingProps,bt.current),je=n,Ln=!0,h=ne,Pr(n.type)?(Nd=h,ne=Pn(o.firstChild)):ne=h),Ge(e,n,n.pendingProps.children,a),ac(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=ne)&&(o=gS(o,n.type,n.pendingProps,Ln),o!==null?(n.stateNode=o,je=n,ne=Pn(o.firstChild),Ln=!1,h=!0):h=!1),h||Sr(n)),ls(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,wd(h,f)?o=null:g!==null&&wd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=bf(e,n,NA,null,null,a),gl._currentValue=h),ac(e,n),Ge(e,n,o,a),n.child;case 6:return e===null&&Ut&&((e=a=ne)&&(a=pS(a,n.pendingProps,Ln),a!==null?(n.stateNode=a,je=n,ne=null,e=!0):e=!1),e||Sr(n)),null;case 13:return Ey(e,n,a);case 4:return Ve(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Us(n,null,o,a):Ge(e,n,o,a),n.child;case 11:return hy(e,n,n.type,n.pendingProps,a);case 7:return Ge(e,n,n.pendingProps,a),n.child;case 8:return Ge(e,n,n.pendingProps.children,a),n.child;case 12:return Ge(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,br(n,n.type,o.value),Ge(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ns(n),h=He(h),o=o(h),n.flags|=1,Ge(e,n,o,a),n.child;case 14:return fy(e,n,n.type,n.pendingProps,a);case 15:return dy(e,n,n.type,n.pendingProps,a);case 19:return Ay(e,n,a);case 31:return kA(e,n,a);case 22:return my(e,n,a,n.pendingProps);case 24:return Ns(n),o=He(be),e===null?(h=mf(),h===null&&(h=Wt,f=ff(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},pf(n),br(n,be,h)):((e.lanes&a)!==0&&(yf(e,n),Xo(n,null,null,a),Yo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),br(n,be,o)):(o=f.cache,br(n,be,o),o!==h.cache&&hf(n,[be],a,!0))),Ge(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Qi(e){e.flags|=4}function $f(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Jy())e.flags|=8192;else throw Ms=Fu,gf}else e.flags&=-16777217}function by(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!z_(n))if(Jy())e.flags|=8192;else throw Ms=Fu,gf}function lc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?mu():536870912,e.lanes|=n,La|=n)}function el(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function BA(e,n,a){var o=n.pendingProps;switch(af(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ji(be),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Aa(n)?Qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,lf())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Qi(n),f!==null?(ie(n),by(n,f)):(ie(n),$f(n,h,null,o,a))):f?f!==e.memoizedState?(Qi(n),ie(n),by(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Qi(n),ie(n),$f(n,h,e,o,a)),null;case 27:if(ta(n),a=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Qi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ie(n),null}e=rt.current,Aa(n)?ip(n):(e=O_(h,o,a),n.stateNode=e,Qi(n))}return ie(n),null;case 5:if(ta(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Qi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(f=rt.current,Aa(n))ip(n);else{var g=Sc(bt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Te]=n,f[xe]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Qi(n)}}return ie(n),$f(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Qi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=bt.current,Aa(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Te]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||E_(e.nodeValue,a)),e||Sr(n,!0)}else e=Sc(e).createTextNode(o),e[Te]=n,n.stateNode=e}return ie(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Aa(n),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Te]=n}else Cs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else a=lf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Tn(n),n):(Tn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Aa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Te]=n}else Cs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=lf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Tn(n),n):(Tn(n),null)}return Tn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),lc(n,n.updateQueue),ie(n),null);case 4:return ae(),e===null&&Ed(n.stateNode.containerInfo),ie(n),null;case 10:return ji(n.type),ie(n),null;case 19:if(Y(ge),o=n.memoizedState,o===null)return ie(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)el(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Xu(e),f!==null){for(n.flags|=128,el(o,!1),e=f.updateQueue,n.updateQueue=e,lc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)$g(a,e),a=a.sibling;return et(ge,ge.current&1|2),Ut&&Bi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&en()>dc&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304)}else{if(!h)if(e=Xu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,lc(n,e),el(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return ie(n),null}else 2*en()-o.renderingStartTime>dc&&a!==536870912&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=en(),e.sibling=null,a=ge.current,et(ge,h?a&1|2:a&1),Ut&&Bi(n,o.treeForkCount),e):(ie(n),null);case 22:case 23:return Tn(n),Tf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&lc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&Y(Os),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ji(be),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function qA(e,n){switch(af(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ji(be),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ta(n),null;case 31:if(n.memoizedState!==null){if(Tn(n),n.alternate===null)throw Error(s(340));Cs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Tn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Cs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(ge),null;case 4:return ae(),null;case 10:return ji(n.type),null;case 22:case 23:return Tn(n),Tf(),e!==null&&Y(Os),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ji(be),null;case 25:return null;default:return null}}function wy(e,n){switch(af(n),n.tag){case 3:ji(be),ae();break;case 26:case 27:case 5:ta(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&Tn(n);break;case 13:Tn(n);break;case 19:Y(ge);break;case 10:ji(n.type);break;case 22:case 23:Tn(n),Tf(),e!==null&&Y(Os);break;case 24:ji(be)}}function nl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){Yt(n,n.return,E)}}function Nr(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=a,k=E;try{k()}catch(H){Yt(h,R,H)}}}o=o.next}while(o!==f)}}catch(H){Yt(n,n.return,H)}}function Ry(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{pp(n,a)}catch(o){Yt(e,e.return,o)}}}function Iy(e,n,a){a.props=xs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Yt(e,n,o)}}function il(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Yt(e,n,h)}}function wi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,n,h)}else a.current=null}function Cy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function Wf(e,n,a){try{var o=e.stateNode;uS(o,e.type,a,n),o[xe]=n}catch(h){Yt(e,e.return,h)}}function Dy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pr(e.type)||e.tag===4}function td(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ed(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Fn));else if(o!==4&&(o===27&&Pr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(ed(e,n,a),e=e.sibling;e!==null;)ed(e,n,a),e=e.sibling}function uc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Pr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(uc(e,n,a),e=e.sibling;e!==null;)uc(e,n,a),e=e.sibling}function Ny(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,a),n[Te]=e,n[xe]=a}catch(f){Yt(e,e.return,f)}}var Ki=!1,Ie=!1,nd=!1,Oy=typeof WeakSet=="function"?WeakSet:Set,ke=null;function jA(e,n){if(e=e.containerInfo,Sd=Nc,e=Hg(e),Yh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,R=-1,k=0,H=0,K=e,z=null;e:for(;;){for(var j;K!==a||h!==0&&K.nodeType!==3||(E=g+h),K!==f||o!==0&&K.nodeType!==3||(R=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(j=K.firstChild)!==null;)z=K,K=j;for(;;){if(K===e)break e;if(z===a&&++k===h&&(E=g),z===f&&++H===o&&(R=g),(j=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=j}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(bd={focusedElem:e,selectionRange:a},Nc=!1,ke=n;ke!==null;)if(n=ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ke=e;else for(;ke!==null;){switch(n=ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var st=xs(a.type,h);e=o.getSnapshotBeforeUpdate(st,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Yt(a,a.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Id(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Id(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,ke=e;break}ke=n.return}}function Vy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Xi(e,a),o&4&&nl(5,a);break;case 1:if(Xi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(g){Yt(a,a.return,g)}else{var h=xs(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(a,a.return,g)}}o&64&&Ry(a),o&512&&il(a,a.return);break;case 3:if(Xi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{pp(e,n)}catch(g){Yt(a,a.return,g)}}break;case 27:n===null&&o&4&&Ny(a);case 26:case 5:Xi(e,a),n===null&&o&4&&Cy(a),o&512&&il(a,a.return);break;case 12:Xi(e,a);break;case 31:Xi(e,a),o&4&&Ly(e,a);break;case 13:Xi(e,a),o&4&&xy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ZA.bind(null,a),yS(e,a))));break;case 22:if(o=a.memoizedState!==null||Ki,!o){n=n!==null&&n.memoizedState!==null||Ie,h=Ki;var f=Ie;Ki=o,(Ie=n)&&!f?Ji(e,a,(a.subtreeFlags&8772)!==0):Xi(e,a),Ki=h,Ie=f}break;case 30:break;default:Xi(e,a)}}function My(e){var n=e.alternate;n!==null&&(e.alternate=null,My(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&sa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,un=!1;function Yi(e,n,a){for(a=a.child;a!==null;)Uy(e,n,a),a=a.sibling}function Uy(e,n,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Ie||wi(a,n),Yi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||wi(a,n);var o=le,h=un;Pr(a.type)&&(le=a.stateNode,un=!1),Yi(e,n,a),fl(a.stateNode),le=o,un=h;break;case 5:Ie||wi(a,n);case 6:if(o=le,h=un,le=null,Yi(e,n,a),le=o,un=h,le!==null)if(un)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){Yt(a,n,f)}else try{le.removeChild(a.stateNode)}catch(f){Yt(a,n,f)}break;case 18:le!==null&&(un?(e=le,R_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ha(e)):R_(le,a.stateNode));break;case 4:o=le,h=un,le=a.stateNode.containerInfo,un=!0,Yi(e,n,a),le=o,un=h;break;case 0:case 11:case 14:case 15:Nr(2,a,n),Ie||Nr(4,a,n),Yi(e,n,a);break;case 1:Ie||(wi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Iy(a,n,o)),Yi(e,n,a);break;case 21:Yi(e,n,a);break;case 22:Ie=(o=Ie)||a.memoizedState!==null,Yi(e,n,a),Ie=o;break;default:Yi(e,n,a)}}function Ly(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ha(e)}catch(a){Yt(n,n.return,a)}}}function xy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ha(e)}catch(a){Yt(n,n.return,a)}}function HA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Oy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Oy),n;default:throw Error(s(435,e.tag))}}function cc(e,n){var a=HA(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=$A.bind(null,e,o);o.then(h,h)}})}function cn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Pr(E.type)){le=E.stateNode,un=!1;break t}break;case 5:le=E.stateNode,un=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(le===null)throw Error(s(160));Uy(f,g,h),le=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Py(n,e),n=n.sibling}var Zn=null;function Py(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(n,e),hn(e),o&4&&(Nr(3,e,e.return),nl(3,e),Nr(5,e,e.return));break;case 1:cn(n,e),hn(e),o&512&&(Ie||a===null||wi(a,a.return)),o&64&&Ki&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Zn;if(cn(n,e),hn(e),o&512&&(Ie||a===null||wi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[hi]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,a),f[Te]=e,Ae(f),o=f;break t;case"link":var g=P_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;case"meta":if(g=P_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Te]=e,Ae(f),o=f}e.stateNode=o}else k_(h,e.type,e.stateNode);else e.stateNode=x_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?k_(h,e.type,e.stateNode):x_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Wf(e,e.memoizedProps,a.memoizedProps)}break;case 27:cn(n,e),hn(e),o&512&&(Ie||a===null||wi(a,a.return)),a!==null&&o&4&&Wf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(cn(n,e),hn(e),o&512&&(Ie||a===null||wi(a,a.return)),e.flags&32){h=e.stateNode;try{ln(h,"")}catch(st){Yt(e,e.return,st)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Wf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(nd=!0);break;case 6:if(cn(n,e),hn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(st){Yt(e,e.return,st)}}break;case 3:if(Rc=null,h=Zn,Zn=bc(n.containerInfo),cn(n,e),Zn=h,hn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ha(n.containerInfo)}catch(st){Yt(e,e.return,st)}nd&&(nd=!1,ky(e));break;case 4:o=Zn,Zn=bc(e.stateNode.containerInfo),cn(n,e),hn(e),Zn=o;break;case 12:cn(n,e),hn(e);break;case 31:cn(n,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,cc(e,o)));break;case 13:cn(n,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fc=en()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,cc(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,k=Ki,H=Ie;if(Ki=k||h,Ie=H||R,cn(n,e),Ie=H,Ki=k,hn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||Ki||Ie||Ps(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(st){Yt(R,R.return,st)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(st){Yt(R,R.return,st)}}}else if(n.tag===18){if(a===null){R=n;try{var j=R.stateNode;h?I_(j,!0):I_(R.stateNode,!1)}catch(st){Yt(R,R.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,cc(e,a))));break;case 19:cn(n,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,cc(e,o)));break;case 30:break;case 21:break;default:cn(n,e),hn(e)}}function hn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Dy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=td(e);uc(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(ln(g,""),a.flags&=-33);var E=td(e);uc(e,E,g);break;case 3:case 4:var R=a.stateNode.containerInfo,k=td(e);ed(e,k,R);break;default:throw Error(s(161))}}catch(H){Yt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ky(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ky(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Xi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Vy(e,n.alternate,n),n=n.sibling}function Ps(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Nr(4,n,n.return),Ps(n);break;case 1:wi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Iy(n,n.return,a),Ps(n);break;case 27:fl(n.stateNode);case 26:case 5:wi(n,n.return),Ps(n);break;case 22:n.memoizedState===null&&Ps(n);break;case 30:Ps(n);break;default:Ps(n)}e=e.sibling}}function Ji(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ji(h,f,a),nl(4,f);break;case 1:if(Ji(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Yt(o,o.return,k)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)gp(R[h],E)}catch(k){Yt(o,o.return,k)}}a&&g&64&&Ry(f),il(f,f.return);break;case 27:Ny(f);case 26:case 5:Ji(h,f,a),a&&o===null&&g&4&&Cy(f),il(f,f.return);break;case 12:Ji(h,f,a);break;case 31:Ji(h,f,a),a&&g&4&&Ly(h,f);break;case 13:Ji(h,f,a),a&&g&4&&xy(h,f);break;case 22:f.memoizedState===null&&Ji(h,f,a),il(f,f.return);break;case 30:break;default:Ji(h,f,a)}n=n.sibling}}function id(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ho(a))}function rd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e))}function $n(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zy(e,n,a,o),n=n.sibling}function zy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(e,n,a,o),h&2048&&nl(9,n);break;case 1:$n(e,n,a,o);break;case 3:$n(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e)));break;case 12:if(h&2048){$n(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Yt(n,n.return,R)}}else $n(e,n,a,o);break;case 31:$n(e,n,a,o);break;case 13:$n(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?$n(e,n,a,o):rl(e,n):f._visibility&2?$n(e,n,a,o):(f._visibility|=2,Va(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&id(g,n);break;case 24:$n(e,n,a,o),h&2048&&rd(n.alternate,n);break;default:$n(e,n,a,o)}}function Va(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=a,R=o,k=g.flags;switch(g.tag){case 0:case 11:case 15:Va(f,g,E,R,h),nl(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?Va(f,g,E,R,h):rl(f,g):(H._visibility|=2,Va(f,g,E,R,h)),h&&k&2048&&id(g.alternate,g);break;case 24:Va(f,g,E,R,h),h&&k&2048&&rd(g.alternate,g);break;default:Va(f,g,E,R,h)}n=n.sibling}}function rl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:rl(a,o),h&2048&&id(o.alternate,o);break;case 24:rl(a,o),h&2048&&rd(o.alternate,o);break;default:rl(a,o)}n=n.sibling}}var sl=8192;function Ma(e,n,a){if(e.subtreeFlags&sl)for(e=e.child;e!==null;)By(e,n,a),e=e.sibling}function By(e,n,a){switch(e.tag){case 26:Ma(e,n,a),e.flags&sl&&e.memoizedState!==null&&DS(a,Zn,e.memoizedState,e.memoizedProps);break;case 5:Ma(e,n,a);break;case 3:case 4:var o=Zn;Zn=bc(e.stateNode.containerInfo),Ma(e,n,a),Zn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=sl,sl=16777216,Ma(e,n,a),sl=o):Ma(e,n,a));break;default:Ma(e,n,a)}}function qy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function al(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];ke=o,Hy(o,e)}qy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jy(e),e=e.sibling}function jy(e){switch(e.tag){case 0:case 11:case 15:al(e),e.flags&2048&&Nr(9,e,e.return);break;case 3:al(e);break;case 12:al(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,hc(e)):al(e);break;default:al(e)}}function hc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];ke=o,Hy(o,e)}qy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Nr(8,n,n.return),hc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,hc(n));break;default:hc(n)}e=e.sibling}}function Hy(e,n){for(;ke!==null;){var a=ke;switch(a.tag){case 0:case 11:case 15:Nr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ho(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,ke=o;else t:for(a=e;ke!==null;){o=ke;var h=o.sibling,f=o.return;if(My(o),o===a){ke=null;break t}if(h!==null){h.return=f,ke=h;break t}ke=f}}}var GA={getCacheForType:function(e){var n=He(be),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return He(be).controller.signal}},FA=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Wt=null,Rt=null,Dt=0,Kt=0,An=null,Or=!1,Ua=!1,sd=!1,Zi=0,he=0,Vr=0,ks=0,ad=0,Sn=0,La=0,ol=null,fn=null,od=!1,fc=0,Gy=0,dc=1/0,mc=null,Mr=null,Ue=0,Ur=null,xa=null,$i=0,ld=0,ud=null,Fy=null,ll=0,cd=null;function bn(){return(Ht&2)!==0&&Dt!==0?Dt&-Dt:B.T!==null?pd():gu()}function Qy(){if(Sn===0)if((Dt&536870912)===0||Ut){var e=hs;hs<<=1,(hs&3932160)===0&&(hs=262144),Sn=e}else Sn=536870912;return e=En.current,e!==null&&(e.flags|=32),Sn}function dn(e,n,a){(e===Wt&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Pa(e,0),Lr(e,Dt,Sn,!1)),fs(e,a),((Ht&2)===0||e!==Wt)&&(e===Wt&&((Ht&2)===0&&(ks|=a),he===4&&Lr(e,Dt,Sn,!1)),Ri(e))}function Ky(e,n,a){if((Ht&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||jn(e,n),h=o?YA(e,n):fd(e,n,!0),f=o;do{if(h===0){Ua&&!o&&Lr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!QA(a)){h=fd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=ol;var R=E.current.memoizedState.isDehydrated;if(R&&(Pa(E,g).flags|=256),g=fd(E,g,!1),g!==2){if(sd&&!R){E.errorRecoveryDisabledLanes|=f,ks|=f,h=4;break t}f=fn,fn=h,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Pa(e,0),Lr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Lr(o,n,Sn,!Or);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=fc+300-en(),10<h)){if(Lr(o,n,Sn,!Or),li(o,0,!0)!==0)break t;$i=n,o.timeoutHandle=b_(Yy.bind(null,o,a,fn,mc,od,n,Sn,ks,La,Or,f,"Throttled",-0,0),h);break t}Yy(o,a,fn,mc,od,n,Sn,ks,La,Or,f,null,-0,0)}}break}while(!0);Ri(e)}function Yy(e,n,a,o,h,f,g,E,R,k,H,K,z,j){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},By(n,f,K);var st=(f&62914560)===f?fc-en():(f&4194048)===f?Gy-en():0;if(st=NS(K,st),st!==null){$i=f,e.cancelPendingCommit=st(n_.bind(null,e,n,f,a,o,h,g,E,R,H,K,null,z,j)),Lr(e,f,g,!k);return}}n_(e,n,f,a,o,h,g,E,R)}function QA(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Lr(e,n,a,o){n&=~ad,n&=~ks,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&ds(e,a,n)}function gc(){return(Ht&6)===0?(ul(0),!1):!0}function hd(){if(Rt!==null){if(Kt===0)var e=Rt.return;else e=Rt,qi=Ds=null,If(e),Ia=null,Fo=0,e=Rt;for(;e!==null;)wy(e.alternate,e),e=e.return;Rt=null}}function Pa(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,fS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),$i=0,hd(),Wt=e,Rt=a=zi(e.current,null),Dt=n,Kt=0,An=null,Or=!1,Ua=jn(e,n),sd=!1,La=Sn=ad=ks=Vr=he=0,fn=ol=null,od=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-de(o),f=1<<h;n|=e[h],o&=~f}return Zi=n,xu(),a}function Xy(e,n){St=null,B.H=Wo,n===Ra||n===Gu?(n=hp(),Kt=3):n===gf?(n=hp(),Kt=4):Kt=n===Hf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,An=n,Rt===null&&(he=1,rc(e,Vn(n,e.current)))}function Jy(){var e=En.current;return e===null?!0:(Dt&4194048)===Dt?xn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===xn:!1}function Zy(){var e=B.H;return B.H=Wo,e===null?Wo:e}function $y(){var e=B.A;return B.A=GA,e}function pc(){he=4,Or||(Dt&4194048)!==Dt&&En.current!==null||(Ua=!0),(Vr&134217727)===0&&(ks&134217727)===0||Wt===null||Lr(Wt,Dt,Sn,!1)}function fd(e,n,a){var o=Ht;Ht|=2;var h=Zy(),f=$y();(Wt!==e||Dt!==n)&&(mc=null,Pa(e,n)),n=!1;var g=he;t:do try{if(Kt!==0&&Rt!==null){var E=Rt,R=An;switch(Kt){case 8:hd(),g=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(n=!0);var k=Kt;if(Kt=0,An=null,ka(e,E,R,k),a&&Ua){g=0;break t}break;default:k=Kt,Kt=0,An=null,ka(e,E,R,k)}}KA(),g=he;break}catch(H){Xy(e,H)}while(!0);return n&&e.shellSuspendCounter++,qi=Ds=null,Ht=o,B.H=h,B.A=f,Rt===null&&(Wt=null,Dt=0,xu()),g}function KA(){for(;Rt!==null;)Wy(Rt)}function YA(e,n){var a=Ht;Ht|=2;var o=Zy(),h=$y();Wt!==e||Dt!==n?(mc=null,dc=en()+500,Pa(e,n)):Ua=jn(e,n);t:do try{if(Kt!==0&&Rt!==null){n=Rt;var f=An;e:switch(Kt){case 1:Kt=0,An=null,ka(e,n,f,1);break;case 2:case 9:if(up(f)){Kt=0,An=null,t_(n);break}n=function(){Kt!==2&&Kt!==9||Wt!==e||(Kt=7),Ri(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:up(f)?(Kt=0,An=null,t_(n)):(Kt=0,An=null,ka(e,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var E=Rt;if(g?z_(g):E.stateNode.complete){Kt=0,An=null;var R=E.sibling;if(R!==null)Rt=R;else{var k=E.return;k!==null?(Rt=k,yc(k)):Rt=null}break e}}Kt=0,An=null,ka(e,n,f,5);break;case 6:Kt=0,An=null,ka(e,n,f,6);break;case 8:hd(),he=6;break t;default:throw Error(s(462))}}XA();break}catch(H){Xy(e,H)}while(!0);return qi=Ds=null,B.H=o,B.A=h,Ht=a,Rt!==null?0:(Wt=null,Dt=0,xu(),he)}function XA(){for(;Rt!==null&&!qh();)Wy(Rt)}function Wy(e){var n=Sy(e.alternate,e,Zi);e.memoizedProps=e.pendingProps,n===null?yc(e):Rt=n}function t_(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=yy(a,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=yy(a,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:If(n);default:wy(a,n),n=Rt=$g(n,Zi),n=Sy(a,n,Zi)}e.memoizedProps=e.pendingProps,n===null?yc(e):Rt=n}function ka(e,n,a,o){qi=Ds=null,If(n),Ia=null,Fo=0;var h=n.return;try{if(PA(e,h,n,a,Dt)){he=1,rc(e,Vn(a,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;he=1,rc(e,Vn(a,e.current)),Rt=null;return}n.flags&32768?(Ut||o===1?e=!0:Ua||(Dt&536870912)!==0?e=!1:(Or=e=!0,(o===2||o===9||o===3||o===6)&&(o=En.current,o!==null&&o.tag===13&&(o.flags|=16384))),e_(n,e)):yc(n)}function yc(e){var n=e;do{if((n.flags&32768)!==0){e_(n,Or);return}e=n.return;var a=BA(n.alternate,n,Zi);if(a!==null){Rt=a;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);he===0&&(he=5)}function e_(e,n){do{var a=qA(e.alternate,e);if(a!==null){a.flags&=32767,Rt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=a}while(e!==null);he=6,Rt=null}function n_(e,n,a,o,h,f,g,E,R){e.cancelPendingCommit=null;do _c();while(Ue!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Wh,Gh(e,a,f,g,E,R),e===Wt&&(Rt=Wt=null,Dt=0),xa=n,Ur=e,$i=a,ld=f,ud=h,Fy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,WA(hr,function(){return o_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=B.T,B.T=null,h=$.p,$.p=2,g=Ht,Ht|=4;try{jA(e,n,a)}finally{Ht=g,$.p=h,B.T=o}}Ue=1,i_(),r_(),s_()}}function i_(){if(Ue===1){Ue=0;var e=Ur,n=xa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var o=$.p;$.p=2;var h=Ht;Ht|=4;try{Py(n,e);var f=bd,g=Hg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&jg(E.ownerDocument.documentElement,E)){if(R!==null&&Yh(E)){var k=R.start,H=R.end;if(H===void 0&&(H=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(H,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var j=z.getSelection(),st=E.textContent.length,dt=Math.min(R.start,st),$t=R.end===void 0?dt:Math.min(R.end,st);!j.extend&&dt>$t&&(g=$t,$t=dt,dt=g);var U=qg(E,dt),O=qg(E,$t);if(U&&O&&(j.rangeCount!==1||j.anchorNode!==U.node||j.anchorOffset!==U.offset||j.focusNode!==O.node||j.focusOffset!==O.offset)){var P=K.createRange();P.setStart(U.node,U.offset),j.removeAllRanges(),dt>$t?(j.addRange(P),j.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),j.addRange(P))}}}}for(K=[],j=E;j=j.parentNode;)j.nodeType===1&&K.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Nc=!!Sd,bd=Sd=null}finally{Ht=h,$.p=o,B.T=a}}e.current=n,Ue=2}}function r_(){if(Ue===2){Ue=0;var e=Ur,n=xa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var o=$.p;$.p=2;var h=Ht;Ht|=4;try{Vy(e,n.alternate,n)}finally{Ht=h,$.p=o,B.T=a}}Ue=3}}function s_(){if(Ue===4||Ue===3){Ue=0,lu();var e=Ur,n=xa,a=$i,o=Fy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,xa=Ur=null,a_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Mr=null),Li(a),n=n.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(qn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=B.T,h=$.p,$.p=2,B.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{B.T=n,$.p=h}}($i&3)!==0&&_c(),Ri(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===cd?ll++:(ll=0,cd=e):ll=0,ul(0)}}function a_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ho(n)))}function _c(){return i_(),r_(),s_(),o_()}function o_(){if(Ue!==5)return!1;var e=Ur,n=ld;ld=0;var a=Li($i),o=B.T,h=$.p;try{$.p=32>a?32:a,B.T=null,a=ud,ud=null;var f=Ur,g=$i;if(Ue=0,xa=Ur=null,$i=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,jy(f.current),zy(f,f.current,g,a),Ht=E,ul(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(qn,f)}catch{}return!0}finally{$.p=h,B.T=o,a_(e,n)}}function l_(e,n,a){n=Vn(a,n),n=jf(e.stateNode,n,2),e=Ir(e,n,2),e!==null&&(fs(e,2),Ri(e))}function Yt(e,n,a){if(e.tag===3)l_(e,e,a);else for(;n!==null;){if(n.tag===3){l_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Mr===null||!Mr.has(o))){e=Vn(a,e),a=uy(2),o=Ir(n,a,2),o!==null&&(cy(a,o,n,e),fs(o,2),Ri(o));break}}n=n.return}}function dd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new FA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(sd=!0,h.add(a),e=JA.bind(null,e,n,a),n.then(e,e))}function JA(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Dt&a)===a&&(he===4||he===3&&(Dt&62914560)===Dt&&300>en()-fc?(Ht&2)===0&&Pa(e,0):ad|=a,La===Dt&&(La=0)),Ri(e)}function u_(e,n){n===0&&(n=mu()),e=Rs(e,n),e!==null&&(fs(e,n),Ri(e))}function ZA(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),u_(e,a)}function $A(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),u_(e,a)}function WA(e,n){return Me(e,n)}var vc=null,za=null,md=!1,Ec=!1,gd=!1,xr=0;function Ri(e){e!==za&&e.next===null&&(za===null?vc=za=e:za=za.next=e),Ec=!0,md||(md=!0,eS())}function ul(e,n){if(!gd&&Ec){gd=!0;do for(var a=!1,o=vc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,d_(o,f))}else f=Dt,f=li(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||jn(o,f)||(a=!0,d_(o,f));o=o.next}while(a);gd=!1}}function tS(){c_()}function c_(){Ec=md=!1;var e=0;xr!==0&&hS()&&(e=xr);for(var n=en(),a=null,o=vc;o!==null;){var h=o.next,f=h_(o,n);f===0?(o.next=null,a===null?vc=h:a.next=h,h===null&&(za=a)):(a=o,(e!==0||(f&3)!==0)&&(Ec=!0)),o=h}Ue!==0&&Ue!==5||ul(e),xr!==0&&(xr=0)}function h_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-de(f),E=1<<g,R=h[g];R===-1?((E&a)===0||(E&o)!==0)&&(h[g]=Hh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,a=Dt,a=li(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&cr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||jn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&cr(o),Li(a)){case 2:case 8:a=vo;break;case 32:a=hr;break;case 268435456:a=uu;break;default:a=hr}return o=f_.bind(null,e),a=Me(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&cr(o),e.callbackPriority=2,e.callbackNode=null,2}function f_(e,n){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(_c()&&e.callbackNode!==a)return null;var o=Dt;return o=li(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ky(e,o,n),h_(e,en()),e.callbackNode!=null&&e.callbackNode===a?f_.bind(null,e):null)}function d_(e,n){if(_c())return null;Ky(e,n,!0)}function eS(){dS(function(){(Ht&6)!==0?Me(_o,tS):c_()})}function pd(){if(xr===0){var e=ba;e===0&&(e=ai,ai<<=1,(ai&261888)===0&&(ai=256)),xr=e}return xr}function m_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ua(""+e)}function g_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function nS(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=m_((h[xe]||null).action),g=o.submitter;g&&(n=(n=g[xe]||null)?m_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new vi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(xr!==0){var R=g?g_(h,g):new FormData(h);xf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?g_(h,g):new FormData(h),xf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var yd=0;yd<$h.length;yd++){var _d=$h[yd],iS=_d.toLowerCase(),rS=_d[0].toUpperCase()+_d.slice(1);Jn(iS,"on"+rS)}Jn(Qg,"onAnimationEnd"),Jn(Kg,"onAnimationIteration"),Jn(Yg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(EA,"onTransitionRun"),Jn(TA,"onTransitionStart"),Jn(AA,"onTransitionCancel"),Jn(Xg,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function p_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,k=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(H){Lu(H)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,k=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(H){Lu(H)}h.currentTarget=null,f=R}}}}function It(e,n){var a=n[ra];a===void 0&&(a=n[ra]=new Set);var o=e+"__bubble";a.has(o)||(y_(n,e,2,!1),a.add(o))}function vd(e,n,a){var o=0;n&&(o|=4),y_(a,e,o,n)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function Ed(e){if(!e[Tc]){e[Tc]=!0,Ao.forEach(function(a){a!=="selectionchange"&&(sS.has(a)||vd(a,!1,e),vd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Tc]||(n[Tc]=!0,vd("selectionchange",!1,n))}}function y_(e,n,a,o){switch(Q_(n)){case 2:var h=MS;break;case 8:h=US;break;default:h=Ld}a=h.bind(null,n,a,e),h=void 0,!_s||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function Td(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=fi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}yr(function(){var k=f,H=Cn(a),K=[];t:{var z=Jg.get(e);if(z!==void 0){var j=vi,st=e;switch(e){case"keypress":if(Es(a)===0)break t;case"keydown":case"keyup":j=Vu;break;case"focusin":st="focus",j=As;break;case"focusout":st="blur",j=As;break;case"beforeblur":case"afterblur":j=As;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case Qg:case Kg:case Yg:j=wu;break;case Xg:j=A;break;case"scroll":case"scrollend":j=Uo;break;case"wheel":j=q;break;case"copy":case"cut":case"paste":j=Ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=ki;break;case"toggle":case"beforetoggle":j=At}var dt=(n&4)!==0,$t=!dt&&(e==="scroll"||e==="scrollend"),U=dt?z!==null?z+"Capture":null:z;dt=[];for(var O=k,P;O!==null;){var Q=O;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||U===null||(Q=Qn(O,U),Q!=null&&dt.push(hl(O,Q,P))),$t)break;O=O.return}0<dt.length&&(z=new j(z,st,null,a,H),K.push({event:z,listeners:dt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&a!==Oo&&(st=a.relatedTarget||a.fromElement)&&(fi(st)||st[ci]))break t;if((j||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,j?(st=a.relatedTarget||a.toElement,j=k,st=st?fi(st):null,st!==null&&($t=c(st),dt=st.tag,st!==$t||dt!==5&&dt!==27&&dt!==6)&&(st=null)):(j=null,st=k),j!==st)){if(dt=Lo,Q="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(dt=ki,Q="onPointerLeave",U="onPointerEnter",O="pointer"),$t=j==null?z:pn(j),P=st==null?z:pn(st),z=new dt(Q,O+"leave",j,a,H),z.target=$t,z.relatedTarget=P,Q=null,fi(H)===k&&(dt=new dt(U,O+"enter",st,a,H),dt.target=P,dt.relatedTarget=$t,Q=dt),$t=Q,j&&st)e:{for(dt=aS,U=j,O=st,P=0,Q=U;Q;Q=dt(Q))P++;Q=0;for(var ut=O;ut;ut=dt(ut))Q++;for(;0<P-Q;)U=dt(U),P--;for(;0<Q-P;)O=dt(O),Q--;for(;P--;){if(U===O||O!==null&&U===O.alternate){dt=U;break e}U=dt(U),O=dt(O)}dt=null}else dt=null;j!==null&&__(K,z,j,dt,!1),st!==null&&$t!==null&&__(K,$t,st,dt,!0)}}t:{if(z=k?pn(k):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var Bt=Lg;else if(Mg(z))if(xg)Bt=yA;else{Bt=gA;var ot=mA}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?k&&la(k.elementType)&&(Bt=Lg):Bt=pA;if(Bt&&(Bt=Bt(e,k))){Ug(K,Bt,a,H);break t}ot&&ot(e,z,k),e==="focusout"&&k&&z.type==="number"&&k.memoizedProps.value!=null&&Co(z,"number",z.value)}switch(ot=k?pn(k):window,e){case"focusin":(Mg(ot)||ot.contentEditable==="true")&&(pa=ot,Xh=k,Bo=null);break;case"focusout":Bo=Xh=pa=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,Gg(K,a,H);break;case"selectionchange":if(vA)break;case"keydown":case"keyup":Gg(K,a,H)}var wt;if(jt)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else ga?Ss(e,a)&&(Nt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Nt="onCompositionStart");Nt&&(Ai&&a.locale!=="ko"&&(ga||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&ga&&(wt=Mo()):(_i=H,Vo="value"in _i?_i.value:_i.textContent,ga=!0)),ot=Ac(k,Nt),0<ot.length&&(Nt=new Ti(Nt,e,null,a,H),K.push({event:Nt,listeners:ot}),wt?Nt.data=wt:(wt=ma(a),wt!==null&&(Nt.data=wt)))),(wt=Nn?cA(e,a):hA(e,a))&&(Nt=Ac(k,"onBeforeInput"),0<Nt.length&&(ot=new Ti("onBeforeInput","beforeinput",null,a,H),K.push({event:ot,listeners:Nt}),ot.data=wt)),nS(K,e,k,a,H)}p_(K,n)})}function hl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Ac(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Qn(e,a),h!=null&&o.unshift(hl(e,h,f)),h=Qn(e,n),h!=null&&o.push(hl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function aS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function __(e,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,R=E.alternate,k=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||k===null||(R=k,h?(k=Qn(a,f),k!=null&&g.unshift(hl(a,k,R))):h||(k=Qn(a,f),k!=null&&g.push(hl(a,k,R)))),a=a.return}g.length!==0&&e.push({event:n,listeners:g})}var oS=/\r\n?/g,lS=/\u0000|\uFFFD/g;function v_(e){return(typeof e=="string"?e:""+e).replace(oS,`
`).replace(lS,"")}function E_(e,n){return n=v_(n),v_(e)===n}function Zt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ln(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ln(e,""+o);break;case"className":yn(e,"class",o);break;case"tabIndex":yn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(e,a,o);break;case"style":No(e,o,f);break;case"data":if(n!=="object"){yn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ua(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ua(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ua(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":It("beforetoggle",e),It("toggle",e),aa(e,"popover",o);break;case"xlinkActuate":Se(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Se(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Se(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Se(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Se(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Se(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Se(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Se(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Se(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":aa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Au.get(a)||a,aa(e,a,o))}}function Ad(e,n,a,o,h,f){switch(a){case"style":No(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?ln(e,o):(typeof o=="number"||typeof o=="bigint")&&ln(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[xe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):aa(e,a,o)}}}function Fe(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(e,n,f,g,a,null)}}h&&Zt(e,n,"srcSet",a.srcSet,a,null),o&&Zt(e,n,"src",a.src,a,null);return;case"input":It("invalid",e);var E=f=g=h=null,R=null,k=null;for(o in a)if(a.hasOwnProperty(o)){var H=a[o];if(H!=null)switch(o){case"name":h=H;break;case"type":g=H;break;case"checked":R=H;break;case"defaultChecked":k=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Zt(e,n,o,H,a,null)}}vu(e,f,E,R,k,g,h,!1);return;case"select":It("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Zt(e,n,h,E,a,null)}n=f,a=g,e.multiple=!!o,n!=null?dr(e,!!o,n,!1):a!=null&&dr(e,!!o,a,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Zt(e,n,g,E,a,null)}mr(e,o,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Zt(e,n,R,o,a,null));return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<cl.length;o++)It(cl[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(o=a[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(e,n,k,o,a,null)}return;default:if(la(n)){for(H in a)a.hasOwnProperty(H)&&(o=a[H],o!==void 0&&Ad(e,n,H,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Zt(e,n,E,o,a,null))}function uS(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,k=null,H=null;for(j in a){var K=a[j];if(a.hasOwnProperty(j)&&K!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":R=K;default:o.hasOwnProperty(j)||Zt(e,n,j,null,o,K)}}for(var z in o){var j=o[z];if(K=a[z],o.hasOwnProperty(z)&&(j!=null||K!=null))switch(z){case"type":f=j;break;case"name":h=j;break;case"checked":k=j;break;case"defaultChecked":H=j;break;case"value":g=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:j!==K&&Zt(e,n,z,j,o,K)}}oa(e,g,E,R,k,H,f,h);return;case"select":j=g=E=z=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":j=R;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Zt(e,n,h,f,o,R)}n=E,a=g,o=j,z!=null?dr(e,!!a,z,!1):!!o!=!!a&&(n!=null?dr(e,!!a,n,!0):dr(e,!!a,a?[]:"",!1));return;case"textarea":j=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Zt(e,n,g,h,o,f)}Eu(e,z,j);return;case"option":for(var st in a)z=a[st],a.hasOwnProperty(st)&&z!=null&&!o.hasOwnProperty(st)&&(st==="selected"?e.selected=!1:Zt(e,n,st,null,o,z));for(R in o)z=o[R],j=a[R],o.hasOwnProperty(R)&&z!==j&&(z!=null||j!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Zt(e,n,R,z,o,j));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)z=a[dt],a.hasOwnProperty(dt)&&z!=null&&!o.hasOwnProperty(dt)&&Zt(e,n,dt,null,o,z);for(k in o)if(z=o[k],j=a[k],o.hasOwnProperty(k)&&z!==j&&(z!=null||j!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:Zt(e,n,k,z,o,j)}return;default:if(la(n)){for(var $t in a)z=a[$t],a.hasOwnProperty($t)&&z!==void 0&&!o.hasOwnProperty($t)&&Ad(e,n,$t,void 0,o,z);for(H in o)z=o[H],j=a[H],!o.hasOwnProperty(H)||z===j||z===void 0&&j===void 0||Ad(e,n,H,z,o,j);return}}for(var U in a)z=a[U],a.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Zt(e,n,U,null,o,z);for(K in o)z=o[K],j=a[K],!o.hasOwnProperty(K)||z===j||z==null&&j==null||Zt(e,n,K,z,o,j)}function T_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&T_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],k=R.startTime;if(k>E)break;var H=R.transferSize,K=R.initiatorType;H&&T_(K)&&(R=R.responseEnd,g+=H*(R<E?1:(E-k)/(R-k)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Sd=null,bd=null;function Sc(e){return e.nodeType===9?e:e.ownerDocument}function A_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function wd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Rd=null;function hS(){var e=window.event;return e&&e.type==="popstate"?e===Rd?!1:(Rd=e,!0):(Rd=null,!1)}var b_=typeof setTimeout=="function"?setTimeout:void 0,fS=typeof clearTimeout=="function"?clearTimeout:void 0,w_=typeof Promise=="function"?Promise:void 0,dS=typeof queueMicrotask=="function"?queueMicrotask:typeof w_<"u"?function(e){return w_.resolve(null).then(e).catch(mS)}:b_;function mS(e){setTimeout(function(){throw e})}function Pr(e){return e==="head"}function R_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ha(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")fl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,fl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[hi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&fl(e.ownerDocument.body);a=h}while(a);Ha(n)}function I_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Id(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Id(a),sa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function gS(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[hi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function pS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Pn(e.nextSibling),e===null))return null;return e}function C_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Pn(e.nextSibling),e===null))return null;return e}function Cd(e){return e.data==="$?"||e.data==="$~"}function Dd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function yS(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Pn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Nd=null;function D_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Pn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function N_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function O_(e,n,a){switch(n=Sc(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function fl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);sa(e)}var kn=new Map,V_=new Set;function bc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wi=$.d;$.d={f:_S,r:vS,D:ES,C:TS,L:AS,m:SS,X:wS,S:bS,M:RS};function _S(){var e=Wi.f(),n=gc();return e||n}function vS(e){var n=In(e);n!==null&&n.tag===5&&n.type==="form"?Xp(n):Wi.r(e)}var Ba=typeof document>"u"?null:document;function M_(e,n,a){var o=Ba;if(o&&typeof n=="string"&&n){var h=on(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),V_.has(h)||(V_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),Ae(n),o.head.appendChild(n)))}}function ES(e){Wi.D(e),M_("dns-prefetch",e,null)}function TS(e,n){Wi.C(e,n),M_("preconnect",e,n)}function AS(e,n,a){Wi.L(e,n,a);var o=Ba;if(o&&e&&n){var h='link[rel="preload"][as="'+on(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+on(a.imageSizes)+'"]')):h+='[href="'+on(e)+'"]';var f=h;switch(n){case"style":f=qa(e);break;case"script":f=ja(e)}kn.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(dl(f))||n==="script"&&o.querySelector(ml(f))||(n=o.createElement("link"),Fe(n,"link",e),Ae(n),o.head.appendChild(n)))}}function SS(e,n){Wi.m(e,n);var a=Ba;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+on(o)+'"][href="'+on(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ja(e)}if(!kn.has(f)&&(e=S({rel:"modulepreload",href:e},n),kn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ml(f)))return}o=a.createElement("link"),Fe(o,"link",e),Ae(o),a.head.appendChild(o)}}}function bS(e,n,a){Wi.S(e,n,a);var o=Ba;if(o&&e){var h=di(o).hoistableStyles,f=qa(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(dl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=kn.get(f))&&Od(e,a);var R=g=o.createElement("link");Ae(R),Fe(R,"link",e),R._p=new Promise(function(k,H){R.onload=k,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,wc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function wS(e,n){Wi.X(e,n);var a=Ba;if(a&&e){var o=di(a).hoistableScripts,h=ja(e),f=o.get(h);f||(f=a.querySelector(ml(h)),f||(e=S({src:e,async:!0},n),(n=kn.get(h))&&Vd(e,n),f=a.createElement("script"),Ae(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function RS(e,n){Wi.M(e,n);var a=Ba;if(a&&e){var o=di(a).hoistableScripts,h=ja(e),f=o.get(h);f||(f=a.querySelector(ml(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=kn.get(h))&&Vd(e,n),f=a.createElement("script"),Ae(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function U_(e,n,a,o){var h=(h=bt.current)?bc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=qa(a.href),a=di(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=qa(a.href);var f=di(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(dl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(e,a),f||IS(h,e,a,g.state))),n&&o===null)throw Error(s(528,""));return g}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ja(a),a=di(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function qa(e){return'href="'+on(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function L_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function IS(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",a),Ae(n),e.head.appendChild(n))}function ja(e){return'[src="'+on(e)+'"]'}function ml(e){return"script[async]"+e}function x_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+on(a.href)+'"]');if(o)return n.instance=o,Ae(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ae(o),Fe(o,"style",h),wc(o,a.precedence,e),n.instance=o;case"stylesheet":h=qa(a.href);var f=e.querySelector(dl(h));if(f)return n.state.loading|=4,n.instance=f,Ae(f),f;o=L_(a),(h=kn.get(h))&&Od(o,h),f=(e.ownerDocument||e).createElement("link"),Ae(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Fe(f,"link",o),n.state.loading|=4,wc(f,a.precedence,e),n.instance=f;case"script":return f=ja(a.src),(h=e.querySelector(ml(f)))?(n.instance=h,Ae(h),h):(o=a,(h=kn.get(f))&&(o=S({},a),Vd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ae(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,wc(o,a.precedence,e));return n.instance}function wc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Od(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Rc=null;function P_(e,n,a){if(Rc===null){var o=new Map,h=Rc=new Map;h.set(a,o)}else h=Rc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[hi]||f[Te]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function k_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function CS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function z_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function DS(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=qa(o.href),f=n.querySelector(dl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ic.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ae(f);return}f=n.ownerDocument||n,o=L_(o),(h=kn.get(h))&&Od(o,h),f=f.createElement("link"),Ae(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Fe(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ic.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Md=0;function NS(e,n){return e.stylesheets&&e.count===0&&Dc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Dc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Md===0&&(Md=62500*cS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Dc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Md?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ic(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Cc=null;function Dc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Cc=new Map,n.forEach(OS,e),Cc=null,Ic.call(e))}function OS(e,n){if(!(n.state.loading&4)){var a=Cc.get(e);if(a)var o=a.get(null);else{a=new Map,Cc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=Ic.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var gl={$$typeof:pt,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function VS(e,n,a,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function B_(e,n,a,o,h,f,g,E,R,k,H,K){return e=new VS(e,n,a,g,R,k,H,K,E),n=1,f===!0&&(n|=24),f=vn(3,null,null,n),e.current=f,f.stateNode=e,n=ff(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},pf(f),e}function q_(e){return e?(e=va,e):va}function j_(e,n,a,o,h,f){h=q_(h),o.context===null?o.context=h:o.pendingContext=h,o=Rr(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ir(e,o,n),a!==null&&(dn(a,e,n),Ko(a,e,n))}function H_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Ud(e,n){H_(e,n),(e=e.alternate)&&H_(e,n)}function G_(e){if(e.tag===13||e.tag===31){var n=Rs(e,67108864);n!==null&&dn(n,e,67108864),Ud(e,67108864)}}function F_(e){if(e.tag===13||e.tag===31){var n=bn();n=ms(n);var a=Rs(e,n);a!==null&&dn(a,e,n),Ud(e,n)}}var Nc=!0;function MS(e,n,a,o){var h=B.T;B.T=null;var f=$.p;try{$.p=2,Ld(e,n,a,o)}finally{$.p=f,B.T=h}}function US(e,n,a,o){var h=B.T;B.T=null;var f=$.p;try{$.p=8,Ld(e,n,a,o)}finally{$.p=f,B.T=h}}function Ld(e,n,a,o){if(Nc){var h=xd(o);if(h===null)Td(e,n,o,Oc,a),K_(e,o);else if(xS(h,e,n,a,o))o.stopPropagation();else if(K_(e,o),n&4&&-1<LS.indexOf(e)){for(;h!==null;){var f=In(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=oi(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-de(g);E.entanglements[1]|=R,g&=~R}Ri(f),(Ht&6)===0&&(dc=en()+500,ul(0))}}break;case 31:case 13:E=Rs(f,2),E!==null&&dn(E,f,2),gc(),Ud(f,2)}if(f=xd(o),f===null&&Td(e,n,o,Oc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Td(e,n,o,null,a)}}function xd(e){return e=Cn(e),Pd(e)}var Oc=null;function Pd(e){if(Oc=null,e=fi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Oc=e,null}function Q_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cs()){case _o:return 2;case vo:return 8;case hr:case jh:return 32;case uu:return 268435456;default:return 32}default:return 32}}var kd=!1,kr=null,zr=null,Br=null,pl=new Map,yl=new Map,qr=[],LS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function K_(e,n){switch(e){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(n.pointerId)}}function _l(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=In(n),n!==null&&G_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function xS(e,n,a,o,h){switch(n){case"focusin":return kr=_l(kr,e,n,a,o,h),!0;case"dragenter":return zr=_l(zr,e,n,a,o,h),!0;case"mouseover":return Br=_l(Br,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return pl.set(f,_l(pl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,yl.set(f,_l(yl.get(f)||null,e,n,a,o,h)),!0}return!1}function Y_(e){var n=fi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Hn(e.priority,function(){F_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,Hn(e.priority,function(){F_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=xd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Oo=o,a.target.dispatchEvent(o),Oo=null}else return n=In(a),n!==null&&G_(n),e.blockedOn=a,!1;n.shift()}return!0}function X_(e,n,a){Vc(e)&&a.delete(n)}function PS(){kd=!1,kr!==null&&Vc(kr)&&(kr=null),zr!==null&&Vc(zr)&&(zr=null),Br!==null&&Vc(Br)&&(Br=null),pl.forEach(X_),yl.forEach(X_)}function Mc(e,n){e.blockedOn===n&&(e.blockedOn=null,kd||(kd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,PS)))}var Uc=null;function J_(e){Uc!==e&&(Uc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Uc===e&&(Uc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Pd(o||a)===null)continue;break}var f=In(a);f!==null&&(e.splice(n,3),n-=3,xf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ha(e){function n(R){return Mc(R,e)}kr!==null&&Mc(kr,e),zr!==null&&Mc(zr,e),Br!==null&&Mc(Br,e),pl.forEach(n),yl.forEach(n);for(var a=0;a<qr.length;a++){var o=qr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<qr.length&&(a=qr[0],a.blockedOn===null);)Y_(a),a.blockedOn===null&&qr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[xe]||null;if(typeof f=="function")g||J_(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[xe]||null)E=g.formAction;else if(Pd(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),J_(a)}}}function Z_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function zd(e){this._internalRoot=e}Lc.prototype.render=zd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=bn();j_(a,o,e,n,null,null)},Lc.prototype.unmount=zd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;j_(e.current,2,null,e,null,null),gc(),n[ci]=null}};function Lc(e){this._internalRoot=e}Lc.prototype.unstable_scheduleHydration=function(e){if(e){var n=gu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<qr.length&&n!==0&&n<qr[a].priority;a++);qr.splice(a,0,e),a===0&&Y_(e)}};var $_=t.version;if($_!=="19.2.4")throw Error(s(527,$_,"19.2.4"));$.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var kS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{qn=xc.inject(kS),Be=xc}catch{}}return El.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",h=sy,f=ay,g=oy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=B_(e,1,!1,null,null,a,o,null,h,f,g,Z_),e[ci]=n.current,Ed(e),new zd(n)},El.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=sy,g=ay,E=oy,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=B_(e,1,!0,n,a??null,o,h,R,f,g,E,Z_),n.context=q_(null),a=n.current,o=bn(),o=ms(o),h=Rr(o),h.callback=null,Ir(a,h,o),a=o,n.current.lanes=a,fs(n,a),Ri(n),e[ci]=n.current,Ed(e),new Lc(n)},El.version="19.2.4",El}var lv;function JS(){if(lv)return jd.exports;lv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),jd.exports=XS(),jd.exports}var ZS=JS();const $S=()=>{};var uv={};const PE=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},WS=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(v>>10)),t[s++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},kE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,v=l+2<r.length,y=v?r[l+2]:0,T=c>>2,S=(c&3)<<4|p>>4;let D=(p&15)<<2|y>>6,G=y&63;v||(G=64,d||(D=64)),s.push(i[T],i[S],i[D],i[G])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(PE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):WS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||S==null)throw new t1;const D=c<<2|p>>4;if(s.push(D),y!==64){const G=p<<4&240|y>>2;if(s.push(G),S!==64){const J=y<<6&192|S;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class t1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e1=function(r){const t=PE(r);return kE.encodeByteArray(t,!0)},Wc=function(r){return e1(r).replace(/\./g,"")},zE=function(r){try{return kE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function n1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const i1=()=>n1().__FIREBASE_DEFAULTS__,r1=()=>{if(typeof process>"u"||typeof uv>"u")return;const r=uv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},s1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&zE(r[1]);return t&&JSON.parse(t)},vh=()=>{try{return $S()||i1()||r1()||s1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},BE=r=>vh()?.emulatorHosts?.[r],a1=r=>{const t=BE(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},qE=()=>vh()?.config,jE=r=>vh()?.[`_${r}`];class o1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}function oo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function HE(r){return(await fetch(r,{credentials:"include"})).ok}function l1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Wc(JSON.stringify(i)),Wc(JSON.stringify(d)),""].join(".")}const Rl={};function u1(){const r={prod:[],emulator:[]};for(const t of Object.keys(Rl))Rl[t]?r.emulator.push(t):r.prod.push(t);return r}function c1(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let cv=!1;function GE(r,t){if(typeof window>"u"||typeof document>"u"||!oo(window.location.host)||Rl[r]===t||Rl[r]||cv)return;Rl[r]=t;function i(D){return`__firebase__banner__${D}`}const s="__firebase__banner",c=u1().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function v(D,G){D.setAttribute("width","24"),D.setAttribute("id",G),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function y(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{cv=!0,d()},D}function T(D,G){D.setAttribute("id",G),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=c1(s),G=i("text"),J=document.getElementById(G)||document.createElement("span"),Z=i("learnmore"),tt=document.getElementById(Z)||document.createElement("a"),ft=i("preprendIcon"),_t=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const pt=D.element;p(pt),T(tt,Z);const kt=y();v(_t,ft),pt.append(_t,J,tt,kt),document.body.appendChild(pt)}c?(J.innerText="Preview backend disconnected.",_t.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_t.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function f1(){const r=vh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function d1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function m1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function g1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function p1(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function y1(){return!f1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _1(){try{return typeof indexedDB=="object"}catch{return!1}}function v1(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const E1="FirebaseError";class lr extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=E1,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ql.prototype.create)}}class Ql{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?T1(c,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new lr(l,p,s)}}function T1(r,t){return r.replace(A1,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const A1=/\{\$([^}]+)}/g;function S1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Gs(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(hv(c)&&hv(d)){if(!Gs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function hv(r){return r!==null&&typeof r=="object"}function Kl(r){const t=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function b1(r,t){const i=new w1(r,t);return i.subscribe.bind(i)}class w1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");R1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=Qd),l.error===void 0&&(l.error=Qd),l.complete===void 0&&(l.complete=Qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function R1(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Qd(){}function _e(r){return r&&r._delegate?r._delegate:r}class Fs{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const zs="[DEFAULT]";class I1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new o1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(D1(t))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=zs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zs){return this.instances.has(t)}getOptions(t=zs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:C1(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=zs){return this.component?this.component.multipleInstances?t:zs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function C1(r){return r===zs?void 0:r}function D1(r){return r.instantiationMode==="EAGER"}class N1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new I1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const O1={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},V1=Ot.INFO,M1={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},U1=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=M1[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Mm{constructor(t){this.name=t,this._logLevel=V1,this._logHandler=U1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?O1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const L1=(r,t)=>t.some(i=>r instanceof i);let fv,dv;function x1(){return fv||(fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P1(){return dv||(dv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FE=new WeakMap,sm=new WeakMap,QE=new WeakMap,Kd=new WeakMap,Um=new WeakMap;function k1(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Yr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&FE.set(i,r)}).catch(()=>{}),Um.set(t,r),t}function z1(r){if(sm.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});sm.set(r,t)}let am={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return sm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||QE.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Yr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function B1(r){am=r(am)}function q1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(Yd(this),t,...i);return QE.set(s,t.sort?t.sort():[t]),Yr(s)}:P1().includes(r)?function(...t){return r.apply(Yd(this),t),Yr(FE.get(this))}:function(...t){return Yr(r.apply(Yd(this),t))}}function j1(r){return typeof r=="function"?q1(r):(r instanceof IDBTransaction&&z1(r),L1(r,x1())?new Proxy(r,am):r)}function Yr(r){if(r instanceof IDBRequest)return k1(r);if(Kd.has(r))return Kd.get(r);const t=j1(r);return t!==r&&(Kd.set(r,t),Um.set(t,r)),t}const Yd=r=>Um.get(r);function H1(r,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Yr(d);return s&&d.addEventListener("upgradeneeded",v=>{s(Yr(d.result),v.oldVersion,v.newVersion,Yr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const G1=["get","getKey","getAll","getAllKeys","count"],F1=["put","add","delete","clear"],Xd=new Map;function mv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Xd.get(t))return Xd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=F1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||G1.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&v.done]))[0]};return Xd.set(t,c),c}B1(r=>({...r,get:(t,i,s)=>mv(t,i)||r.get(t,i,s),has:(t,i)=>!!mv(t,i)||r.has(t,i)}));class Q1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(K1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function K1(r){return r.getComponent()?.type==="VERSION"}const om="@firebase/app",gv="0.14.9";const rr=new Mm("@firebase/app"),Y1="@firebase/app-compat",X1="@firebase/analytics-compat",J1="@firebase/analytics",Z1="@firebase/app-check-compat",$1="@firebase/app-check",W1="@firebase/auth",tb="@firebase/auth-compat",eb="@firebase/database",nb="@firebase/data-connect",ib="@firebase/database-compat",rb="@firebase/functions",sb="@firebase/functions-compat",ab="@firebase/installations",ob="@firebase/installations-compat",lb="@firebase/messaging",ub="@firebase/messaging-compat",cb="@firebase/performance",hb="@firebase/performance-compat",fb="@firebase/remote-config",db="@firebase/remote-config-compat",mb="@firebase/storage",gb="@firebase/storage-compat",pb="@firebase/firestore",yb="@firebase/ai",_b="@firebase/firestore-compat",vb="firebase",Eb="12.10.0";const lm="[DEFAULT]",Tb={[om]:"fire-core",[Y1]:"fire-core-compat",[J1]:"fire-analytics",[X1]:"fire-analytics-compat",[$1]:"fire-app-check",[Z1]:"fire-app-check-compat",[W1]:"fire-auth",[tb]:"fire-auth-compat",[eb]:"fire-rtdb",[nb]:"fire-data-connect",[ib]:"fire-rtdb-compat",[rb]:"fire-fn",[sb]:"fire-fn-compat",[ab]:"fire-iid",[ob]:"fire-iid-compat",[lb]:"fire-fcm",[ub]:"fire-fcm-compat",[cb]:"fire-perf",[hb]:"fire-perf-compat",[fb]:"fire-rc",[db]:"fire-rc-compat",[mb]:"fire-gcs",[gb]:"fire-gcs-compat",[pb]:"fire-fst",[_b]:"fire-fst-compat",[yb]:"fire-vertex","fire-js":"fire-js",[vb]:"fire-js-all"};const th=new Map,Ab=new Map,um=new Map;function pv(r,t){try{r.container.addComponent(t)}catch(i){rr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Wa(r){const t=r.name;if(um.has(t))return rr.debug(`There were multiple attempts to register component ${t}.`),!1;um.set(t,r);for(const i of th.values())pv(i,r);for(const i of Ab.values())pv(i,r);return!0}function Lm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function zn(r){return r==null?!1:r.settings!==void 0}const Sb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new Ql("app","Firebase",Sb);class bb{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}const lo=Eb;function KE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s={name:lm,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Xr.create("bad-app-name",{appName:String(l)});if(i||(i=qE()),!i)throw Xr.create("no-options");const c=th.get(l);if(c){if(Gs(i,c.options)&&Gs(s,c.config))return c;throw Xr.create("duplicate-app",{appName:l})}const d=new N1(l);for(const v of um.values())d.addComponent(v);const p=new bb(i,s,d);return th.set(l,p),p}function YE(r=lm){const t=th.get(r);if(!t&&r===lm&&qE())return KE();if(!t)throw Xr.create("no-app",{appName:r});return t}function Jr(r,t,i){let s=Tb[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rr.warn(d.join(" "));return}Wa(new Fs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const wb="firebase-heartbeat-database",Rb=1,Ul="firebase-heartbeat-store";let Jd=null;function XE(){return Jd||(Jd=H1(wb,Rb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ul)}catch(i){console.warn(i)}}}}).catch(r=>{throw Xr.create("idb-open",{originalErrorMessage:r.message})})),Jd}async function Ib(r){try{const i=(await XE()).transaction(Ul),s=await i.objectStore(Ul).get(JE(r));return await i.done,s}catch(t){if(t instanceof lr)rr.warn(t.message);else{const i=Xr.create("idb-get",{originalErrorMessage:t?.message});rr.warn(i.message)}}}async function yv(r,t){try{const s=(await XE()).transaction(Ul,"readwrite");await s.objectStore(Ul).put(t,JE(r)),await s.done}catch(i){if(i instanceof lr)rr.warn(i.message);else{const s=Xr.create("idb-set",{originalErrorMessage:i?.message});rr.warn(s.message)}}}function JE(r){return`${r.name}!${r.options.appId}`}const Cb=1024,Db=30;class Nb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Vb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_v();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Db){const l=Mb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){rr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_v(),{heartbeatsToSend:i,unsentEntries:s}=Ob(this._heartbeatsCache.heartbeats),l=Wc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return rr.warn(t),""}}}function _v(){return new Date().toISOString().substring(0,10)}function Ob(r,t=Cb){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),vv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),vv(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Vb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _1()?v1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Ib(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return yv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return yv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function vv(r){return Wc(JSON.stringify({version:2,heartbeats:r})).length}function Mb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}function Ub(r){Wa(new Fs("platform-logger",t=>new Q1(t),"PRIVATE")),Wa(new Fs("heartbeat",t=>new Nb(t),"PRIVATE")),Jr(om,gv,r),Jr(om,gv,"esm2020"),Jr("fire-js","")}Ub("");function ZE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Lb=ZE,$E=new Ql("auth","Firebase",ZE());const eh=new Mm("@firebase/auth");function xb(r,...t){eh.logLevel<=Ot.WARN&&eh.warn(`Auth (${lo}): ${r}`,...t)}function Hc(r,...t){eh.logLevel<=Ot.ERROR&&eh.error(`Auth (${lo}): ${r}`,...t)}function Vi(r,...t){throw Pm(r,...t)}function ti(r,...t){return Pm(r,...t)}function xm(r,t,i){const s={...Lb(),[t]:i};return new Ql("auth","Firebase",s).create(t,{appName:r.name})}function Zr(r){return xm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WE(r,t,i){const s=i;if(!(t instanceof s))throw s.name!==t.constructor.name&&Vi(r,"argument-error"),xm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pm(r,...t){if(typeof r!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return $E.create(r,...t)}function gt(r,t,...i){if(!r)throw Pm(t,...i)}function er(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Hc(t),new Error(t)}function sr(r,t){r||er(t)}function cm(){return typeof self<"u"&&self.location?.href||""}function Pb(){return Ev()==="http:"||Ev()==="https:"}function Ev(){return typeof self<"u"&&self.location?.protocol||null}function kb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Pb()||m1()||"connection"in navigator)?navigator.onLine:!0}function zb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Yl{constructor(t,i){this.shortDelay=t,this.longDelay=i,sr(i>t,"Short delay should be less than long delay!"),this.isMobile=h1()||g1()}get(){return kb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function km(r,t){sr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class tT{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Bb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const qb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jb=new Yl(3e4,6e4);function zm(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function uo(r,t,i,s,l={}){return eT(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const p=Kl({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:v,...c};return d1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&oo(r.emulatorConfig.host)&&(y.credentials="include"),tT.fetch()(await nT(r,r.config.apiHost,i,p),y)})}async function eT(r,t,i){r._canInitEmulator=!1;const s={...Bb,...t};try{const l=new Gb(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Pc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,y]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pc(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Pc(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Pc(r,"user-disabled",d);const T=s[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw xm(r,T,y);Vi(r,T)}}catch(l){if(l instanceof lr)throw l;Vi(r,"network-request-failed",{message:String(l)})}}async function Hb(r,t,i,s,l={}){const c=await uo(r,t,i,s,l);return"mfaPendingCredential"in c&&Vi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function nT(r,t,i,s){const l=`${t}${i}?${s}`,c=r,d=c.config.emulator?km(r.config,l):`${r.config.apiScheme}://${l}`;return qb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Gb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(ti(this.auth,"network-request-failed")),jb.get())})}}function Pc(r,t,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=ti(r,t,s);return l.customData._tokenResponse=i,l}async function Fb(r,t){return uo(r,"POST","/v1/accounts:delete",t)}async function nh(r,t){return uo(r,"POST","/v1/accounts:lookup",t)}function Il(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Qb(r,t=!1){const i=_e(r),s=await i.getIdToken(t),l=Bm(s);gt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:Il(Zd(l.auth_time)),issuedAtTime:Il(Zd(l.iat)),expirationTime:Il(Zd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Zd(r){return Number(r)*1e3}function Bm(r){const[t,i,s]=r.split(".");if(t===void 0||i===void 0||s===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const l=zE(i);return l?JSON.parse(l):(Hc("Failed to decode base64 JWT payload"),null)}catch(l){return Hc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Tv(r){const t=Bm(r);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ll(r,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof lr&&Kb(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Kb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Yb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class hm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ih(r){const t=r.auth,i=await r.getIdToken(),s=await Ll(r,nh(t,{idToken:i}));gt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?iT(l.providerUserInfo):[],d=Jb(r.providerData,c),p=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!d?.length,y=p?v:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new hm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,T)}async function Xb(r){const t=_e(r);await ih(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Jb(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function iT(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Zb(r,t){const i=await eT(r,{},async()=>{const s=Kl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await nT(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:s};return r.emulatorConfig&&oo(r.emulatorConfig.host)&&(v.credentials="include"),tT.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function $b(r,t){return uo(r,"POST","/v2/accounts:revokeToken",zm(r,t))}class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Tv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const i=Tv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await Zb(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new Ya;return s&&(gt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(gt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(gt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return er("not implemented")}}function Hr(r,t){gt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Wn{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new Yb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new hm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ll(this,this.stsTokenManager.getToken(this.auth,t));return gt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Qb(this,t)}reload(){return Xb(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(Zr(this.auth));const t=await this.getIdToken();return await Ll(this,Fb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:S,emailVerified:D,isAnonymous:G,providerData:J,stsTokenManager:Z}=i;gt(S&&Z,t,"internal-error");const tt=Ya.fromJSON(this.name,Z);gt(typeof S=="string",t,"internal-error"),Hr(s,t.name),Hr(l,t.name),gt(typeof D=="boolean",t,"internal-error"),gt(typeof G=="boolean",t,"internal-error"),Hr(c,t.name),Hr(d,t.name),Hr(p,t.name),Hr(v,t.name),Hr(y,t.name),Hr(T,t.name);const ft=new Wn({uid:S,auth:t,email:l,emailVerified:D,displayName:s,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:tt,createdAt:y,lastLoginAt:T});return J&&Array.isArray(J)&&(ft.providerData=J.map(_t=>({..._t}))),v&&(ft._redirectEventId=v),ft}static async _fromIdTokenResponse(t,i,s=!1){const l=new Ya;l.updateFromServerResponse(i);const c=new Wn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await ih(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];gt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?iT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ya;p.updateFromIdToken(s);const v=new Wn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new hm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const Av=new Map;function nr(r){sr(r instanceof Function,"Expected a class definition");let t=Av.get(r);return t?(sr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Av.set(r,t),t)}class rT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}rT.type="NONE";const Sv=rT;function Gc(r,t,i){return`firebase:${r}:${t}:${i}`}class Xa{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Gc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Gc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await nh(this.auth,{idToken:t}).catch(()=>{});return i?Wn._fromGetAccountInfoResponse(this.auth,i,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new Xa(nr(Sv),t,s);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||nr(Sv);const d=Gc(s,t.config.apiKey,t.name);let p=null;for(const y of i)try{const T=await y._get(d);if(T){let S;if(typeof T=="string"){const D=await nh(t,{idToken:T}).catch(()=>{});if(!D)break;S=await Wn._fromGetAccountInfoResponse(t,D,T)}else S=Wn._fromJSON(t,T);y!==c&&(p=S),c=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Xa(c,t,s):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Xa(c,t,s))}}function bv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(lT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(sT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(cT(t))return"Blackberry";if(hT(t))return"Webos";if(aT(t))return"Safari";if((t.includes("chrome/")||oT(t))&&!t.includes("edge/"))return"Chrome";if(uT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function sT(r=tn()){return/firefox\//i.test(r)}function aT(r=tn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function oT(r=tn()){return/crios\//i.test(r)}function lT(r=tn()){return/iemobile/i.test(r)}function uT(r=tn()){return/android/i.test(r)}function cT(r=tn()){return/blackberry/i.test(r)}function hT(r=tn()){return/webos/i.test(r)}function qm(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Wb(r=tn()){return qm(r)&&!!window.navigator?.standalone}function tw(){return p1()&&document.documentMode===10}function fT(r=tn()){return qm(r)||uT(r)||hT(r)||cT(r)||/windows phone/i.test(r)||lT(r)}function dT(r,t=[]){let i;switch(r){case"Browser":i=bv(tn());break;case"Worker":i=`${bv(tn())}-${r}`;break;default:i=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${lo}/${s}`}class ew{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,p)=>{try{const v=t(c);d(v)}catch(v){p(v)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function nw(r,t={}){return uo(r,"GET","/v2/passwordPolicy",zm(r,t))}const iw=6;class rw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??iw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class sw{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wv(this),this.idTokenSubscription=new wv(this),this.beforeStateQueue=new ew(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$E,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=nr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await nh(this,{idToken:t}),s=await Wn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await ih(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=zb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(zn(this.app))return Promise.reject(Zr(this));const i=t?_e(t):null;return i&&gt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(Zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return zn(this.app)?Promise.reject(Zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await nw(this),i=new rw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ql("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await $b(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&nr(t)||this._popupRedirectResolver;gt(i,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[nr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,s,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=dT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&xb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Xl(r){return _e(r)}class wv{constructor(t){this.auth=t,this.observer=null,this.addObserver=b1(i=>this.observer=i)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let jm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aw(r){jm=r}function ow(r){return jm.loadJS(r)}function lw(){return jm.gapiScript}function uw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function cw(r,t){const i=Lm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Gs(c,t??{}))return l;Vi(l,"already-initialized")}return i.initialize({options:t})}function hw(r,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(nr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function fw(r,t,i){const s=Xl(r);gt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=mT(t),{host:d,port:p}=dw(t),v=p===null?"":`:${p}`,y={url:`${c}//${d}${v}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){gt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),gt(Gs(y,s.config.emulator)&&Gs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,oo(d)?(HE(`${c}//${d}${v}`),GE("Auth",!0)):mw()}function mT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function dw(r){const t=mT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:Rv(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:Rv(d)}}}function Rv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function mw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class gT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return er("not implemented")}_getIdTokenResponse(t){return er("not implemented")}_linkToIdToken(t,i){return er("not implemented")}_getReauthenticationResolver(t){return er("not implemented")}}async function Ja(r,t){return Hb(r,"POST","/v1/accounts:signInWithIdp",zm(r,t))}const gw="http://localhost";class Qs extends gT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Qs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Vi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new Qs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ja(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Ja(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ja(t,i)}buildRequest(){const t={requestUri:gw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Kl(i)}return t}}class Eh{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Jl extends Eh{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Gr extends Jl{constructor(){super("facebook.com")}static credential(t){return Qs._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gr.credential(t.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";class tr extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Qs._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return tr.credential(i,s)}catch{return null}}}tr.GOOGLE_SIGN_IN_METHOD="google.com";tr.PROVIDER_ID="google.com";class Fr extends Jl{constructor(){super("github.com")}static credential(t){return Qs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fr.credential(t.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";class Qr extends Jl{constructor(){super("twitter.com")}static credential(t,i){return Qs._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Qr.credential(i,s)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";class to{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await Wn._fromIdTokenResponse(t,s,l),d=Iv(s);return new to({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=Iv(s);return new to({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function Iv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class rh extends lr{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new rh(t,i,s,l)}}function pT(r,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(r,c,t,s):c})}async function pw(r,t,i=!1){const s=await Ll(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return to._forOperation(r,"link",s)}async function yw(r,t,i=!1){const{auth:s}=r;if(zn(s.app))return Promise.reject(Zr(s));const l="reauthenticate";try{const c=await Ll(r,pT(s,l,t,r),i);gt(c.idToken,s,"internal-error");const d=Bm(c.idToken);gt(d,s,"internal-error");const{sub:p}=d;return gt(r.uid===p,s,"user-mismatch"),to._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Vi(s,"user-mismatch"),c}}async function _w(r,t,i=!1){if(zn(r.app))return Promise.reject(Zr(r));const s="signIn",l=await pT(r,s,t),c=await to._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}function vw(r,t){return _e(r).setPersistence(t)}function Ew(r,t,i,s){return _e(r).onIdTokenChanged(t,i,s)}function Tw(r,t,i){return _e(r).beforeAuthStateChanged(t,i)}function Aw(r,t,i,s){return _e(r).onAuthStateChanged(t,i,s)}function Sw(r){return _e(r).signOut()}const sh="__sak";class yT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const bw=1e3,ww=10;class _T extends yT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);tw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,ww):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},bw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}_T.type="LOCAL";const vT=_T;class ET extends yT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}ET.type="SESSION";const TT=ET;function Rw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Th{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new Th(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),v=await Rw(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Th.receivers=[];function Hm(r="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return r+i}class Iw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const y=Hm("",20);l.port1.start();const T=setTimeout(()=>{v(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(S){const D=S;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(D.data.response);break;default:clearTimeout(T),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ci(){return window}function Cw(r){Ci().location.href=r}function AT(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function Dw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Nw(){return navigator?.serviceWorker?.controller||null}function Ow(){return AT()?self:null}const ST="firebaseLocalStorageDb",Vw=1,ah="firebaseLocalStorage",bT="fbase_key";class Zl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ah(r,t){return r.transaction([ah],t?"readwrite":"readonly").objectStore(ah)}function Mw(){const r=indexedDB.deleteDatabase(ST);return new Zl(r).toPromise()}function fm(){const r=indexedDB.open(ST,Vw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ah,{keyPath:bT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ah)?t(s):(s.close(),await Mw(),t(await fm()))})})}async function Cv(r,t,i){const s=Ah(r,!0).put({[bT]:t,value:i});return new Zl(s).toPromise()}async function Uw(r,t){const i=Ah(r,!1).get(t),s=await new Zl(i).toPromise();return s===void 0?null:s.value}function Dv(r,t){const i=Ah(r,!0).delete(t);return new Zl(i).toPromise()}const Lw=800,xw=3;class wT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>xw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Th._getInstance(Ow()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Dw(),!this.activeServiceWorker)return;this.sender=new Iw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Nw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fm();return await Cv(t,sh,"1"),await Dv(t,sh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>Cv(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>Uw(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Dv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Ah(l,!1).getAll();return new Zl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Lw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wT.type="LOCAL";const Pw=wT;new Yl(3e4,6e4);function Gm(r,t){return t?nr(t):(gt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Fm extends gT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ja(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ja(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function kw(r){return _w(r.auth,new Fm(r),r.bypassAuthState)}function zw(r){const{auth:t,user:i}=r;return gt(i,t,"internal-error"),yw(i,new Fm(r),r.bypassAuthState)}async function Bw(r){const{auth:t,user:i}=r;return gt(i,t,"internal-error"),pw(i,new Fm(r),r.bypassAuthState)}class RT{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return kw;case"linkViaPopup":case"linkViaRedirect":return Bw;case"reauthViaPopup":case"reauthViaRedirect":return zw;default:Vi(this.auth,"internal-error")}}resolve(t){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qw=new Yl(2e3,1e4);async function jw(r,t,i){if(zn(r.app))return Promise.reject(ti(r,"operation-not-supported-in-this-environment"));const s=Xl(r);WE(r,t,Eh);const l=Gm(s,i);return new Bs(s,"signInViaPopup",t,l).executeNotNull()}class Bs extends RT{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Bs.currentPopupAction&&Bs.currentPopupAction.cancel(),Bs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const t=Hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,qw.get())};t()}}Bs.currentPopupAction=null;const Hw="pendingRedirect",Fc=new Map;class Gw extends RT{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Fc.get(this.auth._key());if(!t){try{const s=await Fw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Fc.set(this.auth._key(),t)}return this.bypassAuthState||Fc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Fw(r,t){const i=CT(t),s=IT(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}async function Qw(r,t){return IT(r)._set(CT(t),"true")}function Kw(r,t){Fc.set(r._key(),t)}function IT(r){return nr(r._redirectPersistence)}function CT(r){return Gc(Hw,r.config.apiKey,r.name)}function Yw(r,t,i){return Xw(r,t,i)}async function Xw(r,t,i){if(zn(r.app))return Promise.reject(Zr(r));const s=Xl(r);WE(r,t,Eh),await s._initializationPromise;const l=Gm(s,i);return await Qw(l,s),l._openRedirect(s,t,"signInViaRedirect")}async function Jw(r,t,i=!1){if(zn(r.app))return Promise.reject(Zr(r));const s=Xl(r),l=Gm(s,t),d=await new Gw(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const Zw=600*1e3;class $w{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Ww(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!DT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ti(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Zw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nv(t))}saveEventToCache(t){this.cachedEventUids.add(Nv(t)),this.lastProcessedEventTime=Date.now()}}function Nv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function DT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Ww(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DT(r);default:return!1}}async function tR(r,t={}){return uo(r,"GET","/v1/projects",t)}const eR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nR=/^https?/;async function iR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await tR(r);for(const i of t)try{if(rR(i))return}catch{}Vi(r,"unauthorized-domain")}function rR(r){const t=cm(),{protocol:i,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!nR.test(i))return!1;if(eR.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const sR=new Yl(3e4,6e4);function Ov(){const r=Ci().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function aR(r){return new Promise((t,i)=>{function s(){Ov(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ov(),i(ti(r,"network-request-failed"))},timeout:sR.get()})}if(Ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ci().gapi?.load)s();else{const l=uw("iframefcb");return Ci()[l]=()=>{gapi.load?s():i(ti(r,"network-request-failed"))},ow(`${lw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Qc=null,t})}let Qc=null;function oR(r){return Qc=Qc||aR(r),Qc}const lR=new Yl(5e3,15e3),uR="__/auth/iframe",cR="emulator/auth/iframe",hR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dR(r){const t=r.config;gt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?km(t,cR):`https://${r.config.authDomain}/${uR}`,s={apiKey:t.apiKey,appName:r.name,v:lo},l=fR.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Kl(s).slice(1)}`}async function mR(r){const t=await oR(r),i=Ci().gapi;return gt(i,r,"internal-error"),t.open({where:document.body,url:dR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=ti(r,"network-request-failed"),p=Ci().setTimeout(()=>{c(d)},lR.get());function v(){Ci().clearTimeout(p),l(s)}s.ping(v).then(v,()=>{c(d)})}))}const gR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pR=500,yR=600,_R="_blank",vR="http://localhost";class Vv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ER(r,t,i,s=pR,l=yR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const v={...gR,width:s.toString(),height:l.toString(),top:c,left:d},y=tn().toLowerCase();i&&(p=oT(y)?_R:i),sT(y)&&(t=t||vR,v.scrollbars="yes");const T=Object.entries(v).reduce((D,[G,J])=>`${D}${G}=${J},`,"");if(Wb(y)&&p!=="_self")return TR(t||"",p),new Vv(null);const S=window.open(t||"",p,T);gt(S,r,"popup-blocked");try{S.focus()}catch{}return new Vv(S)}function TR(r,t){const i=document.createElement("a");i.href=r,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const AR="__/auth/handler",SR="emulator/auth/handler",bR=encodeURIComponent("fac");async function Mv(r,t,i,s,l,c){gt(r.config.authDomain,r,"auth-domain-config-required"),gt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:lo,eventId:l};if(t instanceof Eh){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",S1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(t instanceof Jl){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const v=await r._getAppCheckToken(),y=v?`#${bR}=${encodeURIComponent(v)}`:"";return`${wR(r)}?${Kl(p).slice(1)}${y}`}function wR({config:r}){return r.emulator?km(r,SR):`https://${r.authDomain}/${AR}`}const $d="webStorageSupport";class RR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TT,this._completeRedirectFn=Jw,this._overrideRedirectResult=Kw}async _openPopup(t,i,s,l){sr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Mv(t,i,s,cm(),l);return ER(t,c,Hm())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await Mv(t,i,s,cm(),l);return Cw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(sr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await mR(t),s=new $w(t);return i.register("authEvent",l=>(gt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send($d,{type:$d},l=>{const c=l?.[0]?.[$d];c!==void 0&&i(!!c),Vi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=iR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return fT()||aT()||qm()}}const IR=RR;var Uv="@firebase/auth",Lv="1.12.1";class CR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function DR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NR(r){Wa(new Fs("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const v={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dT(r)},y=new sw(s,l,c,v);return hw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Wa(new Fs("auth-internal",t=>{const i=Xl(t.getProvider("auth").getImmediate());return(s=>new CR(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jr(Uv,Lv,DR(r)),Jr(Uv,Lv,"esm2020")}const OR=300,VR=jE("authIdTokenMaxAge")||OR;let xv=null;const MR=r=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>VR)return;const l=i?.token;xv!==l&&(xv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function UR(r=YE()){const t=Lm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=cw(r,{popupRedirectResolver:IR,persistence:[Pw,vT,TT]}),s=jE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=MR(c.toString());Tw(i,d,()=>d(i.currentUser)),Ew(i,p=>d(p))}}const l=BE("auth");return l&&fw(i,`http://${l}`),i}function LR(){return document.getElementsByTagName("head")?.[0]??document}aw({loadJS(r){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=ti("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",LR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NR("Browser");var xR="firebase",PR="12.10.0";Jr(xR,PR,"app");var Pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $r,NT;(function(){var r;function t(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,N,L){for(var w=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)w[Lt-2]=arguments[Lt];return b.prototype[N].apply(M,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);const M=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)M[N]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(N=0;N<16;++N)M[N]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],N=C.g[2];let L=C.g[3],w;w=b+(L^I&(N^L))+M[0]+3614090360&4294967295,b=I+(w<<7&4294967295|w>>>25),w=L+(N^b&(I^N))+M[1]+3905402710&4294967295,L=b+(w<<12&4294967295|w>>>20),w=N+(I^L&(b^I))+M[2]+606105819&4294967295,N=L+(w<<17&4294967295|w>>>15),w=I+(b^N&(L^b))+M[3]+3250441966&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(L^I&(N^L))+M[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=L+(N^b&(I^N))+M[5]+1200080426&4294967295,L=b+(w<<12&4294967295|w>>>20),w=N+(I^L&(b^I))+M[6]+2821735955&4294967295,N=L+(w<<17&4294967295|w>>>15),w=I+(b^N&(L^b))+M[7]+4249261313&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(L^I&(N^L))+M[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=L+(N^b&(I^N))+M[9]+2336552879&4294967295,L=b+(w<<12&4294967295|w>>>20),w=N+(I^L&(b^I))+M[10]+4294925233&4294967295,N=L+(w<<17&4294967295|w>>>15),w=I+(b^N&(L^b))+M[11]+2304563134&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(L^I&(N^L))+M[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=L+(N^b&(I^N))+M[13]+4254626195&4294967295,L=b+(w<<12&4294967295|w>>>20),w=N+(I^L&(b^I))+M[14]+2792965006&4294967295,N=L+(w<<17&4294967295|w>>>15),w=I+(b^N&(L^b))+M[15]+1236535329&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(N^L&(I^N))+M[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=L+(I^N&(b^I))+M[6]+3225465664&4294967295,L=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(L^b))+M[11]+643717713&4294967295,N=L+(w<<14&4294967295|w>>>18),w=I+(L^b&(N^L))+M[0]+3921069994&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^L&(I^N))+M[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=L+(I^N&(b^I))+M[10]+38016083&4294967295,L=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(L^b))+M[15]+3634488961&4294967295,N=L+(w<<14&4294967295|w>>>18),w=I+(L^b&(N^L))+M[4]+3889429448&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^L&(I^N))+M[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=L+(I^N&(b^I))+M[14]+3275163606&4294967295,L=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(L^b))+M[3]+4107603335&4294967295,N=L+(w<<14&4294967295|w>>>18),w=I+(L^b&(N^L))+M[8]+1163531501&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^L&(I^N))+M[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=L+(I^N&(b^I))+M[2]+4243563512&4294967295,L=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(L^b))+M[7]+1735328473&4294967295,N=L+(w<<14&4294967295|w>>>18),w=I+(L^b&(N^L))+M[12]+2368359562&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(I^N^L)+M[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=L+(b^I^N)+M[8]+2272392833&4294967295,L=b+(w<<11&4294967295|w>>>21),w=N+(L^b^I)+M[11]+1839030562&4294967295,N=L+(w<<16&4294967295|w>>>16),w=I+(N^L^b)+M[14]+4259657740&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^L)+M[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=L+(b^I^N)+M[4]+1272893353&4294967295,L=b+(w<<11&4294967295|w>>>21),w=N+(L^b^I)+M[7]+4139469664&4294967295,N=L+(w<<16&4294967295|w>>>16),w=I+(N^L^b)+M[10]+3200236656&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^L)+M[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=L+(b^I^N)+M[0]+3936430074&4294967295,L=b+(w<<11&4294967295|w>>>21),w=N+(L^b^I)+M[3]+3572445317&4294967295,N=L+(w<<16&4294967295|w>>>16),w=I+(N^L^b)+M[6]+76029189&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^L)+M[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=L+(b^I^N)+M[12]+3873151461&4294967295,L=b+(w<<11&4294967295|w>>>21),w=N+(L^b^I)+M[15]+530742520&4294967295,N=L+(w<<16&4294967295|w>>>16),w=I+(N^L^b)+M[2]+3299628645&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(N^(I|~L))+M[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=L+(I^(b|~N))+M[7]+1126891415&4294967295,L=b+(w<<10&4294967295|w>>>22),w=N+(b^(L|~I))+M[14]+2878612391&4294967295,N=L+(w<<15&4294967295|w>>>17),w=I+(L^(N|~b))+M[5]+4237533241&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~L))+M[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=L+(I^(b|~N))+M[3]+2399980690&4294967295,L=b+(w<<10&4294967295|w>>>22),w=N+(b^(L|~I))+M[10]+4293915773&4294967295,N=L+(w<<15&4294967295|w>>>17),w=I+(L^(N|~b))+M[1]+2240044497&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~L))+M[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=L+(I^(b|~N))+M[15]+4264355552&4294967295,L=b+(w<<10&4294967295|w>>>22),w=N+(b^(L|~I))+M[6]+2734768916&4294967295,N=L+(w<<15&4294967295|w>>>17),w=I+(L^(N|~b))+M[13]+1309151649&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~L))+M[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=L+(I^(b|~N))+M[11]+3174756917&4294967295,L=b+(w<<10&4294967295|w>>>22),w=N+(b^(L|~I))+M[2]+718787259&4294967295,N=L+(w<<15&4294967295|w>>>17),w=I+(L^(N|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+L&4294967295}s.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,M=this.C;let N=this.h,L=0;for(;L<b;){if(N==0)for(;L<=I;)l(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<b;)if(M[N++]=C.charCodeAt(L++),N==this.blockSize){l(this,M),N=0;break}}else for(;L<b;)if(M[N++]=C[L++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=b},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[b++]=this.g[I]>>>M&255;return C};function c(C,b){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;const I=[];let M=!0;for(let N=C.length-1;N>=0;N--){const L=C[N]|0;M&&L==b||(I[N]=L,M=!1)}this.g=I}var p={};function v(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return tt(y(-C));const b=[];let I=1;for(let M=0;C>=I;M++)b[M]=C/I|0,I*=4294967296;return new d(b,0)}function T(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return tt(T(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(b,8));let M=S;for(let L=0;L<C.length;L+=8){var N=Math.min(8,C.length-L);const w=parseInt(C.substring(L,L+N),b);N<8?(N=y(Math.pow(b,N)),M=M.j(N).add(y(w))):(M=M.j(I),M=M.add(y(w)))}return M}var S=v(0),D=v(1),G=v(16777216);r=d.prototype,r.m=function(){if(Z(this))return-tt(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(J(this))return"0";if(Z(this))return"-"+tt(this).toString(C);const b=y(Math.pow(C,6));var I=this;let M="";for(;;){const N=kt(I,b).g;I=ft(I,N.j(b));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,J(I))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function J(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function Z(C){return C.h==-1}r.l=function(C){return C=ft(this,C),Z(C)?-1:J(C)?0:1};function tt(C){const b=C.g.length,I=[];for(let M=0;M<b;M++)I[M]=~C.g[M];return new d(I,~C.h).add(D)}r.abs=function(){return Z(this)?tt(this):this},r.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let N=0;N<=b;N++){let L=M+(this.i(N)&65535)+(C.i(N)&65535),w=(L>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);M=w>>>16,L&=65535,w&=65535,I[N]=w<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ft(C,b){return C.add(tt(b))}r.j=function(C){if(J(this)||J(C))return S;if(Z(this))return Z(C)?tt(this).j(tt(C)):tt(tt(this).j(C));if(Z(C))return tt(this.j(tt(C)));if(this.l(G)<0&&C.l(G)<0)return y(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var M=0;M<2*b;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<C.g.length;N++){const L=this.i(M)>>>16,w=this.i(M)&65535,Lt=C.i(N)>>>16,at=C.i(N)&65535;I[2*M+2*N]+=w*at,_t(I,2*M+2*N),I[2*M+2*N+1]+=L*at,_t(I,2*M+2*N+1),I[2*M+2*N+1]+=w*Lt,_t(I,2*M+2*N+1),I[2*M+2*N+2]+=L*Lt,_t(I,2*M+2*N+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new d(I,0)};function _t(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function pt(C,b){this.g=C,this.h=b}function kt(C,b){if(J(b))throw Error("division by zero");if(J(C))return new pt(S,S);if(Z(C))return b=kt(tt(C),b),new pt(tt(b.g),tt(b.h));if(Z(b))return b=kt(C,tt(b)),new pt(tt(b.g),b.h);if(C.g.length>30){if(Z(C)||Z(b))throw Error("slowDivide_ only works with positive integers.");for(var I=D,M=b;M.l(C)<=0;)I=ee(I),M=ee(M);var N=Ct(I,1),L=Ct(M,1);for(M=Ct(M,2),I=Ct(I,2);!J(M);){var w=L.add(M);w.l(C)<=0&&(N=N.add(I),L=w),M=Ct(M,1),I=Ct(I,1)}return b=ft(C,N.j(b)),new pt(N,b)}for(N=S;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=y(I),w=L.j(b);Z(w)||w.l(C)>0;)I-=M,L=y(I),w=L.j(b);J(L)&&(L=D),N=N.add(L),C=ft(C,w)}return new pt(N,C)}r.B=function(C){return kt(this,C).h},r.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},r.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},r.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function ee(C){const b=C.g.length+1,I=[];for(let M=0;M<b;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function Ct(C,b){const I=b>>5;b%=32;const M=C.g.length-I,N=[];for(let L=0;L<M;L++)N[L]=b>0?C.i(L+I)>>>b|C.i(L+I+1)<<32-b:C.i(L+I);return new d(N,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,NT=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,$r=d}).apply(typeof Pv<"u"?Pv:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var OT,Al,VT,Kc,dm,MT,UT,LT;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var x=u[A];if(!(x in _))break t;_=_[x]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&_.push([A,m[A]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function T(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(A,x,q){for(var W=Array(arguments.length-2),At=2;At<arguments.length;At++)W[At-2]=arguments[At];return m.prototype[x].apply(A,W)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function J(u,m){for(let A=1;A<arguments.length;A++){const x=arguments[A];var _=typeof x;if(_=_!="object"?_:x?Array.isArray(x)?"array":_:"null",_=="array"||_=="object"&&typeof x.length=="number"){_=u.length||0;const q=x.length||0;u.length=_+q;for(let W=0;W<q;W++)u[_+W]=x[W]}else u.push(x)}}class Z{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,_){const A=pt.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var pt=new Z(()=>new kt,u=>u.reset());class kt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,Ct=!1,C=new _t,b=()=>{const u=Promise.resolve(void 0);ee=()=>{u.then(I)}};function I(){for(var u;u=ft();){try{u.h.call(u.g)}catch(_){tt(_)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ct=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Lt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Lt,N),Lt.prototype.init=function(u,m){const _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Lt.Z.h.call(this)},Lt.prototype.h=function(){Lt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var at="closure_listenable_"+(Math.random()*1e6|0),B=0;function $(u,m,_,A,x){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=x,this.key=++B,this.da=this.fa=!1}function lt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zt(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function Ft(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function V(u){const m={};for(const _ in u)m[_]=u[_];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let _,A;for(let x=1;x<arguments.length;x++){A=arguments[x];for(_ in A)u[_]=A[_];for(let q=0;q<Y.length;q++)_=Y[q],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,_,A,x){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const W=bt(u,m,A,x);return W>-1?(m=u[W],_||(m.fa=!1)):(m=new $(m,this.src,q,!!A,x),m.fa=_,u.push(m)),m};function yt(u,m){const _=m.type;if(_ in u.g){var A=u.g[_],x=Array.prototype.indexOf.call(A,m,void 0),q;(q=x>=0)&&Array.prototype.splice.call(A,x,1),q&&(lt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function bt(u,m,_,A){for(let x=0;x<u.length;++x){const q=u[x];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==A)return x}return-1}var xt="closure_lm_"+(Math.random()*1e6|0),Ve={};function ae(u,m,_,A,x){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ae(u,m[q],_,A,x);return null}return _=yo(_),u&&u[at]?u.J(m,_,p(A)?!!A.capture:!1,x):ls(u,m,_,!1,A,x)}function ls(u,m,_,A,x,q){if(!m)throw Error("Invalid event type");const W=p(x)?!!x.capture:!!x;let At=us(u);if(At||(u[xt]=At=new rt(u)),_=At.add(m,_,A,W,q),_.proxy)return _;if(A=ta(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)L||(x=W),x===void 0&&(x=!1),u.addEventListener(m.toString(),A,x);else if(u.attachEvent)u.attachEvent(si(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ta(){function u(_){return m.call(u.src,u.listener,_)}const m=go;return u}function ea(u,m,_,A,x){if(Array.isArray(m))for(var q=0;q<m.length;q++)ea(u,m[q],_,A,x);else A=p(A)?!!A.capture:!!A,_=yo(_),u&&u[at]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],_=bt(m,_,A,x),_>-1&&(lt(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=us(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,_,A,x)),(_=u>-1?m[u]:null)&&na(_))}function na(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[at])yt(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(si(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=us(m))?(yt(_,u),_.h==0&&(_.src=null,m[xt]=null)):lt(u)}}}function si(u){return u in Ve?Ve[u]:Ve[u]="on"+u}function go(u,m){if(u.da)u=!0;else{m=new Lt(m,this);const _=u.listener,A=u.ha||u.src;u.fa&&na(u),u=_.call(A,m)}return u}function us(u){return u=u[xt],u instanceof rt?u:null}var po="__closure_events_fn_"+(Math.random()*1e9>>>0);function yo(u){return typeof u=="function"?u:(u[po]||(u[po]=function(m){return u.handleEvent(m)}),u[po])}function ve(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}S(ve,M),ve.prototype[at]=!0,ve.prototype.removeEventListener=function(u,m,_,A){ea(this,u,m,_,A)};function Me(u,m){var _,A=u.G;if(A)for(_=[];A;A=A.G)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var x=m;m=new N(A,u),et(m,x)}x=!0;let q,W;if(_)for(W=_.length-1;W>=0;W--)q=m.g=_[W],x=cr(q,A,!0,m)&&x;if(q=m.g=u,x=cr(q,A,!0,m)&&x,x=cr(q,A,!1,m)&&x,_)for(W=0;W<_.length;W++)q=m.g=_[W],x=cr(q,A,!1,m)&&x}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let A=0;A<_.length;A++)lt(_[A]);delete u.g[m],u.h--}}this.G=null},ve.prototype.J=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},ve.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function cr(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let x=!0;for(let q=0;q<m.length;++q){const W=m[q];if(W&&!W.da&&W.capture==_){const At=W.listener,me=W.ha||W.src;W.fa&&yt(u.i,W),x=At.call(me,A)!==!1&&x}}return x&&!A.defaultPrevented}function qh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function lu(u){u.g=qh(()=>{u.g=null,u.i&&(u.i=!1,lu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class en extends M{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:lu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(u){M.call(this),this.h=u,this.g={}}S(cs,M);var _o=[];function vo(u){zt(u.g,function(m,_){this.g.hasOwnProperty(_)&&na(m)},u),u.g={}}cs.prototype.N=function(){cs.Z.N.call(this),vo(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hr=d.JSON.stringify,jh=d.JSON.parse,uu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function cu(){}function hu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){N.call(this,"d")}S(Be,N);function Rn(){N.call(this,"c")}S(Rn,N);var de={},fu=null;function ia(){return fu=fu||new ve}de.Ia="serverreachability";function du(u){N.call(this,de.Ia,u)}S(du,N);function ai(u){const m=ia();Me(m,new du(m))}de.STAT_EVENT="statevent";function hs(u,m){N.call(this,de.STAT_EVENT,u),this.stat=m}S(hs,N);function Ee(u){const m=ia();Me(m,new hs(m,u))}de.Ja="timingevent";function oi(u,m){N.call(this,de.Ja,u),this.size=m}S(oi,N);function li(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function Hh(u,m,_,A,x,q){u.info(function(){if(u.g)if(q){var W="",At=q.split("&");for(let jt=0;jt<At.length;jt++){var me=At[jt].split("=");if(me.length>1){const oe=me[0];me=me[1];const Nn=oe.split("_");W=Nn.length>=2&&Nn[1]=="type"?W+(oe+"="+me+"&"):W+(oe+"=redacted&")}}}else W=null;else W=q;return"XMLHTTP REQ ("+A+") [attempt "+x+"]: "+m+`
`+_+`
`+W})}function mu(u,m,_,A,x,q,W){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+x+"]: "+m+`
`+_+`
`+q+" "+W})}function ui(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Gh(u,_)+(A?" "+A:"")})}function fs(u,m){u.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function Gh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var _=q[u];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var x=A[0];if(x!="noop"&&x!="stop"&&x!="close")for(let W=1;W<A.length;W++)A[W]=""}}}}return hr(q)}catch{return m}}var ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Eo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},To;function ms(){}S(ms,cu),ms.prototype.g=function(){return new XMLHttpRequest},To=new ms;function Li(u){return encodeURIComponent(String(u))}function gu(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Hn(u,m,_,A){this.j=u,this.i=m,this.l=_,this.S=A||1,this.V=new cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Te={},xe={};function ci(u,m,_){u.M=1,u.A=gs(Se(m)),u.u=_,u.R=!0,ra(u,null)}function ra(u,m){u.F=Date.now(),hi(u),u.B=Se(u.A);var _=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),la(_.i,"t",A),u.C=0,_=u.j.L,u.h=new Gn,u.g=Nu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new en(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,A=u.ba;var x="readystatechange";Array.isArray(x)||(x&&(_o[0]=x.toString()),x=_o);for(let q=0;q<x.length;q++){const W=ae(_,x[q],A||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ai(),Hh(u.i,u.v,u.B,u.l,u.S,u.u)}Hn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Kn(u)==3?m.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Kn(this.g),me=this.g.ya(),jt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||qe(this.g)))){this.K||At!=4||me==7||(me==8||jt<=0?ai(3):ai(2)),fi(this);var m=this.g.ca();this.X=m;var _=Fh(this);if(this.o=m==200,mu(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,x=this.g;if((A=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(A)){var q=A;break e}}q=null}if(u=q)ui(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,u);else{this.o=!1,this.m=3,Ee(12),pn(this),In(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<_.length;)if(oe=yu(this,_),oe==xe){At==4&&(this.m=4,Ee(14),u=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Te){this.m=4,Ee(15),ui(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ui(this.i,this.l,oe,null),di(this,oe);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||_.length!=0||this.h.h||(this.m=1,Ee(16),u=!1),this.o=this.o&&u,!u)ui(this.i,this.l,_,"[Invalid Chunked Response]"),pn(this),In(this);else if(_.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),xo(W),W.P=!0,Ee(11))}}else ui(this.i,this.l,_,null),di(this,_);At==4&&pn(this),this.o&&!this.K&&(At==4?Ru(this.j,this):(this.o=!1,hi(this)))}else Pi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),pn(this),In(this)}}}catch{}};function Fh(u){if(!pu(u))return u.g.la();const m=qe(u.g);if(m==="")return"";let _="";const A=m.length,x=Kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return pn(u),In(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,_+=u.h.i.decode(m[q],{stream:!(x&&q==A-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function pu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function yu(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?xe:(_=Number(m.substring(_,A)),isNaN(_)?Te:(A+=1,A+_>m.length?xe:(m=m.slice(A,A+_),u.C=A+_,m)))}Hn.prototype.cancel=function(){this.K=!0,pn(this)};function hi(u){u.T=Date.now()+u.H,sa(u,u.H)}function sa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=li(y(u.aa,u),m)}function fi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Hn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(fs(this.i,this.B),this.M!=2&&(ai(),Ee(17)),pn(this),this.m=2,In(this)):sa(this,this.T-u)};function In(u){u.j.I==0||u.K||Ru(u.j,u)}function pn(u){fi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,vo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function di(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||gi(_.h,u))){if(!u.L&&gi(_.h,u)&&_.I==3){try{var A=_.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var x=A;if(x[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)da(_),vr(_);else break t;As(_),Ee(18)}}else _.xa=x[1],0<_.xa-_.K&&x[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=li(y(_.Va,_),6e3));mi(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ti(_,11)}else if((u.L||_.g==u)&&da(_),!w(m))for(x=_.Ba.g.parse(m),m=0;m<x.length;m++){let jt=x[m];const oe=jt[0];if(!(oe<=_.K))if(_.K=oe,jt=jt[1],_.I==2)if(jt[0]=="c"){_.M=jt[1],_.ba=jt[2];const Nn=jt[3];Nn!=null&&(_.ka=Nn,_.j.info("VER="+_.ka));const Ai=jt[4];Ai!=null&&(_.za=Ai,_.j.info("SVER="+_.za));const Yn=jt[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(A=1.5*Yn,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Xn=u.g;if(Xn){const Ss=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var q=A.h;q.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(bo(q,q.h),q.h=null))}if(A.G){const ma=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(A.wa=ma,Qt(A.J,A.G,ma))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var W=u;if(A.na=Du(A,A.L?A.ba:null,A.W),W.L){wo(A.h,W);var At=W,me=A.O;me&&(At.H=me),At.D&&(fi(At),hi(At)),A.g=W}else bu(A);_.i.length>0&&Ei(_)}else jt[0]!="stop"&&jt[0]!="close"||Ti(_,7);else _.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Ti(_,7):Uo(_):jt[0]!="noop"&&_.l&&_.l.qa(jt),_.A=0)}}ai(4)}catch{}}var Ae=class{constructor(u,m){this.g=u,this.map=m}};function Ao(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function So(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function mi(u){return u.h?1:u.g?u.g.size:0}function gi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function bo(u,m){u.g?u.g.add(m):u.h=m}function wo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ao.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ro(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return G(u.i)}var _u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aa(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const A=u[_].indexOf("=");let x,q=null;A>=0?(x=u[_].substring(0,A),q=u[_].substring(A+1)):x=u[_],m(x,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function yn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof yn?(this.l=u.l,Pe(this,u.j),this.o=u.o,this.g=u.g,fr(this,u.u),this.h=u.h,Io(this,Au(u.i)),this.m=u.m):u&&(m=String(u).match(_u))?(this.l=!1,Pe(this,m[1]||"",!0),this.o=pi(m[2]||""),this.g=pi(m[3]||"",!0),fr(this,m[4]),this.h=pi(m[5]||"",!0),Io(this,m[6]||"",!0),this.m=pi(m[7]||"")):(this.l=!1,this.i=new mr(null,this.l))}yn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ps(m,oa,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ps(m,oa,!0),"@"),u.push(Li(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ps(_,_.charAt(0)=="/"?Co:vu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ps(_,Eu)),u.join("")},yn.prototype.resolve=function(u){const m=Se(this);let _=!!u.j;_?Pe(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var A=u.h;if(_)fr(m,u.u);else if(_=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var x=m.h.lastIndexOf("/");x!=-1&&(A=m.h.slice(0,x+1)+A)}if(x=A,x==".."||x==".")A="";else if(x.indexOf("./")!=-1||x.indexOf("/.")!=-1){A=x.lastIndexOf("/",0)==0,x=x.split("/");const q=[];for(let W=0;W<x.length;){const At=x[W++];At=="."?A&&W==x.length&&q.push(""):At==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&W==x.length&&q.push("")):(q.push(At),A=!0)}A=q.join("/")}else A=x}return _?m.h=A:_=u.i.toString()!=="",_?Io(m,Au(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Se(u){return new yn(u)}function Pe(u,m,_){u.j=_?pi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function fr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Io(u,m,_){m instanceof mr?(u.i=m,ua(u.i,u.l)):(_||(m=ps(m,dr)),u.i=new mr(m,u.l))}function Qt(u,m,_){u.i.set(m,_)}function gs(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function pi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ps(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,on),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function on(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var oa=/[#\/\?@]/g,vu=/[#\?:]/g,Co=/[#\?]/g,dr=/[#\?@]/g,Eu=/#/g;function mr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function ln(u){u.g||(u.g=new Map,u.h=0,u.i&&aa(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=mr.prototype,r.add=function(u,m){ln(this),this.i=null,u=gr(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Tu(u,m){ln(u),m=gr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Do(u,m){return ln(u),m=gr(u,m),u.g.has(m)}r.forEach=function(u,m){ln(this),this.g.forEach(function(_,A){_.forEach(function(x){u.call(m,x,A,this)},this)},this)};function No(u,m){ln(u);let _=[];if(typeof m=="string")Do(u,m)&&(_=_.concat(u.g.get(gr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return ln(this),this.i=null,u=gr(this,u),Do(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=No(this,u),u.length>0?String(u[0]):m):m};function la(u,m,_){Tu(u,m),_.length>0&&(u.i=null,u.g.set(gr(u,m),G(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var _=m[A];const x=Li(_);_=No(this,_);for(let q=0;q<_.length;q++){let W=x;_[q]!==""&&(W+="="+Li(_[q])),u.push(W)}}return this.i=u.join("&")};function Au(u){const m=new mr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function gr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ua(u,m){m&&!u.j&&(ln(u),u.i=null,u.g.forEach(function(_,A){const x=A.toLowerCase();A!=x&&(Tu(this,A),la(this,x,_))},u)),u.j=m}function Fn(u,m){const _=new jn;if(d.Image){const A=new Image;A.onload=T(Cn,_,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Cn,_,"TestLoadImage: error",!1,m,A),A.onabort=T(Cn,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Cn,_,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Oo(u,m){const _=new jn,A=new AbortController,x=setTimeout(()=>{A.abort(),Cn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(x),q.ok?Cn(_,"TestPingServer: ok",!0,m):Cn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(x),Cn(_,"TestPingServer: error",!1,m)})}function Cn(u,m,_,A,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),A(_)}catch{}}function pr(){this.g=new uu}function yi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(yi,cu),yi.prototype.g=function(){return new ys(this.i,this.h)};function ys(u,m){ve.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ys,ve),r=ys.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Qn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ca(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ca(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?yr(this):Qn(this),this.readyState==3&&ca(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,yr(this))},r.Na=function(u){this.g&&(this.response=u,yr(this))},r.ga=function(){this.g&&yr(this)};function yr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Qn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Dn(u){let m="";return zt(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function _s(u,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=Dn(_),typeof u=="string"?_!=null&&Li(_):Qt(u,m,_))}function Xt(u){ve.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xt,ve);var _i=/^https?$/i,Vo=["POST","PUT"];r=Xt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():To.g(),this.g.onreadystatechange=D(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){vs(this,q);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var x in A)_.set(x,A[x]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())_.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),x=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Vo,m,void 0)>=0)||A||x||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of _)this.g.setRequestHeader(q,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){vs(this,q)}};function vs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Mo(u),xi(u)}function Mo(u){u.A||(u.A=!0,Me(u,"complete"),Me(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Me(this,"complete"),Me(this,"abort"),xi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Xt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Es(this):this.Xa())},r.Xa=function(){Es(this)};function Es(u){if(u.h&&typeof c<"u"){if(u.v&&Kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Me(u,"readystatechange"),Kn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=q===0){let W=String(u.D).match(_u)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),A=!_i.test(W?W.toLowerCase():"")}_=A}if(_)Me(u,"complete"),Me(u,"success");else{u.o=6;try{var x=Kn(u)>2?u.g.statusText:""}catch{x=""}u.l=x+" ["+u.ca()+"]",Mo(u)}}finally{xi(u)}}}}function xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Me(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),jh(m)}};function qe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(u){const m={};u=(u.g&&Kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(w(u[A]))continue;var _=gu(u[A]);const x=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[x]||[];m[x]=q,q.push(_)}Ft(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function _r(u){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,u),this.Za=vi("retryDelaySeedMs",1e4,u),this.Ta=vi("forwardChannelMaxRetries",2,u),this.va=vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ao(u&&u.concurrentRequestLimit),this.Ba=new pr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=_r.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,A){Ee(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=Du(this,null,this.W),Ei(this)};function Uo(u){if(ha(u),u.I==3){var m=u.V++,_=Se(u.J);if(Qt(_,"SID",u.M),Qt(_,"RID",m),Qt(_,"TYPE","terminate"),Ts(u,_),m=new Hn(u,u.j,m),m.M=2,m.A=gs(Se(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Nu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),hi(m)}Cu(u)}function vr(u){u.g&&(xo(u),u.g.cancel(),u.g=null)}function ha(u){vr(u),u.v&&(d.clearTimeout(u.v),u.v=null),da(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ei(u){if(!So(u.h)&&!u.m){u.m=!0;var m=u.Ea;ee||b(),Ct||(ee(),Ct=!0),C.add(m,u),u.D=0}}function fa(u,m){return mi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=li(y(u.Ea,u,m),Iu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const x=new Hn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=V(q),et(q,this.U)):q=this.U),this.u!==null||this.R||(x.J=q,q=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Su(this,x,m),_=Se(this.J),Qt(_,"RID",u),Qt(_,"CVER",22),this.G&&Qt(_,"X-HTTP-Session-Id",this.G),Ts(this,_),q&&(this.R?m="headers="+Li(Dn(q))+"&"+m:this.u&&_s(_,this.u,q)),bo(this.h,x),this.Ra&&Qt(_,"TYPE","init"),this.S?(Qt(_,"$req",m),Qt(_,"SID","null"),x.U=!0,ci(x,_,null)):ci(x,_,m),this.I=2}}else this.I==3&&(u?Lo(this,u):this.i.length==0||So(this.h)||Lo(this))};function Lo(u,m){var _;m?_=m.l:_=u.V++;const A=Se(u.J);Qt(A,"SID",u.M),Qt(A,"RID",_),Qt(A,"AID",u.K),Ts(u,A),u.u&&u.o&&_s(A,u.u,u.o),_=new Hn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Su(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),bo(u.h,_),ci(_,A,m)}function Ts(u,m){u.H&&zt(u.H,function(_,A){Qt(m,A,_)}),u.l&&zt({},function(_,A){Qt(m,A,_)})}function Su(u,m,_){_=Math.min(u.i.length,_);const A=u.l?y(u.l.Ka,u.l,u):null;t:{var x=u.i;let At=-1;for(;;){const me=["count="+_];At==-1?_>0?(At=x[0].g,me.push("ofs="+At)):At=0:me.push("ofs="+At);let jt=!0;for(let oe=0;oe<_;oe++){var q=x[oe].g;const Nn=x[oe].map;if(q-=At,q<0)At=Math.max(0,x[oe].g-100),jt=!1;else try{q="req"+q+"_"||"";try{var W=Nn instanceof Map?Nn:Object.entries(Nn);for(const[Ai,Yn]of W){let Xn=Yn;p(Yn)&&(Xn=hr(Yn)),me.push(q+Ai+"="+encodeURIComponent(Xn))}}catch(Ai){throw me.push(q+"type="+encodeURIComponent("_badmap")),Ai}}catch{A&&A(Nn)}}if(jt){W=me.join("&");break t}}W=void 0}return u=u.i.splice(0,_),m.G=u,W}function bu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ee||b(),Ct||(ee(),Ct=!0),C.add(m,u),u.A=0}}function As(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=li(y(u.Da,u),Iu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=li(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),vr(this),wu(this))};function xo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function wu(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Se(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),Ts(u,m),u.u&&u.o&&_s(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=gs(Se(m)),_.u=null,_.R=!0,ra(_,u)}r.Va=function(){this.C!=null&&(this.C=null,vr(this),As(this),Ee(19))};function da(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Ru(u,m){var _=null;if(u.g==m){da(u),xo(u),u.g=null;var A=2}else if(gi(u.h,m))_=m.G,wo(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var x=u.D;A=ia(),Me(A,new oi(A,_)),Ei(u)}else bu(u);else if(x=m.m,x==3||x==0&&m.X>0||!(A==1&&fa(u,m)||A==2&&As(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),x){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function Iu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Ti(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),A=u.Ua;const x=!A;A=new yn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Pe(A,"https"),gs(A),x?Fn(A.toString(),_):Oo(A.toString(),_)}else Ee(2);u.I=0,u.l&&u.l.pa(m),Cu(u),ha(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function Cu(u){if(u.I=0,u.ja=[],u.l){const m=Ro(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Du(u,m,_){var A=_ instanceof yn?Se(_):new yn(_);if(A.g!="")m&&(A.g=m+"."+A.g),fr(A,A.u);else{var x=d.location;A=x.protocol,m=m?m+"."+x.hostname:x.hostname,x=+x.port;const q=new yn(null);A&&Pe(q,A),m&&(q.g=m),x&&fr(q,x),_&&(q.h=_),A=q}return _=u.G,m=u.wa,_&&m&&Qt(A,_,m),Qt(A,"VER",u.ka),Ts(u,A),A}function Nu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new yi({ab:_})):new Xt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ou(){}r=Ou.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Er(){}Er.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){ve.call(this),this.g=new _r(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ki(this)}S(nn,ve),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Uo(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=hr(u),u=_);m.i.push(new Ae(m.Ya++,u)),m.I==3&&Ei(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,nn.Z.N.call(this)};function Vu(u){Be.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Vu,Be);function Mu(){Rn.call(this),this.status=1}S(Mu,Rn);function ki(u){this.g=u}S(ki,Ou),ki.prototype.ra=function(){Me(this.g,"a")},ki.prototype.qa=function(u){Me(this.g,new Vu(u))},ki.prototype.pa=function(u){Me(this.g,new Mu)},ki.prototype.oa=function(){Me(this.g,"b")},Er.prototype.createWebChannel=Er.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,LT=function(){return new Er},UT=function(){return ia()},MT=de,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,Kc=ds,Eo.COMPLETE="complete",VT=Eo,hu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",ve.prototype.listen=ve.prototype.J,Al=hu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,OT=Xt}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let co="12.10.0";function kR(r){co=r}const Ks=new Mm("@firebase/firestore");function Ga(){return Ks.logLevel}function it(r,...t){if(Ks.logLevel<=Ot.DEBUG){const i=t.map(Qm);Ks.debug(`Firestore (${co}): ${r}`,...i)}}function ar(r,...t){if(Ks.logLevel<=Ot.ERROR){const i=t.map(Qm);Ks.error(`Firestore (${co}): ${r}`,...i)}}function Ys(r,...t){if(Ks.logLevel<=Ot.WARN){const i=t.map(Qm);Ks.warn(`Firestore (${co}): ${r}`,...i)}}function Qm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function mt(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,xT(r,s,i)}function xT(r,t,i){let s=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw ar(s),new Error(s)}function Gt(r,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||xT(t,l,s)}function Tt(r,t){return r}const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends lr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ir{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class PT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class zR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class BR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class qR{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let s=this.i;const l=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let c=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ir,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ir)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string",31837,{l:s}),new PT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class jR{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class HR{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new jR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class kv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const s=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new kv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new kv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function FR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Km{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=FR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Vt(r,t){return r<t?-1:r>t?1:0}function mm(r,t){const i=Math.min(r.length,t.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=t.charAt(s);if(l!==c)return Wd(l)===Wd(c)?Vt(l,c):Wd(l)?1:-1}return Vt(r.length,t.length)}const QR=55296,KR=57343;function Wd(r){const t=r.charCodeAt(0);return t>=QR&&t<=KR}function eo(r,t,i){return r.length===t.length&&r.every(((s,l)=>i(s,t[l])))}const zv="__name__";class Ii{constructor(t,i,s){i===void 0?i=0:i>t.length&&mt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&mt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return Ii.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ii?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=Ii.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Vt(t.length,i.length)}static compareSegments(t,i){const s=Ii.isNumericId(t),l=Ii.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Ii.extractNumericId(t).compare(Ii.extractNumericId(i)):mm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return $r.fromString(t.substring(4,t.length-2))}}class te extends Ii{construct(t,i,s){return new te(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new nt(F.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const YR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Ii{construct(t,i,s){return new Ke(t,i,s)}static isValidIdentifier(t){return YR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zv}static keyField(){return new Ke([zv])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new nt(F.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new nt(F.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new nt(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(c(),l++)}if(c(),d)throw new nt(F.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(i)}static emptyPath(){return new Ke([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct(te.fromString(t))}static fromName(t){return new ct(te.fromString(t).popFirst(5))}static empty(){return new ct(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return te.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new te(t.slice()))}}function Ym(r,t,i){if(!i)throw new nt(F.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function XR(r,t,i,s){if(t===!0&&s===!0)throw new nt(F.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Bv(r){if(!ct.isDocumentKey(r))throw new nt(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function qv(r){if(ct.isDocumentKey(r))throw new nt(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function kT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Sh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":mt(12329,{type:typeof r})}function We(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new nt(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Sh(r);throw new nt(F.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Oe(r,t){const i={typeString:r};return t&&(i.value=t),i}function $l(r,t){if(!kT(r))throw new nt(F.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new nt(F.INVALID_ARGUMENT,i);return!0}const jv=-62135596800,Hv=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*Hv);return new re(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new nt(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new nt(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<jv)throw new nt(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new nt(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hv}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if($l(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-jv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Oe("string",re._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new re(0,0))}static max(){return new vt(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xl=-1;function JR(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(s===1e9?new re(i+1,0):new re(i,s));return new ts(l,ct.empty(),t)}function ZR(r){return new ts(r.readTime,r.key,xl)}class ts{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new ts(vt.min(),ct.empty(),xl)}static max(){return new ts(vt.max(),ct.empty(),xl)}}function $R(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(r.documentKey,t.documentKey),i!==0?i:Vt(r.largestBatchId,t.largestBatchId))}const WR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ho(r){if(r.code!==F.FAILED_PRECONDITION||r.message!==WR)throw r;it("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,s)=>{i(t)}))}static reject(t){return new X(((i,s)=>{s(t)}))}static waitFor(t){return new X(((i,s)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(v=>s(v)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const s of t)i=i.next((l=>l?X.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new X(((s,l)=>{const c=t.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((T=>{d[y]=T,++p,p===c&&s(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new X(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function eI(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function fo(r){return r.name==="IndexedDbTransactionError"}class bh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}bh.ce=-1;const Xm=-1;function wh(r){return r==null}function oh(r){return r===0&&1/r==-1/0}function nI(r){return typeof r=="number"&&Number.isInteger(r)&&!oh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const zT="";function iI(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Gv(t)),t=rI(r.get(i),t);return Gv(t)}function rI(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case zT:i+="";break;default:i+=c}}return i}function Gv(r){return r+zT+""}function Fv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function as(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function BT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Qe.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new zc(this.root,t,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new zc(this.root,t,this.comparator,!0)}}class zc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??Qe.RED,this.left=l??Qe.EMPTY,this.right=c??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new Qe(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Qe.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new Qe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Le{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Qv(this.data.getIterator())}getIteratorFrom(t){return new Qv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Le)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Le(this.comparator);return i.data=t,i}}class Qv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new wn([])}unionWith(t){let i=new Le(Ke.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new wn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return eo(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class qT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new qT("Invalid base64 string: "+c):c}})(t);return new Ye(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ye(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const sI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(r){if(Gt(!!r,39018),typeof r=="string"){let t=0;const i=sI.exec(r);if(Gt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ns(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}const jT="server_timestamp",HT="__type__",GT="__previous_value__",FT="__local_write_time__";function Jm(r){return(r?.mapValue?.fields||{})[HT]?.stringValue===jT}function Rh(r){const t=r.mapValue.fields[GT];return Jm(t)?Rh(t):t}function Pl(r){const t=es(r.mapValue.fields[FT].timestampValue);return new re(t.seconds,t.nanos)}class aI{constructor(t,i,s,l,c,d,p,v,y,T,S){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=S}}const lh="(default)";class kl{constructor(t,i){this.projectId=t,this.database=i||lh}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===lh}isEqual(t){return t instanceof kl&&t.projectId===this.projectId&&t.database===this.database}}function oI(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new nt(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(r.options.projectId,t)}const QT="__type__",lI="__max__",Bc={mapValue:{}},KT="__vector__",uh="value";function is(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Jm(r)?4:cI(r)?9007199254740991:uI(r)?10:11:mt(28295,{value:r})}function Mi(r,t){if(r===t)return!0;const i=is(r);if(i!==is(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Pl(r).isEqual(Pl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=es(l.timestampValue),p=es(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return ns(l.bytesValue).isEqual(ns(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ye(l.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ye(l.integerValue)===ye(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ye(l.doubleValue),p=ye(c.doubleValue);return d===p?oh(d)===oh(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return eo(r.arrayValue.values||[],t.arrayValue.values||[],Mi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Fv(d)!==Fv(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Mi(d[v],p[v])))return!1;return!0})(r,t);default:return mt(52216,{left:r})}}function zl(r,t){return(r.values||[]).find((i=>Mi(i,t)))!==void 0}function no(r,t){if(r===t)return 0;const i=is(r),s=is(t);if(i!==s)return Vt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ye(c.integerValue||c.doubleValue),v=ye(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(r,t);case 3:return Kv(r.timestampValue,t.timestampValue);case 4:return Kv(Pl(r),Pl(t));case 5:return mm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=ns(c),v=ns(d);return p.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let y=0;y<p.length&&y<v.length;y++){const T=Vt(p[y],v[y]);if(T!==0)return T}return Vt(p.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Vt(ye(c.latitude),ye(d.latitude));return p!==0?p:Vt(ye(c.longitude),ye(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Yv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},y=p[uh]?.arrayValue,T=v[uh]?.arrayValue,S=Vt(y?.values?.length||0,T?.values?.length||0);return S!==0?S:Yv(y,T)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Bc.mapValue&&d===Bc.mapValue)return 0;if(c===Bc.mapValue)return 1;if(d===Bc.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),y=d.fields||{},T=Object.keys(y);v.sort(),T.sort();for(let S=0;S<v.length&&S<T.length;++S){const D=mm(v[S],T[S]);if(D!==0)return D;const G=no(p[v[S]],y[T[S]]);if(G!==0)return G}return Vt(v.length,T.length)})(r.mapValue,t.mapValue);default:throw mt(23264,{he:i})}}function Kv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Vt(r,t);const i=es(r),s=es(t),l=Vt(i.seconds,s.seconds);return l!==0?l:Vt(i.nanos,s.nanos)}function Yv(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=no(i[l],s[l]);if(c)return c}return Vt(i.length,s.length)}function io(r){return gm(r)}function gm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=es(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return ns(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ct.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=gm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${gm(i.fields[d])}`;return l+"}"})(r.mapValue):mt(61005,{value:r})}function Yc(r){switch(is(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Rh(r);return t?16+Yc(t):16;case 5:return 2*r.stringValue.length;case 6:return ns(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Yc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return as(s.fields,((c,d)=>{l+=c.length+Yc(d)})),l})(r.mapValue);default:throw mt(13486,{value:r})}}function Xv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function pm(r){return!!r&&"integerValue"in r}function Zm(r){return!!r&&"arrayValue"in r}function Jv(r){return!!r&&"nullValue"in r}function Zv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Xc(r){return!!r&&"mapValue"in r}function uI(r){return(r?.mapValue?.fields||{})[QT]?.stringValue===KT}function Cl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return as(r.mapValue.fields,((i,s)=>t.mapValue.fields[i]=Cl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Cl(r.arrayValue.values[i]);return t}return{...r}}function cI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===lI}class gn{constructor(t){this.value=t}static empty(){return new gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Xc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cl(i)}setAll(t){let i=Ke.emptyPath(),s={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,s,l),s={},l=[],i=p.popLast()}d?s[p.lastSegment()]=Cl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());Xc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Mi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Xc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){as(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new gn(Cl(this.value))}}function YT(r){const t=[];return as(r.fields,((i,s)=>{const l=new Ke([i]);if(Xc(s)){const c=YT(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new wn(t)}class $e{constructor(t,i,s,l,c,d,p){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new $e(t,0,vt.min(),vt.min(),vt.min(),gn.empty(),0)}static newFoundDocument(t,i,s,l){return new $e(t,1,i,vt.min(),s,l,0)}static newNoDocument(t,i){return new $e(t,2,i,vt.min(),vt.min(),gn.empty(),0)}static newUnknownDocument(t,i){return new $e(t,3,i,vt.min(),vt.min(),gn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ch{constructor(t,i){this.position=t,this.inclusive=i}}function $v(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=ct.comparator(ct.fromName(d.referenceValue),i.key):s=no(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Wv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Mi(r.position[i],t.position[i]))return!1;return!0}class Bl{constructor(t,i="asc"){this.field=t,this.dir=i}}function hI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class XT{}class Ne extends XT{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new dI(t,i,s):i==="array-contains"?new pI(t,s):i==="in"?new yI(t,s):i==="not-in"?new _I(t,s):i==="array-contains-any"?new vI(t,s):new Ne(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new mI(t,s):new gI(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(no(i,this.value)):i!==null&&is(this.value)===is(i)&&this.matchesComparison(no(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends XT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ii(t,i)}matches(t){return JT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function JT(r){return r.op==="and"}function ZT(r){return fI(r)&&JT(r)}function fI(r){for(const t of r.filters)if(t instanceof ii)return!1;return!0}function ym(r){if(r instanceof Ne)return r.field.canonicalString()+r.op.toString()+io(r.value);if(ZT(r))return r.filters.map((t=>ym(t))).join(",");{const t=r.filters.map((i=>ym(i))).join(",");return`${r.op}(${t})`}}function $T(r,t){return r instanceof Ne?(function(s,l){return l instanceof Ne&&s.op===l.op&&s.field.isEqual(l.field)&&Mi(s.value,l.value)})(r,t):r instanceof ii?(function(s,l){return l instanceof ii&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,p)=>c&&$T(d,l.filters[p])),!0):!1})(r,t):void mt(19439)}function WT(r){return r instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${io(i.value)}`})(r):r instanceof ii?(function(i){return i.op.toString()+" {"+i.getFilters().map(WT).join(" ,")+"}"})(r):"Filter"}class dI extends Ne{constructor(t,i,s){super(t,i,s),this.key=ct.fromName(s.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class mI extends Ne{constructor(t,i){super(t,"in",i),this.keys=t0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class gI extends Ne{constructor(t,i){super(t,"not-in",i),this.keys=t0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function t0(r,t){return(t.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class pI extends Ne{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Zm(i)&&zl(i.arrayValue,this.value)}}class yI extends Ne{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&zl(this.value.arrayValue,i)}}class _I extends Ne{constructor(t,i){super(t,"not-in",i)}matches(t){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!zl(this.value.arrayValue,i)}}class vI extends Ne{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Zm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>zl(this.value.arrayValue,s)))}}class EI{constructor(t,i=null,s=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function tE(r,t=null,i=[],s=[],l=null,c=null,d=null){return new EI(r,t,i,s,l,c,d)}function $m(r){const t=Tt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>ym(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),wh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>io(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>io(s))).join(",")),t.Te=i}return t.Te}function Wm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!hI(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!$T(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Wv(r.startAt,t.startAt)&&Wv(r.endAt,t.endAt)}function _m(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Zs{constructor(t,i=null,s=[],l=[],c=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function TI(r,t,i,s,l,c,d,p){return new Zs(r,t,i,s,l,c,d,p)}function Ih(r){return new Zs(r)}function eE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function AI(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function e0(r){return r.collectionGroup!==null}function Dl(r){const t=Tt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Le(Ke.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Bl(c,s))})),i.has(Ke.keyField().canonicalString())||t.Ie.push(new Bl(Ke.keyField(),s))}return t.Ie}function Di(r){const t=Tt(r);return t.Ee||(t.Ee=SI(t,Dl(r))),t.Ee}function SI(r,t){if(r.limitType==="F")return tE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Bl(l.field,c)}));const i=r.endAt?new ch(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ch(r.startAt.position,r.startAt.inclusive):null;return tE(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function vm(r,t){const i=r.filters.concat([t]);return new Zs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function bI(r,t){const i=r.explicitOrderBy.concat([t]);return new Zs(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Em(r,t,i){return new Zs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Ch(r,t){return Wm(Di(r),Di(t))&&r.limitType===t.limitType}function n0(r){return`${$m(Di(r))}|lt:${r.limitType}`}function Fa(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>WT(l))).join(", ")}]`),wh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>io(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>io(l))).join(",")),`Target(${s})`})(Di(r))}; limitType=${r.limitType})`}function Dh(r,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ct.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,t)&&(function(s,l){for(const c of Dl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,p,v){const y=$v(d,p,v);return d.inclusive?y<=0:y<0})(s.startAt,Dl(s),l)||s.endAt&&!(function(d,p,v){const y=$v(d,p,v);return d.inclusive?y>=0:y>0})(s.endAt,Dl(s),l))})(r,t)}function wI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function i0(r){return(t,i)=>{let s=!1;for(const l of Dl(r)){const c=RI(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function RI(r,t,i){const s=r.field.isKeyField()?ct.comparator(t.key,i.key):(function(c,d,p){const v=d.data.field(c),y=p.data.field(c);return v!==null&&y!==null?no(v,y):mt(42886)})(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return mt(19790,{direction:r.dir})}}class $s{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){as(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return BT(this.inner)}size(){return this.innerSize}}const II=new ue(ct.comparator);function or(){return II}const r0=new ue(ct.comparator);function Sl(...r){let t=r0;for(const i of r)t=t.insert(i.key,i);return t}function s0(r){let t=r0;return r.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function qs(){return Nl()}function a0(){return Nl()}function Nl(){return new $s((r=>r.toString()),((r,t)=>r.isEqual(t)))}const CI=new ue(ct.comparator),DI=new Le(ct.comparator);function Mt(...r){let t=DI;for(const i of r)t=t.add(i);return t}const NI=new Le(Vt);function OI(){return NI}function tg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(t)?"-0":t}}function o0(r){return{integerValue:""+r}}function VI(r,t){return nI(t)?o0(t):tg(r,t)}class Nh{constructor(){this._=void 0}}function MI(r,t,i){return r instanceof ql?(function(l,c){const d={fields:{[HT]:{stringValue:jT},[FT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Jm(c)&&(c=Rh(c)),c&&(d.fields[GT]=c),{mapValue:d}})(i,t):r instanceof jl?u0(r,t):r instanceof Hl?c0(r,t):(function(l,c){const d=l0(l,c),p=nE(d)+nE(l.Ae);return pm(d)&&pm(l.Ae)?o0(p):tg(l.serializer,p)})(r,t)}function UI(r,t,i){return r instanceof jl?u0(r,t):r instanceof Hl?c0(r,t):i}function l0(r,t){return r instanceof hh?(function(s){return pm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class ql extends Nh{}class jl extends Nh{constructor(t){super(),this.elements=t}}function u0(r,t){const i=h0(t);for(const s of r.elements)i.some((l=>Mi(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Hl extends Nh{constructor(t){super(),this.elements=t}}function c0(r,t){let i=h0(t);for(const s of r.elements)i=i.filter((l=>!Mi(l,s)));return{arrayValue:{values:i}}}class hh extends Nh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function nE(r){return ye(r.integerValue||r.doubleValue)}function h0(r){return Zm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class LI{constructor(t,i){this.field=t,this.transform=i}}function xI(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof jl&&l instanceof jl||s instanceof Hl&&l instanceof Hl?eo(s.elements,l.elements,Mi):s instanceof hh&&l instanceof hh?Mi(s.Ae,l.Ae):s instanceof ql&&l instanceof ql})(r.transform,t.transform)}class PI{constructor(t,i){this.version=t,this.transformResults=i}}class sn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new sn}static exists(t){return new sn(void 0,t)}static updateTime(t){return new sn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Jc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Oh{}function f0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Vh(r.key,sn.none()):new Wl(r.key,r.data,sn.none());{const i=r.data,s=gn.empty();let l=new Le(Ke.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new os(r.key,s,new wn(l.toArray()),sn.none())}}function kI(r,t,i){r instanceof Wl?(function(l,c,d){const p=l.value.clone(),v=rE(l.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof os?(function(l,c,d){if(!Jc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=rE(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(d0(l)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ol(r,t,i,s){return r instanceof Wl?(function(c,d,p,v){if(!Jc(c.precondition,d))return p;const y=c.value.clone(),T=sE(c.fieldTransforms,v,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,s):r instanceof os?(function(c,d,p,v){if(!Jc(c.precondition,d))return p;const y=sE(c.fieldTransforms,v,d),T=d.data;return T.setAll(d0(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,s):(function(c,d,p){return Jc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function zI(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=l0(s.transform,l||null);c!=null&&(i===null&&(i=gn.empty()),i.set(s.field,c))}return i||null}function iE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&eo(s,l,((c,d)=>xI(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Wl extends Oh{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class os extends Oh{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function d0(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}})),t}function rE(r,t,i){const s=new Map;Gt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);s.set(c.field,UI(d,p,i[l]))}return s}function sE(r,t,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,MI(c,d,t))}return s}class Vh extends Oh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BI extends Oh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qI{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&kI(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Ol(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Ol(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=a0();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const v=f0(d,p);v!==null&&s.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(vt.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&eo(this.mutations,t.mutations,((i,s)=>iE(i,s)))&&eo(this.baseMutations,t.baseMutations,((i,s)=>iE(i,s)))}}class eg{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){Gt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return CI})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new eg(t,i,s,l)}}class jI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class HI{constructor(t,i){this.count=t,this.unchangedNames=i}}var De,Pt;function GI(r){switch(r){case F.OK:return mt(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return mt(15467,{code:r})}}function m0(r){if(r===void 0)return ar("GRPC error has no .code"),F.UNKNOWN;switch(r){case De.OK:return F.OK;case De.CANCELLED:return F.CANCELLED;case De.UNKNOWN:return F.UNKNOWN;case De.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case De.INTERNAL:return F.INTERNAL;case De.UNAVAILABLE:return F.UNAVAILABLE;case De.UNAUTHENTICATED:return F.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case De.NOT_FOUND:return F.NOT_FOUND;case De.ALREADY_EXISTS:return F.ALREADY_EXISTS;case De.PERMISSION_DENIED:return F.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case De.ABORTED:return F.ABORTED;case De.OUT_OF_RANGE:return F.OUT_OF_RANGE;case De.UNIMPLEMENTED:return F.UNIMPLEMENTED;case De.DATA_LOSS:return F.DATA_LOSS;default:return mt(39323,{code:r})}}(Pt=De||(De={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function FI(){return new TextEncoder}const QI=new $r([4294967295,4294967295],0);function aE(r){const t=FI().encode(r),i=new NT;return i.update(t),new Uint8Array(i.digest())}function oE(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new $r([i,s],0),new $r([l,c],0)]}class ng{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new bl(`Invalid padding: ${i}`);if(s<0)throw new bl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=$r.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply($r.fromNumber(s)));return l.compare(QI)===1&&(l=new $r([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=aE(t),[s,l]=oE(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new ng(c,l,i);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=aE(t),[s,l]=oE(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mh{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,tu.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Mh(vt.min(),l,new ue(Vt),or(),Mt())}}class tu{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new tu(s,i,Mt(),Mt(),Mt())}}class Zc{constructor(t,i,s,l){this.Se=t,this.removedTargetIds=i,this.key=s,this.De=l}}class g0{constructor(t,i){this.targetId=t,this.Ce=i}}class p0{constructor(t,i,s=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class lE{constructor(){this.ve=0,this.Fe=uE(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),i=Mt(),s=Mt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:mt(38017,{changeType:c})}})),new tu(this.Me,this.xe,t,i,s)}Ke(){this.Oe=!1,this.Fe=uE()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class KI{constructor(t){this.Ge=t,this.ze=new Map,this.je=or(),this.He=qc(),this.Je=qc(),this.Ze=new ue(Vt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(_m(c))if(s===0){const d=new ct(c.path);this.et(i,d,$e.newNoDocument(d,vt.min()))}else Gt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=ns(s).toUint8Array()}catch(v){if(v instanceof qT)return Ys("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new ng(d,l,c)}catch(v){return Ys(v instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&_m(p.target)){const v=new ct(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,$e.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let s=Mt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Mh(t,i,this.Ze,this.je,s);return this.je=or(),this.He=qc(),this.Je=qc(),this.Ze=new ue(Vt),l}Ye(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new lE,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Le(Vt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Le(Vt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new lE),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function qc(){return new ue(ct.comparator)}function uE(){return new ue(ct.comparator)}const YI={asc:"ASCENDING",desc:"DESCENDING"},XI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JI={and:"AND",or:"OR"};class ZI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Tm(r,t){return r.useProto3Json||wh(t)?t:{value:t}}function fh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function y0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function $I(r,t){return fh(r,t.toTimestamp())}function Ni(r){return Gt(!!r,49232),vt.fromTimestamp((function(i){const s=es(i);return new re(s.seconds,s.nanos)})(r))}function ig(r,t){return Am(r,t).canonicalString()}function Am(r,t){const i=(function(l){return new te(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function _0(r){const t=te.fromString(r);return Gt(S0(t),10190,{key:t.toString()}),t}function Sm(r,t){return ig(r.databaseId,t.path)}function tm(r,t){const i=_0(t);if(i.get(1)!==r.databaseId.projectId)throw new nt(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new nt(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ct(E0(i))}function v0(r,t){return ig(r.databaseId,t)}function WI(r){const t=_0(r);return t.length===4?te.emptyPath():E0(t)}function bm(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function E0(r){return Gt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function cE(r,t,i){return{name:Sm(r,t),fields:i.value.mapValue.fields}}function tC(r,t){let i;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:mt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(Gt(T===void 0||typeof T=="string",58123),Ye.fromBase64String(T||"")):(Gt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ye.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?F.UNKNOWN:m0(y.code);return new nt(T,y.message||"")})(d);i=new p0(s,l,c,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=tm(r,s.document.name),c=Ni(s.document.updateTime),d=s.document.createTime?Ni(s.document.createTime):vt.min(),p=new gn({mapValue:{fields:s.document.fields}}),v=$e.newFoundDocument(l,c,d,p),y=s.targetIds||[],T=s.removedTargetIds||[];i=new Zc(y,T,v.key,v)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=tm(r,s.document),c=s.readTime?Ni(s.readTime):vt.min(),d=$e.newNoDocument(l,c),p=s.removedTargetIds||[];i=new Zc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=tm(r,s.document),c=s.removedTargetIds||[];i=new Zc([],c,l,null)}else{if(!("filter"in t))return mt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new HI(l,c),p=s.targetId;i=new g0(p,d)}}return i}function eC(r,t){let i;if(t instanceof Wl)i={update:cE(r,t.key,t.value)};else if(t instanceof Vh)i={delete:Sm(r,t.key)};else if(t instanceof os)i={update:cE(r,t.key,t.data),updateMask:cC(t.fieldMask)};else{if(!(t instanceof BI))return mt(16599,{dt:t.type});i={verify:Sm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof ql)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Hl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof hh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw mt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:$I(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:mt(27497)})(r,t.precondition)),i}function nC(r,t){return r&&r.length>0?(Gt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ni(l.updateTime):Ni(c);return d.isEqual(vt.min())&&(d=Ni(c)),new PI(d,l.transformResults||[])})(i,t)))):[]}function iC(r,t){return{documents:[v0(r,t.path)]}}function rC(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=v0(r,l);const c=(function(y){if(y.length!==0)return A0(ii.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(D){return{field:Qa(D.field),direction:oC(D.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Tm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function sC(r){let t=WI(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Gt(s===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const D=T0(S);return D instanceof ii&&ZT(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((D=>(function(J){return new Bl(Ka(J.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(D)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let D;return D=typeof S=="object"?S.value:S,wh(D)?null:D})(i.limit));let v=null;i.startAt&&(v=(function(S){const D=!!S.before,G=S.values||[];return new ch(G,D)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const D=!S.before,G=S.values||[];return new ch(G,D)})(i.endAt)),TI(t,l,d,c,p,"F",v,y)}function aC(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function T0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ka(i.unaryFilter.field);return Ne.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ka(i.unaryFilter.field);return Ne.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ka(i.unaryFilter.field);return Ne.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ka(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ne.create(Ka(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ii.create(i.compositeFilter.filters.map((s=>T0(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(r):mt(30097,{filter:r})}function oC(r){return YI[r]}function lC(r){return XI[r]}function uC(r){return JI[r]}function Qa(r){return{fieldPath:r.canonicalString()}}function Ka(r){return Ke.fromServerFormat(r.fieldPath)}function A0(r){return r instanceof Ne?(function(i){if(i.op==="=="){if(Zv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NAN"}};if(Jv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Zv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NOT_NAN"}};if(Jv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(i.field),op:lC(i.op),value:i.value}}})(r):r instanceof ii?(function(i){const s=i.getFilters().map((l=>A0(l)));return s.length===1?s[0]:{compositeFilter:{op:uC(i.op),filters:s}}})(r):mt(54877,{filter:r})}function cC(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function S0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function b0(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Kr{constructor(t,i,s,l,c=vt.min(),d=vt.min(),p=Ye.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new Kr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class hC{constructor(t){this.yt=t}}function fC(r){const t=sC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Em(t,t.limit,"L"):t}class dC{constructor(){this.Sn=new mC}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(ts.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(ts.min())}updateCollectionGroup(t,i,s){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class mC{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Le(te.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Le(te.comparator)).toArray()}}const hE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},w0=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(w0,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class ro{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ro(0)}static ar(){return new ro(-1)}}const fE="LruGarbageCollector",gC=1048576;function dE([r,t],[i,s]){const l=Vt(r,i);return l===0?Vt(t,s):l}class pC{constructor(t){this.Pr=t,this.buffer=new Le(dE),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();dE(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class yC{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){it(fE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){fo(i)?it(fE,"Ignoring IndexedDB error during garbage collection: ",i):await ho(i)}await this.Ar(3e5)}))}}class _C{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(bh.ce);const s=new pC(i);return this.Vr.forEachTarget(t,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.Vr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(hE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hE):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let s,l,c,d,p,v,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(s=S,p=Date.now(),this.removeTargets(t,s,i)))).next((S=>(c=S,v=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(y=Date.now(),Ga()<=Ot.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${S} documents in `+(y-v)+`ms
Total Duration: ${y-T}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function vC(r,t){return new _C(r,t)}class EC{constructor(){this.changes=new $s((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class TC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class AC{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&Ol(s.mutation,l,wn.empty(),re.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Mt()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Mt()){const l=qs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=Sl();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=qs();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Mt())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,s,l){let c=or();const d=Nl(),p=(function(){return Nl()})();return i.forEach(((v,y)=>{const T=s.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof os)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Ol(T.mutation,y,T.mutation.getFieldMask(),re.now())):d.set(y.key,wn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>p.set(y,new TC(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const s=Nl();let l=new ue(((d,p)=>d-p)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let T=s.get(v)||wn.empty();T=p.applyToLocalView(y,T),s.set(v,T);const S=(l.get(p.batchId)||Mt()).add(v);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,T=v.value,S=a0();T.forEach((D=>{if(!c.has(D)){const G=f0(i.get(D),s.get(D));G!==null&&S.set(D,G),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return X.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return AI(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):e0(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):X.resolve(qs());let p=xl,v=c;return d.next((y=>X.forEach(y,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(T)?X.resolve():this.remoteDocumentCache.getEntry(t,T).next((D=>{v=v.insert(T,D)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Mt()))).next((T=>({batchId:p,changes:s0(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next((s=>{let l=Sl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=Sl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(v=>{const y=(function(S,D){return new Zs(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next((T=>{T.forEach(((S,D)=>{d=d.insert(S,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((v,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,$e.newInvalidDocument(T)))}));let p=Sl();return d.forEach(((v,y)=>{const T=c.get(v);T!==void 0&&Ol(T.mutation,y,wn.empty(),re.now()),Dh(i,y)&&(p=p.insert(v,y))})),p}))}}class SC{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ni(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:fC(l.bundledQuery),readTime:Ni(l.readTime)}})(i)),X.resolve()}}class bC{constructor(){this.overlays=new ue(ct.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const s=qs();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.Lr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),X.resolve()}getOverlaysForCollection(t,i,s){const l=qs(),c=i.length+1,d=new ct(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>s&&l.set(v.getKey(),v)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new ue(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let T=c.get(y.largestBatchId);T===null&&(T=qs(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=qs(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return X.resolve(p)}bt(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(s.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new jI(i,s));let c=this.Lr.get(i);c===void 0&&(c=Mt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(s.key))}}class wC{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class rg{constructor(){this.kr=new Le(ze.Kr),this.qr=new Le(ze.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const s=new ze(t,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Wr(new ze(t,i))}Qr(t,i){t.forEach((s=>this.removeReference(s,i)))}Gr(t){const i=new ct(new te([])),s=new ze(i,t),l=new ze(i,t+1),c=[];return this.qr.forEachInRange([s,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ct(new te([])),s=new ze(i,t),l=new ze(i,t+1);let c=Mt();return this.qr.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new ze(t,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class ze{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ct.comparator(t.key,i.key)||Vt(t.Hr,i.Hr)}static Ur(t,i){return Vt(t.Hr,i.Hr)||ct.comparator(t.key,i.key)}}class RC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Le(ze.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new qI(c,i,s,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new ze(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.Xr(s),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Xm:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new ze(i,0),l=new ze(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Le(Vt);return i.forEach((l=>{const c=new ze(l,0),d=new ze(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{s=s.add(p.Hr)}))})),X.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;ct.isDocumentKey(c)||(c=c.child(""));const d=new ze(new ct(c),0);let p=new Le(Vt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(p=p.add(v.Hr)),!0)}),d),X.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((s=>{const l=this.Zr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Gt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return X.forEach(i.mutations,(l=>{const c=new ze(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,i){const s=new ze(i,0),l=this.Jr.firstAfterOrEqual(s);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class IC{constructor(t){this.ti=t,this.docs=(function(){return new ue(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(t,i){let s=or();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():$e.newInvalidDocument(l))})),X.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=or();const d=i.path,p=new ct(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:T}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||$R(ZR(T),s)<=0||(l.has(T.key)||Dh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,s,l){mt(9500)}ni(t,i){return X.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new CC(this)}getSize(t){return X.resolve(this.size)}}class CC extends EC{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(s)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class DC{constructor(t){this.persistence=t,this.ri=new $s((i=>$m(i)),Wm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new rg,this.targetCount=0,this.oi=ro._r()}forEachTarget(t,i){return this.ri.forEach(((s,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new ro(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const s=this.ri.get(i)||null;return X.resolve(s)}addMatchingKeys(t,i,s){return this.si.$r(i,s),X.resolve()}removeMatchingKeys(t,i,s){this.si.Qr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const s=this.si.jr(i);return X.resolve(s)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class R0{constructor(t,i){this._i={},this.overlays={},this.ai=new bh(0),this.ui=!1,this.ui=!0,this.ci=new wC,this.referenceDelegate=t(this),this.li=new DC(this),this.indexManager=new dC,this.remoteDocumentCache=(function(l){return new IC(l)})((s=>this.referenceDelegate.hi(s))),this.serializer=new hC(i),this.Pi=new SC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new bC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this._i[t.toKey()];return s||(s=new RC(i,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,s){it("MemoryPersistence","Starting transaction:",t);const l=new NC(this.ai.next());return this.referenceDelegate.Ti(),s(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((s=>()=>s.containsKey(t,i))))}}class NC extends tI{constructor(t){super(),this.currentSequenceNumber=t}}class sg{constructor(t){this.persistence=t,this.Ri=new rg,this.Ai=null}static Vi(t){return new sg(t)}get di(){if(this.Ai)return this.Ai;throw mt(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),X.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(s=>{const l=ct.fromPath(s);return this.mi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class dh{constructor(t,i){this.persistence=t,this.fi=new $s((s=>iI(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=vC(this,i)}static Vi(t,i){return new dh(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}pr(t){let i=0;return this.mr(t,(s=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((s,l)=>this.wr(t,s,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(s++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.fi.set(s,t.currentSequenceNumber),X.resolve()}removeReference(t,i,s){return this.fi.set(s,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Yc(t.data.value)),i}wr(t,i,s){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class ag{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Ts=s,this.Is=l}static Es(t,i){let s=Mt(),l=Mt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new ag(t,i.fromCache,s,l)}}class OC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class VC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return y1()?8:eI(tn())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new OC;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,s,l){return s.documentReadCount<this.Vs?(Ga()<=Ot.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Fa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Ga()<=Ot.DEBUG&&it("QueryEngine","Query:",Fa(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(Ga()<=Ot.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Fa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(i))):X.resolve())}gs(t,i){if(eE(i))return X.resolve(null);let s=Di(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Em(i,null,"F"),s=Di(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Mt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((v=>{const y=this.bs(i,p);return this.Ss(i,y,d,v.readTime)?this.gs(t,Em(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,s,l){return eE(i)||l.isEqual(vt.min())?X.resolve(null):this.fs.getDocuments(t,s).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,s,l)?X.resolve(null):(Ga()<=Ot.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Fa(i)),this.Ds(t,d,i,JR(l,xl)).next((p=>p)))}))}bs(t,i){let s=new Le(i0(t));return i.forEach(((l,c)=>{Dh(t,c)&&(s=s.add(c))})),s}Ss(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,s){return Ga()<=Ot.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Fa(i)),this.fs.getDocumentsMatchingQuery(t,i,ts.min(),s)}Ds(t,i,s,l){return this.fs.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const og="LocalStore",MC=3e8;class UC{constructor(t,i,s,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new ue(Vt),this.Fs=new $s((c=>$m(c)),Wm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new AC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function LC(r,t,i,s){return new UC(r,t,i,s)}async function I0(r,t){const i=Tt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let v=Mt();for(const y of l){d.push(y.batchId);for(const T of y.mutations)v=v.add(T.key)}for(const y of c){p.push(y.batchId);for(const T of y.mutations)v=v.add(T.key)}return i.localDocuments.getDocuments(s,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function xC(r,t){const i=Tt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,T){const S=y.batch,D=S.keys();let G=X.resolve();return D.forEach((J=>{G=G.next((()=>T.getEntry(v,J))).next((Z=>{const tt=y.docVersions.get(J);Gt(tt!==null,48541),Z.version.compareTo(tt)<0&&(S.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),T.addEntry(Z)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(v,S)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let v=Mt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function C0(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function PC(r,t){const i=Tt(r),s=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((T,S)=>{const D=l.get(S);if(!D)return;p.push(i.li.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,T.addedDocuments,S))));let G=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?G=G.withResumeToken(Ye.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):T.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(T.resumeToken,s)),l=l.insert(S,G),(function(Z,tt,ft){return Z.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=MC?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(D,G,T)&&p.push(i.li.updateTargetData(c,G))}));let v=or(),y=Mt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(kC(c,d,t.documentUpdates).next((T=>{v=T.Bs,y=T.Ls}))),!s.isEqual(vt.min())){const T=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(T)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=l,c)))}function kC(r,t,i){let s=Mt(),l=Mt();return i.forEach((c=>s=s.add(c))),t.getEntries(r,s).next((c=>{let d=or();return i.forEach(((p,v)=>{const y=c.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(vt.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):it(og,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function zC(r,t){const i=Tt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Xm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function BC(r,t){const i=Tt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.li.getTargetData(s,t).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(s).next((d=>(l=new Kr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.vs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(t,s.targetId)),s}))}async function wm(r,t,i){const s=Tt(r),l=s.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!fo(d))throw d;it(og,`Failed to update sequence numbers for target ${t}: ${d}`)}s.vs=s.vs.remove(t),s.Fs.delete(l.target)}function mE(r,t,i){const s=Tt(r);let l=vt.min(),c=Mt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,T){const S=Tt(v),D=S.Fs.get(T);return D!==void 0?X.resolve(S.vs.get(D)):S.li.getTargetData(y,T)})(s,d,Di(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:Mt()))).next((p=>(qC(s,wI(t),p),{documents:p,ks:c})))))}function qC(r,t,i){let s=r.Ms.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(t,s)}class gE{constructor(){this.activeTargetIds=OI()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class jC{constructor(){this.vo=new gE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,s){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new gE,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class HC{Mo(t){}shutdown(){}}const pE="ConnectivityMonitor";class yE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){it(pE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){it(pE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jc=null;function Rm(){return jc===null?jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():jc++,"0x"+jc.toString(16)}const em="RestConnection",GC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class FC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${s}/databases/${l}`,this.$o=this.databaseId.database===lh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(t,i,s,l,c){const d=Rm(),p=this.Qo(t,i.toUriEncodedString());it(em,`Sending RPC '${t}' ${d}:`,p,s);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,c);const{host:y}=new URL(p),T=oo(y);return this.zo(t,p,v,s,T).then((S=>(it(em,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Ys(em,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",s),S}))}jo(t,i,s,l,c,d){return this.Wo(t,i,s,l,c)}Go(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+co})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const s=GC[t];let l=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class QC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Je="WebChannelConnection",Tl=(r,t,i)=>{r.listen(t,(s=>{try{i(s)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Za extends FC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Za.c_){const t=UT();Tl(t,MT.STAT_EVENT,(i=>{i.stat===dm.PROXY?it(Je,"STAT_EVENT: detected buffering proxy"):i.stat===dm.NOPROXY&&it(Je,"STAT_EVENT: detected no buffering proxy")})),Za.c_=!0}}zo(t,i,s,l,c){const d=Rm();return new Promise(((p,v)=>{const y=new OT;y.setWithCredentials(!0),y.listenOnce(VT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Kc.NO_ERROR:const S=y.getResponseJson();it(Je,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Kc.TIMEOUT:it(Je,`RPC '${t}' ${d} timed out`),v(new nt(F.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const D=y.getStatus();if(it(Je,`RPC '${t}' ${d} failed with status:`,D,"response text:",y.getResponseText()),D>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const J=G?.error;if(J&&J.status&&J.message){const Z=(function(ft){const _t=ft.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(_t)>=0?_t:F.UNKNOWN})(J.status);v(new nt(Z,J.message))}else v(new nt(F.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new nt(F.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{it(Je,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);it(Je,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",T,s,15)}))}T_(t,i,s){const l=Rm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const y=c.join("");it(Je,`Creating RPC '${t}' stream ${l}: ${y}`,p);const T=d.createWebChannel(y,p);this.I_(T);let S=!1,D=!1;const G=new QC({Ho:J=>{D?it(Je,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(S||(it(Je,`Opening RPC '${t}' stream ${l} transport.`),T.open(),S=!0),it(Je,`RPC '${t}' stream ${l} sending:`,J),T.send(J))},Jo:()=>T.close()});return Tl(T,Al.EventType.OPEN,(()=>{D||(it(Je,`RPC '${t}' stream ${l} transport opened.`),G.i_())})),Tl(T,Al.EventType.CLOSE,(()=>{D||(D=!0,it(Je,`RPC '${t}' stream ${l} transport closed`),G.o_(),this.E_(T))})),Tl(T,Al.EventType.ERROR,(J=>{D||(D=!0,Ys(Je,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),G.o_(new nt(F.UNAVAILABLE,"The operation could not be completed")))})),Tl(T,Al.EventType.MESSAGE,(J=>{if(!D){const Z=J.data[0];Gt(!!Z,16349);const tt=Z,ft=tt?.error||tt[0]?.error;if(ft){it(Je,`RPC '${t}' stream ${l} received error:`,ft);const _t=ft.status;let pt=(function(Ct){const C=De[Ct];if(C!==void 0)return m0(C)})(_t),kt=ft.message;_t==="NOT_FOUND"&&kt.includes("database")&&kt.includes("does not exist")&&kt.includes(this.databaseId.database)&&Ys(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),pt===void 0&&(pt=F.INTERNAL,kt="Unknown error status: "+_t+" with message "+ft.message),D=!0,G.o_(new nt(pt,kt)),T.close()}else it(Je,`RPC '${t}' stream ${l} received:`,Z),G.__(Z)}})),Za.u_(),setTimeout((()=>{G.s_()}),0),G}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,s){super.Go(t,i,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return LT()}}function KC(r){return new Za(r)}function nm(){return typeof document<"u"?document:null}function Uh(r){return new ZI(r,!0)}Za.c_=!1;class D0{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=s,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const _E="PersistentStream";class N0{constructor(t,i,s,l,c,d,p,v){this.Ci=t,this.b_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new D0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===F.RESOURCE_EXHAUSTED?(ar(i.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new nt(F.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(_E,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(it(_E,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class YC extends N0{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=tC(this.serializer,t),s=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Ni(d.readTime):vt.min()})(t);return this.listener.J_(i,s)}Z_(t){const i={};i.database=bm(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=_m(v)?{documents:iC(c,v)}:{query:rC(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=y0(c,d.resumeToken);const y=Tm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(vt.min())>0){p.readTime=fh(c,d.snapshotVersion.toTimestamp());const y=Tm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const s=aC(this.serializer,t);s&&(i.labels=s),this.K_(i)}X_(t){const i={};i.database=bm(this.serializer),i.removeTarget=t,this.K_(i)}}class XC extends N0{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=nC(t.writeResults,t.commitTime),s=Ni(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=bm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>eC(this.serializer,s)))};this.K_(i)}}class JC{}class ZC extends JC{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new nt(F.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,Am(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new nt(F.UNKNOWN,c.toString())}))}jo(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,Am(i,s),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new nt(F.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function $C(r,t,i,s){return new ZC(r,t,i,s)}class WC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ar(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xs="RemoteStore";class t2{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{Ws(this)&&(it(Xs,"Restarting streams for network reachability change."),await(async function(v){const y=Tt(v);y.Ea.add(4),await eu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Lh(y)})(this))}))})),this.Va=new WC(s,l)}}async function Lh(r){if(Ws(r))for(const t of r.Ra)await t(!0)}async function eu(r){for(const t of r.Ra)await t(!1)}function O0(r,t){const i=Tt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),hg(i)?cg(i):mo(i).O_()&&ug(i,t))}function lg(r,t){const i=Tt(r),s=mo(i);i.Ia.delete(t),s.O_()&&V0(i,t),i.Ia.size===0&&(s.O_()?s.L_():Ws(i)&&i.Va.set("Unknown"))}function ug(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}mo(r).Z_(t)}function V0(r,t){r.da.$e(t),mo(r).X_(t)}function cg(r){r.da=new KI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),mo(r).start(),r.Va.ua()}function hg(r){return Ws(r)&&!mo(r).x_()&&r.Ia.size>0}function Ws(r){return Tt(r).Ea.size===0}function M0(r){r.da=void 0}async function e2(r){r.Va.set("Online")}async function n2(r){r.Ia.forEach(((t,i)=>{ug(r,t)}))}async function i2(r,t){M0(r),hg(r)?(r.Va.ha(t),cg(r)):r.Va.set("Unknown")}async function r2(r,t,i){if(r.Va.set("Online"),t instanceof p0&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(r,t)}catch(s){it(Xs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await mh(r,s)}else if(t instanceof Zc?r.da.Xe(t):t instanceof g0?r.da.st(t):r.da.tt(t),!i.isEqual(vt.min()))try{const s=await C0(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,y)=>{const T=c.Ia.get(v);if(!T)return;c.Ia.set(v,T.withResumeToken(Ye.EMPTY_BYTE_STRING,T.snapshotVersion)),V0(c,v);const S=new Kr(T.target,v,y,T.sequenceNumber);ug(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){it(Xs,"Failed to raise snapshot:",s),await mh(r,s)}}async function mh(r,t,i){if(!fo(t))throw t;r.Ea.add(1),await eu(r),r.Va.set("Offline"),i||(i=()=>C0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{it(Xs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Lh(r)}))}function U0(r,t){return t().catch((i=>mh(r,i,t)))}async function xh(r){const t=Tt(r),i=rs(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Xm;for(;s2(t);)try{const l=await zC(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,a2(t,l)}catch(l){await mh(t,l)}L0(t)&&x0(t)}function s2(r){return Ws(r)&&r.Ta.length<10}function a2(r,t){r.Ta.push(t);const i=rs(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function L0(r){return Ws(r)&&!rs(r).x_()&&r.Ta.length>0}function x0(r){rs(r).start()}async function o2(r){rs(r).ra()}async function l2(r){const t=rs(r);for(const i of r.Ta)t.ea(i.mutations)}async function u2(r,t,i){const s=r.Ta.shift(),l=eg.from(s,t,i);await U0(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await xh(r)}async function c2(r,t){t&&rs(r).Y_&&await(async function(s,l){if((function(d){return GI(d)&&d!==F.ABORTED})(l.code)){const c=s.Ta.shift();rs(s).B_(),await U0(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await xh(s)}})(r,t),L0(r)&&x0(r)}async function vE(r,t){const i=Tt(r);i.asyncQueue.verifyOperationInProgress(),it(Xs,"RemoteStore received new credentials");const s=Ws(i);i.Ea.add(3),await eu(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Lh(i)}async function h2(r,t){const i=Tt(r);t?(i.Ea.delete(2),await Lh(i)):t||(i.Ea.add(2),await eu(i),i.Va.set("Unknown"))}function mo(r){return r.ma||(r.ma=(function(i,s,l){const c=Tt(i);return c.sa(),new YC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:e2.bind(null,r),Yo:n2.bind(null,r),t_:i2.bind(null,r),J_:r2.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),hg(r)?cg(r):r.Va.set("Unknown")):(await r.ma.stop(),M0(r))}))),r.ma}function rs(r){return r.fa||(r.fa=(function(i,s,l){const c=Tt(i);return c.sa(),new XC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:o2.bind(null,r),t_:c2.bind(null,r),ta:l2.bind(null,r),na:u2.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await xh(r)):(await r.fa.stop(),r.Ta.length>0&&(it(Xs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class fg{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,p=new fg(t,i,d,l,c);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(F.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(r,t){if(ar("AsyncQueue",`${t}: ${r}`),fo(r))return new nt(F.UNAVAILABLE,`${t}: ${r}`);throw r}class $a{static emptySet(t){return new $a(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ct.comparator(i.key,s.key):(i,s)=>ct.comparator(i.key,s.key),this.keyedMap=Sl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof $a)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new $a;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class EE{constructor(){this.ga=new ue(ct.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):mt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class so{constructor(t,i,s,l,c,d,p,v,y){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new so(t,i,$a.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ch(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class f2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class d2{constructor(){this.queries=TE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Tt(i),c=l.queries;l.queries=TE(),c.forEach(((d,p)=>{for(const v of p.ba)v.onError(s)}))})(this,new nt(F.ABORTED,"Firestore shutting down"))}}function TE(){return new $s((r=>n0(r)),Ch)}async function mg(r,t){const i=Tt(r);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(s=2):(c=new f2,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=dg(d,`Initialization of query '${Fa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&pg(i)}async function gg(r,t){const i=Tt(r),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function m2(r,t){const i=Tt(r);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(s=!0);d.wa=l}}s&&pg(i)}function g2(r,t,i){const s=Tt(r),l=s.queries.get(t);if(l)for(const c of l.ba)c.onError(i);s.queries.delete(t)}function pg(r){r.Ca.forEach((t=>{t.next()}))}var Im,AE;(AE=Im||(Im={})).Ma="default",AE.Cache="cache";class yg{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new so(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=so.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Im.Cache}}class P0{constructor(t){this.key=t}}class k0{constructor(t){this.key=t}}class p2{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Mt(),this.mutatedKeys=Mt(),this.eu=i0(t),this.tu=new $a(this.eu)}get nu(){return this.Za}ru(t,i){const s=i?i.iu:new EE,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,S)=>{const D=l.get(T),G=Dh(this.query,S)?S:null,J=!!D&&this.mutatedKeys.has(D.key),Z=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let tt=!1;D&&G?D.data.isEqual(G.data)?J!==Z&&(s.track({type:3,doc:G}),tt=!0):this.su(D,G)||(s.track({type:2,doc:G}),tt=!0,(v&&this.eu(G,v)>0||y&&this.eu(G,y)<0)&&(p=!0)):!D&&G?(s.track({type:0,doc:G}),tt=!0):D&&!G&&(s.track({type:1,doc:D}),tt=!0,(v||y)&&(p=!0)),tt&&(G?(d=d.add(G),c=Z?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,S)=>(function(G,J){const Z=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Vt:tt})}};return Z(G)-Z(J)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(s),l=l??!1;const p=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new so(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new EE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Mt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return t.forEach((s=>{this.Ya.has(s)||i.push(new k0(s))})),this.Ya.forEach((s=>{t.has(s)||i.push(new P0(s))})),i}cu(t){this.Za=t.ks,this.Ya=Mt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return so.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const _g="SyncEngine";class y2{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class _2{constructor(t){this.key=t,this.hu=!1}}class v2{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new $s((p=>n0(p)),Ch),this.Iu=new Map,this.Eu=new Set,this.Ru=new ue(ct.comparator),this.Au=new Map,this.Vu=new rg,this.du={},this.mu=new Map,this.fu=ro.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function E2(r,t,i=!0){const s=G0(r);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await z0(s,t,i,!0),l}async function T2(r,t){const i=G0(r);await z0(i,t,!0,!1)}async function z0(r,t,i,s){const l=await BC(r.localStore,Di(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await A2(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&O0(r.remoteStore,l),p}async function A2(r,t,i,s,l){r.pu=(S,D,G)=>(async function(Z,tt,ft,_t){let pt=tt.view.ru(ft);pt.Ss&&(pt=await mE(Z.localStore,tt.query,!1).then((({documents:C})=>tt.view.ru(C,pt))));const kt=_t&&_t.targetChanges.get(tt.targetId),ee=_t&&_t.targetMismatches.get(tt.targetId)!=null,Ct=tt.view.applyChanges(pt,Z.isPrimaryClient,kt,ee);return bE(Z,tt.targetId,Ct.au),Ct.snapshot})(r,S,D,G);const c=await mE(r.localStore,t,!0),d=new p2(t,c.ks),p=d.ru(c.documents),v=tu.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,v);bE(r,i,y.au);const T=new y2(t,i,d);return r.Tu.set(t,T),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function S2(r,t,i){const s=Tt(r),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!Ch(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await wm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&lg(s.remoteStore,l.targetId),Cm(s,l.targetId)})).catch(ho)):(Cm(s,l.targetId),await wm(s.localStore,l.targetId,!0))}async function b2(r,t){const i=Tt(r),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),lg(i.remoteStore,s.targetId))}async function w2(r,t,i){const s=V2(r);try{const l=await(function(d,p){const v=Tt(d),y=re.now(),T=p.reduce(((G,J)=>G.add(J.key)),Mt());let S,D;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let J=or(),Z=Mt();return v.xs.getEntries(G,T).next((tt=>{J=tt,J.forEach(((ft,_t)=>{_t.isValidDocument()||(Z=Z.add(ft))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,J))).next((tt=>{S=tt;const ft=[];for(const _t of p){const pt=zI(_t,S.get(_t.key).overlayedDocument);pt!=null&&ft.push(new os(_t.key,pt,YT(pt.value.mapValue),sn.exists(!0)))}return v.mutationQueue.addMutationBatch(G,y,ft,p)})).next((tt=>{D=tt;const ft=tt.applyToLocalDocumentSet(S,Z);return v.documentOverlayCache.saveOverlays(G,tt.batchId,ft)}))})).then((()=>({batchId:D.batchId,changes:s0(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,v){let y=d.du[d.currentUser.toKey()];y||(y=new ue(Vt)),y=y.insert(p,v),d.du[d.currentUser.toKey()]=y})(s,l.batchId,i),await nu(s,l.changes),await xh(s.remoteStore)}catch(l){const c=dg(l,"Failed to persist write");i.reject(c)}}async function B0(r,t){const i=Tt(r);try{const s=await PC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Gt(d.hu,14607):l.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await nu(i,s,t)}catch(s){await ho(s)}}function SE(r,t,i){const s=Tt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=Tt(d);v.onlineState=p;let y=!1;v.queries.forEach(((T,S)=>{for(const D of S.ba)D.va(p)&&(y=!0)})),y&&pg(v)})(s.eventManager,t),l.length&&s.Pu.J_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function R2(r,t,i){const s=Tt(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new ue(ct.comparator);d=d.insert(c,$e.newNoDocument(c,vt.min()));const p=Mt().add(c),v=new Mh(vt.min(),new Map,new ue(Vt),d,p);await B0(s,v),s.Ru=s.Ru.remove(c),s.Au.delete(t),vg(s)}else await wm(s.localStore,t,!1).then((()=>Cm(s,t,i))).catch(ho)}async function I2(r,t){const i=Tt(r),s=t.batch.batchId;try{const l=await xC(i.localStore,t);j0(i,s,null),q0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await nu(i,l)}catch(l){await ho(l)}}async function C2(r,t,i){const s=Tt(r);try{const l=await(function(d,p){const v=Tt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return v.mutationQueue.lookupMutationBatch(y,p).next((S=>(Gt(S!==null,37113),T=S.keys(),v.mutationQueue.removeMutationBatch(y,S)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>v.localDocuments.getDocuments(y,T)))}))})(s.localStore,t);j0(s,t,i),q0(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await nu(s,l)}catch(l){await ho(l)}}function q0(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function j0(r,t,i){const s=Tt(r);let l=s.du[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.du[s.currentUser.toKey()]=l}}function Cm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((s=>{r.Vu.containsKey(s)||H0(r,s)}))}function H0(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(lg(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),vg(r))}function bE(r,t,i){for(const s of i)s instanceof P0?(r.Vu.addReference(s.key,t),D2(r,s)):s instanceof k0?(it(_g,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,t),r.Vu.containsKey(s.key)||H0(r,s.key)):mt(19791,{wu:s})}function D2(r,t){const i=t.key,s=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(s)||(it(_g,"New document in limbo: "+i),r.Eu.add(s),vg(r))}function vg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ct(te.fromString(t)),s=r.fu.next();r.Au.set(s,new _2(i)),r.Ru=r.Ru.insert(i,s),O0(r.remoteStore,new Kr(Di(Ih(i.path)),s,"TargetPurposeLimboResolution",bh.ce))}}async function nu(r,t,i){const s=Tt(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,v)=>{d.push(s.pu(v,t,i).then((y=>{if((y||i)&&s.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,T?"current":"not-current")}if(y){l.push(y);const T=ag.Es(v.targetId,y);c.push(T)}})))})),await Promise.all(d),s.Pu.J_(l),await(async function(v,y){const T=Tt(v);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(y,(D=>X.forEach(D.Ts,(G=>T.persistence.referenceDelegate.addReference(S,D.targetId,G))).next((()=>X.forEach(D.Is,(G=>T.persistence.referenceDelegate.removeReference(S,D.targetId,G)))))))))}catch(S){if(!fo(S))throw S;it(og,"Failed to update sequence numbers: "+S)}for(const S of y){const D=S.targetId;if(!S.fromCache){const G=T.vs.get(D),J=G.snapshotVersion,Z=G.withLastLimboFreeSnapshotVersion(J);T.vs=T.vs.insert(D,Z)}}})(s.localStore,c))}async function N2(r,t){const i=Tt(r);if(!i.currentUser.isEqual(t)){it(_g,"User change. New user:",t.toKey());const s=await I0(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new nt(F.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await nu(i,s.Ns)}}function O2(r,t){const i=Tt(r),s=i.Au.get(t);if(s&&s.hu)return Mt().add(s.key);{let l=Mt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function G0(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=B0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=O2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=R2.bind(null,t),t.Pu.J_=m2.bind(null,t.eventManager),t.Pu.yu=g2.bind(null,t.eventManager),t}function V2(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=I2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=C2.bind(null,t),t}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Uh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return LC(this.persistence,new VC,t.initialUser,this.serializer)}Cu(t){return new R0(sg.Vi,this.serializer)}Du(t){return new jC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class M2 extends gh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof dh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new yC(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new R0((s=>dh.Vi(s,i)),this.serializer)}}class Dm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>SE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=N2.bind(null,this.syncEngine),await h2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new d2})()}createDatastore(t){const i=Uh(t.databaseInfo.databaseId),s=KC(t.databaseInfo);return $C(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,p){return new t2(s,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>SE(this.syncEngine,i,0)),(function(){return yE.v()?new yE:new HC})())}createSyncEngine(t,i){return(function(l,c,d,p,v,y,T){const S=new v2(l,c,d,p,v,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Tt(i);it(Xs,"RemoteStore shutting down."),s.Ea.add(5),await eu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dm.provider={build:()=>new Dm};class Eg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ar("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ss="FirestoreClient";class U2{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=l,this.user=Ze.UNAUTHENTICATED,this.clientId=Km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{it(ss,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(it(ss,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=dg(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function im(r,t){r.asyncQueue.verifyOperationInProgress(),it(ss,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await I0(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function wE(r,t){r.asyncQueue.verifyOperationInProgress();const i=await L2(r);it(ss,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((s=>vE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>vE(t.remoteStore,l))),r._onlineComponents=t}async function L2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(ss,"Using user provided OfflineComponentProvider");try{await im(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===F.FAILED_PRECONDITION||l.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ys("Error using user provided cache. Falling back to memory cache: "+i),await im(r,new gh)}}else it(ss,"Using default OfflineComponentProvider"),await im(r,new M2(void 0));return r._offlineComponents}async function F0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(ss,"Using user provided OnlineComponentProvider"),await wE(r,r._uninitializedComponentsProvider._online)):(it(ss,"Using default OnlineComponentProvider"),await wE(r,new Dm))),r._onlineComponents}function x2(r){return F0(r).then((t=>t.syncEngine))}async function ph(r){const t=await F0(r),i=t.eventManager;return i.onListen=E2.bind(null,t.syncEngine),i.onUnlisten=S2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=T2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=b2.bind(null,t.syncEngine),i}function P2(r,t,i,s){const l=new Eg(s),c=new yg(t,l,i);return r.asyncQueue.enqueueAndForget((async()=>mg(await ph(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>gg(await ph(r),c)))}}function k2(r,t,i={}){const s=new ir;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,v,y){const T=new Eg({next:D=>{T.Nu(),d.enqueueAndForget((()=>gg(c,S)));const G=D.docs.has(p);!G&&D.fromCache?y.reject(new nt(F.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&D.fromCache&&v&&v.source==="server"?y.reject(new nt(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(D)},error:D=>y.reject(D)}),S=new yg(Ih(p.path),T,{includeMetadataChanges:!0,Ka:!0});return mg(c,S)})(await ph(r),r.asyncQueue,t,i,s))),s.promise}function z2(r,t,i={}){const s=new ir;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,v,y){const T=new Eg({next:D=>{T.Nu(),d.enqueueAndForget((()=>gg(c,S))),D.fromCache&&v.source==="server"?y.reject(new nt(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(D)},error:D=>y.reject(D)}),S=new yg(p,T,{includeMetadataChanges:!0,Ka:!0});return mg(c,S)})(await ph(r),r.asyncQueue,t,i,s))),s.promise}function B2(r,t){const i=new ir;return r.asyncQueue.enqueueAndForget((async()=>w2(await x2(r),t,i))),i.promise}function Q0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const q2="ComponentProvider",RE=new Map;function j2(r,t,i,s,l){return new aI(r,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Q0(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,s)}const K0="firestore.googleapis.com",IE=!0;class CE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new nt(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=K0,this.ssl=IE}else this.host=t.host,this.ssl=t.ssl??IE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=w0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<gC)throw new nt(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}XR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Q0(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new nt(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new nt(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new nt(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class iu{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new nt(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new zR;switch(s.type){case"firstParty":return new HR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new nt(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=RE.get(i);s&&(it(q2,"Removing Datastore"),RE.delete(i),s.terminate())})(this),Promise.resolve()}}function H2(r,t,i,s={}){r=We(r,iu);const l=oo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(HE(`https://${p}`),GE("Firestore",!0)),c.host!==K0&&c.host!==p&&Ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:l,emulatorOptions:s};if(!Gs(v,d)&&(r._setSettings(v),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=Ze.MOCK_USER;else{y=l1(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new nt(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ze(S)}r._authCredentials=new BR(new PT(y,T))}}class ur{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ur(this.firestore,t,this._query)}}class fe{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fe(this.firestore,t,this._key)}toJSON(){return{type:fe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if($l(i,fe._jsonSchema))return new fe(t,s||null,new ct(te.fromString(i.referencePath)))}}fe._jsonSchemaVersion="firestore/documentReference/1.0",fe._jsonSchema={type:Oe("string",fe._jsonSchemaVersion),referencePath:Oe("string")};class Wr extends ur{constructor(t,i,s){super(t,i,Ih(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fe(this.firestore,null,new ct(t))}withConverter(t){return new Wr(this.firestore,t,this._path)}}function ei(r,t,...i){if(r=_e(r),Ym("collection","path",t),r instanceof iu){const s=te.fromString(t,...i);return qv(s),new Wr(r,null,s)}{if(!(r instanceof fe||r instanceof Wr))throw new nt(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...i));return qv(s),new Wr(r.firestore,null,s)}}function G2(r,t){if(r=We(r,iu),Ym("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new nt(F.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ur(r,null,(function(s){return new Zs(te.emptyPath(),s)})(t))}function ri(r,t,...i){if(r=_e(r),arguments.length===1&&(t=Km.newId()),Ym("doc","path",t),r instanceof iu){const s=te.fromString(t,...i);return Bv(s),new fe(r,null,new ct(s))}{if(!(r instanceof fe||r instanceof Wr))throw new nt(F.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...i));return Bv(s),new fe(r.firestore,r instanceof Wr?r.converter:null,new ct(s))}}const DE="AsyncQueue";class NE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new D0(this,"async_queue_retry"),this._c=()=>{const s=nm();s&&it(DE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=nm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=nm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ir;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!fo(t))throw t;it(DE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,ar("INTERNAL UNHANDLED ERROR: ",OE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=fg.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&mt(47125,{Pc:OE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function OE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Ui extends iu{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new NE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new NE(t),this._firestoreClient=void 0,await t}}}function F2(r,t){const i=typeof r=="object"?r:YE(),s=typeof r=="string"?r:lh,l=Lm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=a1("firestore");c&&H2(l,...c)}return l}function ru(r){if(r._terminated)throw new nt(F.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Q2(r),r._firestoreClient}function Q2(r){const t=r._freezeSettings(),i=j2(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new U2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Bn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bn(Ye.fromBase64String(t))}catch(i){throw new nt(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Bn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if($l(t,Bn._jsonSchema))return Bn.fromBase64String(t.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Oe("string",Bn._jsonSchemaVersion),bytes:Oe("string")};class Ph{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new nt(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class kh{constructor(t){this._methodName=t}}class Oi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new nt(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new nt(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(t){if($l(t,Oi._jsonSchema))return new Oi(t.latitude,t.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Oe("string",Oi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class ni{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if($l(t,ni._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ni(t.vectorValues);throw new nt(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:Oe("string",ni._jsonSchemaVersion),vectorValues:Oe("object")};const K2=/^__.*__$/;class Y2{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new os(t,this.data,this.fieldMask,i,this.fieldTransforms):new Wl(t,this.data,i,this.fieldTransforms)}}class Y0{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new os(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function X0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{dataSource:r})}}class Tg{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Tg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const i=this.path?.child(t),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return yh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(X0(this.dataSource)&&K2.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class X2{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Uh(t)}createContext(t,i,s,l=!1){return new Tg({dataSource:t,methodName:i,targetDoc:s,path:Ke.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function su(r){const t=r._freezeSettings(),i=Uh(r._databaseId);return new X2(r._databaseId,!!t.ignoreUndefinedProperties,i)}function Ag(r,t,i,s,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,l);bg("Data must be an object, but it was:",d,s);const p=$0(s,d);let v,y;if(c.merge)v=new wn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const D=Js(t,S,i);if(!d.contains(D))throw new nt(F.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);eA(T,D)||T.push(D)}v=new wn(T),y=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,y=d.fieldTransforms;return new Y2(new gn(p),v,y)}class zh extends kh{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof zh}}class Sg extends kh{_toFieldTransform(t){return new LI(t.path,new ql)}isEqual(t){return t instanceof Sg}}function J0(r,t,i,s){const l=r.createContext(1,t,i);bg("Data must be an object, but it was:",l,s);const c=[],d=gn.empty();as(s,((v,y)=>{const T=tA(t,v,i);y=_e(y);const S=l.childContextForFieldPath(T);if(y instanceof zh)c.push(T);else{const D=au(y,S);D!=null&&(c.push(T),d.set(T,D))}}));const p=new wn(c);return new Y0(d,p,l.fieldTransforms)}function Z0(r,t,i,s,l,c){const d=r.createContext(1,t,i),p=[Js(t,s,i)],v=[l];if(c.length%2!=0)throw new nt(F.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)p.push(Js(t,c[D])),v.push(c[D+1]);const y=[],T=gn.empty();for(let D=p.length-1;D>=0;--D)if(!eA(y,p[D])){const G=p[D];let J=v[D];J=_e(J);const Z=d.childContextForFieldPath(G);if(J instanceof zh)y.push(G);else{const tt=au(J,Z);tt!=null&&(y.push(G),T.set(G,tt))}}const S=new wn(y);return new Y0(T,S,d.fieldTransforms)}function J2(r,t,i,s=!1){return au(i,r.createContext(s?4:3,t))}function au(r,t){if(W0(r=_e(r)))return bg("Unsupported field value:",t,r),$0(r,t);if(r instanceof kh)return(function(s,l){if(!X0(l.dataSource))throw l.createError(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const p of s){let v=au(p,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(s,l){if((s=_e(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return VI(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=re.fromDate(s);return{timestampValue:fh(l.serializer,c)}}if(s instanceof re){const c=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:fh(l.serializer,c)}}if(s instanceof Oi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:y0(l.serializer,s._byteString)};if(s instanceof fe){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ig(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof ni)return(function(d,p){const v=d instanceof ni?d.toArray():d;return{mapValue:{fields:{[QT]:{stringValue:KT},[uh]:{arrayValue:{values:v.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return tg(p.serializer,T)}))}}}}}})(s,l);if(b0(s))return s._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Sh(s)}`)})(r,t)}function $0(r,t){const i={};return BT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):as(r,((s,l)=>{const c=au(l,t.childContextForField(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function W0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof Oi||r instanceof Bn||r instanceof fe||r instanceof kh||r instanceof ni||b0(r))}function bg(r,t,i){if(!W0(i)||!kT(i)){const s=Sh(i);throw s==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+s)}}function Js(r,t,i){if((t=_e(t))instanceof Ph)return t._internalPath;if(typeof t=="string")return tA(r,t);throw yh("Field path arguments must be of type string or ",r,!1,void 0,i)}const Z2=new RegExp("[~\\*/\\[\\]]");function tA(r,t,i){if(t.search(Z2)>=0)throw yh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Ph(...t.split("."))._internalPath}catch{throw yh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function yh(r,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${s}`),d&&(v+=` in document ${l}`),v+=")"),new nt(F.INVALID_ARGUMENT,p+r+v)}function eA(r,t){return r.some((i=>i.isEqual(t)))}class $2{convertValue(t,i="none"){switch(is(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ns(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return as(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[uh].arrayValue?.values?.map((s=>ye(s.doubleValue)));return new ni(i)}convertGeoPoint(t){return new Oi(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Rh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Pl(t));default:return null}}convertTimestamp(t){const i=es(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=te.fromString(t);Gt(S0(s),9688,{name:t});const l=new kl(s.get(1),s.get(3)),c=new ct(s.popFirst(5));return l.isEqual(i)||ar(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class wg extends $2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new fe(this.firestore,null,i)}}function an(){return new Sg("serverTimestamp")}const VE="@firebase/firestore",ME="4.12.0";function UE(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class nA{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new W2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Js("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class W2 extends nA{data(){return super.data()}}function iA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new nt(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rg{}class rA extends Rg{}function ao(r,t,...i){let s=[];t instanceof Rg&&s.push(t),s=s.concat(i),(function(c){const d=c.filter((v=>v instanceof Ig)).length,p=c.filter((v=>v instanceof Bh)).length;if(d>1||d>0&&p>0)throw new nt(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Bh extends rA{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new Bh(t,i,s)}_apply(t){const i=this._parse(t);return sA(t._query,i),new ur(t.firestore,t.converter,vm(t._query,i))}_parse(t){const i=su(t.firestore);return(function(c,d,p,v,y,T,S){let D;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new nt(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){xE(S,T);const J=[];for(const Z of S)J.push(LE(v,c,Z));D={arrayValue:{values:J}}}else D=LE(v,c,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||xE(S,T),D=J2(p,d,S,T==="in"||T==="not-in");return Ne.create(y,T,D)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function Gl(r,t,i){const s=t,l=Js("where",r);return Bh._create(l,s,i)}class Ig extends Rg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Ig(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ii.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const v of p)sA(d,v),d=vm(d,v)})(t._query,i),new ur(t.firestore,t.converter,vm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cg extends rA{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Cg(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new nt(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new nt(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bl(c,d)})(t._query,this._field,this._direction);return new ur(t.firestore,t.converter,bI(t._query,i))}}function Dg(r,t="asc"){const i=t,s=Js("orderBy",r);return Cg._create(s,i)}function LE(r,t,i){if(typeof(i=_e(i))=="string"){if(i==="")throw new nt(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!e0(t)&&i.indexOf("/")!==-1)throw new nt(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(te.fromString(i));if(!ct.isDocumentKey(s))throw new nt(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Xv(r,new ct(s))}if(i instanceof fe)return Xv(r,i._key);throw new nt(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sh(i)}.`)}function xE(r,t){if(!Array.isArray(r)||r.length===0)throw new nt(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function sA(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new nt(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new nt(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function Ng(r,t,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,s}class wl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class js extends nA{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(Js("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=js._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}js._jsonSchemaVersion="firestore/documentSnapshot/1.0",js._jsonSchema={type:Oe("string",js._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class $c extends js{data(t={}){return super.data(t)}}class Hs{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new wl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new $c(this._firestore,this._userDataWriter,s.key,s,new wl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new nt(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new $c(l._firestore,l._userDataWriter,p.doc.key,p.doc,new wl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new $c(l._firestore,l._userDataWriter,p.doc.key,p.doc,new wl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:tD(p.type),doc:v,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Hs._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function tD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:r})}}Hs._jsonSchemaVersion="firestore/querySnapshot/1.0",Hs._jsonSchema={type:Oe("string",Hs._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class eD{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=su(t)}set(t,i,s){this._verifyNotCommitted();const l=rm(t,this._firestore),c=Ng(l.converter,i,s),d=Ag(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,s);return this._mutations.push(d.toMutation(l._key,sn.none())),this}update(t,i,s,...l){this._verifyNotCommitted();const c=rm(t,this._firestore);let d;return d=typeof(i=_e(i))=="string"||i instanceof Ph?Z0(this._dataReader,"WriteBatch.update",c._key,i,s,l):J0(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,sn.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=rm(t,this._firestore);return this._mutations=this._mutations.concat(new Vh(i._key,sn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new nt(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rm(r,t){if((r=_e(r)).firestore!==t)throw new nt(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function aA(r){r=We(r,fe);const t=We(r.firestore,Ui),i=ru(t);return k2(i,r._key).then((s=>oA(t,r,s)))}function Vl(r){r=We(r,ur);const t=We(r.firestore,Ui),i=ru(t),s=new wg(t);return iA(r._query),z2(i,r._query).then((l=>new Hs(t,s,r,l)))}function Og(r,t,i){r=We(r,fe);const s=We(r.firestore,Ui),l=Ng(r.converter,t,i),c=su(s);return ou(s,[Ag(c,"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,sn.none())])}function Fl(r,t,i,...s){r=We(r,fe);const l=We(r.firestore,Ui),c=su(l);let d;return d=typeof(t=_e(t))=="string"||t instanceof Ph?Z0(c,"updateDoc",r._key,t,i,s):J0(c,"updateDoc",r._key,t),ou(l,[d.toMutation(r._key,sn.exists(!0))])}function nD(r){return ou(We(r.firestore,Ui),[new Vh(r._key,sn.none())])}function Vg(r,t){const i=We(r.firestore,Ui),s=ri(r),l=Ng(r.converter,t),c=su(r.firestore);return ou(i,[Ag(c,"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,sn.exists(!1))]).then((()=>s))}function _h(r,...t){r=_e(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||UE(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(UE(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof fe)d=We(r.firestore,Ui),p=Ih(r._key.path),c={next:y=>{t[s]&&t[s](oA(d,r,y))},error:t[s+1],complete:t[s+2]};else{const y=We(r,ur);d=We(y.firestore,Ui),p=y._query;const T=new wg(d);c={next:S=>{t[s]&&t[s](new Hs(d,T,y,S))},error:t[s+1],complete:t[s+2]},iA(r._query)}const v=ru(d);return P2(v,p,l,c)}function ou(r,t){const i=ru(r);return B2(i,t)}function oA(r,t,i){const s=i.docs.get(t._key),l=new wg(r);return new js(r,l,t._key,s,new wl(i.hasPendingWrites,i.fromCache),t.converter)}function Nm(r){return r=We(r,Ui),ru(r),new eD(r,(t=>ou(r,t)))}(function(t,i=!0){kR(lo),Wa(new Fs("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new Ui(new qR(s.getProvider("auth-internal")),new GR(d,s.getProvider("app-check-internal")),oI(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Jr(VE,ME,t),Jr(VE,ME,"esm2020")})();const iD={apiKey:"AIzaSyCCCZM-yAJhKmZ0fvnZAi86PNMFfXTD5v8",authDomain:"listapp-52494.firebaseapp.com",projectId:"listapp-52494",storageBucket:"listapp-52494.firebasestorage.app",messagingSenderId:"151979640665",appId:"1:151979640665:web:d3898a479a200e615cee48"},lA=KE(iD),se=F2(lA),Ml=UR(lA),Om=new tr;Om.setCustomParameters({prompt:"select_account"});async function uA(r){const t=ri(se,"users",r.uid),i=await aA(t),s={uid:r.uid,email:r.email??"",emailLower:(r.email??"").toLowerCase(),displayName:r.displayName??"Utente",photoURL:r.photoURL??"",lastSeenAt:an()};if(!i.exists()){await Og(t,{...s,createdAt:an()});return}await Fl(t,s)}async function rD(){await vw(Ml,vT);try{const r=await jw(Ml,Om);await uA(r.user)}catch{await Yw(Ml,Om)}}function sD(){return Sw(Ml)}async function aD(r){r&&await uA(r)}async function oD(r,t){const i=t.trim();if(!i)throw new Error("Inserisci un nome spazio.");const s=await Vg(ei(se,"spaces"),{name:i,ownerId:r.uid,createdAt:an(),updatedAt:an()});await Og(ri(se,"spaces",s.id,"members",r.uid),{uid:r.uid,role:"owner",email:r.email??"",emailLower:(r.email??"").toLowerCase(),displayName:r.displayName??"Owner",addedAt:an()})}async function lD(r,t){const i=t.trim().toLowerCase();if(!i)throw new Error("Inserisci una email valida.");const s=ao(ei(se,"users"),Gl("emailLower","==",i)),l=await Vl(s);if(l.empty)throw new Error("Utente non trovato. Deve fare almeno un login prima.");const c=l.docs[0];await Og(ri(se,"spaces",r,"members",c.id),{uid:c.id,role:"editor",email:c.data().email??"",emailLower:i,displayName:c.data().displayName??"Editor",addedAt:an()})}async function uD(r,t,i){const s=i.trim();if(!s)throw new Error("Inserisci un nome lista.");await Vg(ei(se,"lists"),{name:s,spaceId:t,createdBy:r.uid,createdAt:an(),updatedAt:an()})}async function cD(r,t,i){const s=i.trim();if(!s)throw new Error("Inserisci un elemento.");await Vg(ei(se,"lists",t,"items"),{text:s,completed:!1,completedAt:null,createdBy:r.uid,createdAt:an(),updatedAt:an()}),await Fl(ri(se,"lists",t),{updatedAt:an()})}async function hD(r,t,i){await Fl(ri(se,"lists",r,"items",t),{completed:i,completedAt:i?an():null,updatedAt:an()}),await Fl(ri(se,"lists",r),{updatedAt:an()})}async function fD(r,t){await nD(ri(se,"lists",r,"items",t)),await Fl(ri(se,"lists",r),{updatedAt:an()})}async function dD(r){const t=ei(se,"lists",r,"items"),i=await Vl(t),s=Nm(se);i.docs.forEach(l=>s.delete(l.ref)),s.delete(ri(se,"lists",r)),await s.commit()}async function mD(r){const t=await Vl(ei(se,"spaces",r,"members")),i=await Vl(ao(ei(se,"lists"),Gl("spaceId","==",r)));for(const l of i.docs){const c=await Vl(ei(se,"lists",l.id,"items")),d=Nm(se);c.docs.forEach(p=>d.delete(p.ref)),d.delete(l.ref),await d.commit()}const s=Nm(se);t.docs.forEach(l=>s.delete(l.ref)),s.delete(ri(se,"spaces",r)),await s.commit()}function gD(r,t,i){const s=new Map,l=new Map,c=()=>{const S=[...new Map([...s,...l]).values()].sort((D,G)=>{const J=D?.updatedAt?.seconds??0;return(G?.updatedAt?.seconds??0)-J});t(S)},d=ao(G2(se,"members"),Gl("uid","==",r),Dg("addedAt","desc")),p=ao(ei(se,"spaces"),Gl("ownerId","==",r)),v=_h(d,async T=>{const S=T.docs.map(J=>J.ref.parent.parent).filter(Boolean),D=[...new Map(S.map(J=>[J.path,J])).values()],G=await Promise.all(D.map(async J=>{const Z=await aA(J);return Z.exists()?{id:Z.id,...Z.data()}:null}));s.clear(),G.filter(Boolean).forEach(J=>s.set(J.id,J)),c()},i),y=_h(p,T=>{l.clear(),T.docs.forEach(S=>l.set(S.id,{id:S.id,...S.data()})),c()},i);return()=>{v(),y()}}function pD(r,t,i){const s=ao(ei(se,"lists"),Gl("spaceId","==",r),Dg("updatedAt","desc"));return _h(s,l=>t(l.docs.map(c=>({id:c.id,...c.data()}))),i)}function yD(r,t,i){const s=ao(ei(se,"lists",r,"items"),Dg("createdAt","asc"));return _h(s,l=>t(l.docs.map(c=>({id:c.id,...c.data()}))),i)}function _D(){const[r,t]=Ce.useState(null),[i,s]=Ce.useState(!0),[l,c]=Ce.useState([]),[d,p]=Ce.useState(""),[v,y]=Ce.useState([]),[T,S]=Ce.useState(""),[D,G]=Ce.useState([]),[J,Z]=Ce.useState(""),[tt,ft]=Ce.useState(!1),[_t,pt]=Ce.useState(""),[kt,ee]=Ce.useState(""),[Ct,C]=Ce.useState(""),[b,I]=Ce.useState("");Ce.useEffect(()=>Aw(Ml,at=>{t(at),at&&aD(at).catch(B=>Z(B.message)),s(!1)}),[]),Ce.useEffect(()=>{if(!r){c([]),p("");return}const at=gD(r.uid,B=>{Z(""),c(B),p($=>$&&B.some(lt=>lt.id===$)?$:B[0]?.id??"")},B=>Z(B.message));return()=>at()},[r]),Ce.useEffect(()=>{if(!d){y([]),S("");return}const at=pD(d,B=>{Z(""),y(B),S($=>$&&B.some(lt=>lt.id===$)?$:B[0]?.id??"")},B=>Z(B.message));return()=>at()},[d]),Ce.useEffect(()=>{if(!T){G([]);return}const at=yD(T,B=>{Z(""),G(B)},B=>Z(B.message));return()=>at()},[T]);const M=Ce.useMemo(()=>l.find(at=>at.id===d)??null,[l,d]),N=Ce.useMemo(()=>v.find(at=>at.id===T)??null,[v,T]),L=D.filter(at=>at.completed).length,w=M?.ownerId===r?.uid;async function Lt(at){Z(""),ft(!0);try{await at()}catch(B){Z(B.message||"Errore inatteso")}finally{ft(!1)}}return i?ht.jsx("div",{className:"center",children:"Caricamento..."}):r?ht.jsxs("main",{className:"layout",children:[ht.jsxs("header",{className:"topbar",children:[ht.jsxs("div",{children:[ht.jsx("h1",{children:"Shared Lists"}),ht.jsxs("p",{children:[r.displayName," | ",r.email]})]}),ht.jsx("button",{className:"ghost",onClick:()=>sD(),children:"Logout"})]}),ht.jsxs("section",{className:"panel",children:[ht.jsx("h2",{children:"Spazi condivisi (cartelle)"}),ht.jsxs("div",{className:"row",children:[ht.jsx("input",{value:_t,onChange:at=>pt(at.target.value),placeholder:"Es. Casa con Luca"}),ht.jsx("button",{disabled:tt||!_t.trim(),onClick:()=>Lt(async()=>{await oD(r,_t),pt("")}),children:"Crea spazio"})]}),ht.jsx("div",{className:"chips",children:l.map(at=>ht.jsx("button",{className:at.id===d?"chip active":"chip",onClick:()=>p(at.id),children:at.name},at.id))})]}),M?ht.jsxs("section",{className:"panel",children:[ht.jsxs("div",{className:"titleRow",children:[ht.jsxs("h2",{children:["Condividi spazio: ",M.name]}),w?ht.jsx("button",{className:"danger",disabled:tt,onClick:()=>Lt(async()=>{window.confirm("Eliminare questo spazio e tutte le sue liste?")&&(await mD(M.id),p(""),S(""))}),children:"Elimina spazio"}):null]}),w?ht.jsxs(ht.Fragment,{children:[ht.jsxs("div",{className:"row",children:[ht.jsx("input",{value:kt,onChange:at=>ee(at.target.value),placeholder:"email utente da invitare",type:"email"}),ht.jsx("button",{disabled:tt||!kt.trim(),onClick:()=>Lt(async()=>{await lD(M.id,kt),ee("")}),children:"Invita"})]}),ht.jsx("p",{className:"hint",children:"Nota: l'utente invitato deve aver fatto almeno un login all'app."})]}):ht.jsx("p",{className:"hint",children:"Solo il proprietario puo invitare persone o eliminare lo spazio."})]}):null,M?ht.jsxs("section",{className:"panel",children:[ht.jsx("h2",{children:"Liste nello spazio"}),ht.jsxs("div",{className:"row",children:[ht.jsx("input",{value:Ct,onChange:at=>C(at.target.value),placeholder:"Es. Lista spesa"}),ht.jsx("button",{disabled:tt||!Ct.trim(),onClick:()=>Lt(async()=>{await uD(r,M.id,Ct),C("")}),children:"Nuova lista"})]}),ht.jsx("div",{className:"chips",children:v.map(at=>ht.jsx("button",{className:at.id===T?"chip active":"chip",onClick:()=>S(at.id),children:at.name},at.id))})]}):null,N?ht.jsxs("section",{className:"panel",children:[ht.jsxs("div",{className:"titleRow",children:[ht.jsxs("h2",{children:[N.name," (",L,"/",D.length,")"]}),ht.jsx("button",{className:"danger",disabled:tt,onClick:()=>Lt(async()=>{window.confirm("Eliminare questa lista e tutti i suoi elementi?")&&(await dD(N.id),S(""))}),children:"Elimina lista"})]}),ht.jsxs("div",{className:"row",children:[ht.jsx("input",{value:b,onChange:at=>I(at.target.value),placeholder:"Aggiungi elemento"}),ht.jsx("button",{disabled:tt||!b.trim(),onClick:()=>Lt(async()=>{await cD(r,N.id,b),I("")}),children:"Aggiungi"})]}),ht.jsx("ul",{className:"items",children:D.map(at=>ht.jsxs("li",{children:[ht.jsxs("label",{children:[ht.jsx("input",{type:"checkbox",checked:!!at.completed,onChange:B=>Lt(()=>hD(N.id,at.id,B.target.checked))}),ht.jsx("span",{className:at.completed?"done":"",children:at.text})]}),ht.jsx("button",{className:"danger small",disabled:tt,onClick:()=>Lt(async()=>{await fD(N.id,at.id)}),children:"Elimina"})]},at.id))})]}):null,J?ht.jsx("p",{className:"error",children:J}):null]}):ht.jsxs("main",{className:"auth",children:[ht.jsx("h1",{children:"Shared Lists"}),ht.jsx("p",{children:"Liste condivise in tempo reale, installabili su iPhone come web app."}),ht.jsx("button",{onClick:()=>Lt(()=>rD()),disabled:tt,children:"Entra con Google"}),J?ht.jsx("p",{className:"error",children:J}):null]})}ZS.createRoot(document.getElementById("root")).render(ht.jsx(GS.StrictMode,{children:ht.jsx(_D,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").catch(()=>{})});
